var ou=Object.create;var wn=Object.defineProperty;var cu=Object.getOwnPropertyDescriptor;var ru=Object.getOwnPropertyNames;var au=Object.getPrototypeOf,uu=Object.prototype.hasOwnProperty;var vs=(P,L)=>()=>(L||P((L={exports:{}}).exports,L),L.exports);var iu=(P,L,U,Y)=>{if(L&&typeof L=="object"||typeof L=="function")for(let F of ru(L))!uu.call(P,F)&&F!==U&&wn(P,F,{get:()=>L[F],enumerable:!(Y=cu(L,F))||Y.enumerable});return P};var Fn=(P,L,U)=>(U=P!=null?ou(au(P)):{},iu(L||!P||!P.__esModule?wn(U,"default",{value:P,enumerable:!0}):U,P));var Vn=vs((Yn,Gn)=>{(function(P){var L=Object.hasOwnProperty,U=Array.isArray?Array.isArray:function(u){return Object.prototype.toString.call(u)==="[object Array]"},Y=10,F=typeof process=="object"&&typeof process.nextTick=="function",J=typeof Symbol=="function",te=typeof Reflect=="object",se=typeof setImmediate=="function",ie=se?setImmediate:setTimeout,ne=J?te&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(l){var u=Object.getOwnPropertyNames(l);return u.push.apply(u,Object.getOwnPropertySymbols(l)),u}:Object.keys;function le(){this._events={},this._conf&&_e.call(this,this._conf)}function _e(l){l&&(this._conf=l,l.delimiter&&(this.delimiter=l.delimiter),l.maxListeners!==P&&(this._maxListeners=l.maxListeners),l.wildcard&&(this.wildcard=l.wildcard),l.newListener&&(this._newListener=l.newListener),l.removeListener&&(this._removeListener=l.removeListener),l.verboseMemoryLeak&&(this.verboseMemoryLeak=l.verboseMemoryLeak),l.ignoreErrors&&(this.ignoreErrors=l.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function pe(l,u){var m="(node) warning: possible EventEmitter memory leak detected. "+l+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(m+=" Event name: "+u+"."),typeof process<"u"&&process.emitWarning){var b=new Error(m);b.name="MaxListenersExceededWarning",b.emitter=this,b.count=l,process.emitWarning(b)}else console.error(m),console.trace&&console.trace()}var Se=function(l,u,m){var b=arguments.length;switch(b){case 0:return[];case 1:return[l];case 2:return[l,u];case 3:return[l,u,m];default:for(var h=new Array(b);b--;)h[b]=arguments[b];return h}};function _t(l,u){for(var m={},b,h=l.length,k=u?u.length:0,B=0;B<h;B++)b=l[B],m[b]=B<k?u[B]:P;return m}function Ke(l,u,m){this._emitter=l,this._target=u,this._listeners={},this._listenersCount=0;var b,h;if((m.on||m.off)&&(b=m.on,h=m.off),u.addEventListener?(b=u.addEventListener,h=u.removeEventListener):u.addListener?(b=u.addListener,h=u.removeListener):u.on&&(b=u.on,h=u.off),!b&&!h)throw Error("target does not implement any known event API");if(typeof b!="function")throw TypeError("on method must be a function");if(typeof h!="function")throw TypeError("off method must be a function");this._on=b,this._off=h;var k=l._observers;k?k.push(this):l._observers=[this]}Object.assign(Ke.prototype,{subscribe:function(l,u,m){var b=this,h=this._target,k=this._emitter,B=this._listeners,I=function(){var o=Se.apply(null,arguments),c={data:o,name:u,original:l};if(m){var H=m.call(h,c);H!==!1&&k.emit.apply(k,[c.name].concat(o));return}k.emit.apply(k,[u].concat(o))};if(B[l])throw Error("Event '"+l+"' is already listening");this._listenersCount++,k._newListener&&k._removeListener&&!b._onNewListener?(this._onNewListener=function(o){o===u&&B[l]===null&&(B[l]=I,b._on.call(h,l,I))},k.on("newListener",this._onNewListener),this._onRemoveListener=function(o){o===u&&!k.hasListeners(o)&&B[l]&&(B[l]=null,b._off.call(h,l,I))},B[l]=null,k.on("removeListener",this._onRemoveListener)):(B[l]=I,b._on.call(h,l,I))},unsubscribe:function(l){var u=this,m=this._listeners,b=this._emitter,h,k,B=this._off,I=this._target,o;if(l&&typeof l!="string")throw TypeError("event must be a string");function c(){u._onNewListener&&(b.off("newListener",u._onNewListener),b.off("removeListener",u._onRemoveListener),u._onNewListener=null,u._onRemoveListener=null);var H=D.call(b,u);b._observers.splice(H,1)}if(l){if(h=m[l],!h)return;B.call(I,l,h),delete m[l],--this._listenersCount||c()}else{for(k=ne(m),o=k.length;o-- >0;)l=k[o],B.call(I,l,m[l]);this._listeners={},this._listenersCount=0,c()}}});function ye(l,u,m,b){var h=Object.assign({},u);if(!l)return h;if(typeof l!="object")throw TypeError("options must be an object");var k=Object.keys(l),B=k.length,I,o,c;function H(O){throw Error('Invalid "'+I+'" option value'+(O?". Reason: "+O:""))}for(var ue=0;ue<B;ue++){if(I=k[ue],!b&&!L.call(u,I))throw Error('Unknown "'+I+'" option');o=l[I],o!==P&&(c=m[I],h[I]=c?c(o,H):o)}return h}function xe(l,u){return(typeof l!="function"||!l.hasOwnProperty("prototype"))&&u("value must be a constructor"),l}function he(l){var u="value must be type of "+l.join("|"),m=l.length,b=l[0],h=l[1];return m===1?function(k,B){if(typeof k===b)return k;B(u)}:m===2?function(k,B){var I=typeof k;if(I===b||I===h)return k;B(u)}:function(k,B){for(var I=typeof k,o=m;o-- >0;)if(I===l[o])return k;B(u)}}var Je=he(["function"]),et=he(["object","function"]);function ot(l,u,m){var b,h,k=0,B,I=new l(function(o,c,H){m=ye(m,{timeout:0,overload:!1},{timeout:function(W,Oe){return W*=1,(typeof W!="number"||W<0||!Number.isFinite(W))&&Oe("timeout must be a positive number"),W}}),b=!m.overload&&typeof l.prototype.cancel=="function"&&typeof H=="function";function ue(){h&&(h=null),k&&(clearTimeout(k),k=0)}var O=function(W){ue(),o(W)},A=function(W){ue(),c(W)};b?u(O,A,H):(h=[function(W){A(W||Error("canceled"))}],u(O,A,function(W){if(B)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof W!="function")throw TypeError("onCancel callback must be a function");h.push(W)}),B=!0),m.timeout>0&&(k=setTimeout(function(){var W=Error("timeout");W.code="ETIMEDOUT",k=0,I.cancel(W),c(W)},m.timeout))});return b||(I.cancel=function(o){if(h){for(var c=h.length,H=1;H<c;H++)h[H](o);h[0](o),h=null}}),I}function D(l){var u=this._observers;if(!u)return-1;for(var m=u.length,b=0;b<m;b++)if(u[b]._target===l)return b;return-1}function C(l,u,m,b,h){if(!m)return null;if(b===0){var k=typeof u;if(k==="string"){var B,I,o=0,c=0,H=this.delimiter,ue=H.length;if((I=u.indexOf(H))!==-1){B=new Array(5);do B[o++]=u.slice(c,I),c=I+ue;while((I=u.indexOf(H,c))!==-1);B[o++]=u.slice(c),u=B,h=o}else u=[u],h=1}else k==="object"?h=u.length:(u=[u],h=1)}var O=null,A,W,Oe,T,N,Ae=u[b],Tt=u[b+1],He,Re;if(b===h)m._listeners&&(typeof m._listeners=="function"?(l&&l.push(m._listeners),O=[m]):(l&&l.push.apply(l,m._listeners),O=[m]));else if(Ae==="*"){for(He=ne(m),I=He.length;I-- >0;)A=He[I],A!=="_listeners"&&(Re=C(l,u,m[A],b+1,h),Re&&(O?O.push.apply(O,Re):O=Re));return O}else if(Ae==="**"){for(N=b+1===h||b+2===h&&Tt==="*",N&&m._listeners&&(O=C(l,u,m,h,h)),He=ne(m),I=He.length;I-- >0;)A=He[I],A!=="_listeners"&&(A==="*"||A==="**"?(m[A]._listeners&&!N&&(Re=C(l,u,m[A],h,h),Re&&(O?O.push.apply(O,Re):O=Re)),Re=C(l,u,m[A],b,h)):A===Tt?Re=C(l,u,m[A],b+2,h):Re=C(l,u,m[A],b,h),Re&&(O?O.push.apply(O,Re):O=Re));return O}else m[Ae]&&(O=C(l,u,m[Ae],b+1,h));if(W=m["*"],W&&C(l,u,W,b+1,h),Oe=m["**"],Oe)if(b<h)for(Oe._listeners&&C(l,u,Oe,h,h),He=ne(Oe),I=He.length;I-- >0;)A=He[I],A!=="_listeners"&&(A===Tt?C(l,u,Oe[A],b+2,h):A===Ae?C(l,u,Oe[A],b+1,h):(T={},T[A]=Oe[A],C(l,u,{"**":T},b+1,h)));else Oe._listeners?C(l,u,Oe,h,h):Oe["*"]&&Oe["*"]._listeners&&C(l,u,Oe["*"],h,h);return O}function R(l,u,m){var b=0,h=0,k,B=this.delimiter,I=B.length,o;if(typeof l=="string")if((k=l.indexOf(B))!==-1){o=new Array(5);do o[b++]=l.slice(h,k),h=k+I;while((k=l.indexOf(B,h))!==-1);o[b++]=l.slice(h)}else o=[l],b=1;else o=l,b=l.length;if(b>1){for(k=0;k+1<b;k++)if(o[k]==="**"&&o[k+1]==="**")return}var c=this.listenerTree,H;for(k=0;k<b;k++)if(H=o[k],c=c[H]||(c[H]={}),k===b-1)return c._listeners?(typeof c._listeners=="function"&&(c._listeners=[c._listeners]),m?c._listeners.unshift(u):c._listeners.push(u),!c._listeners.warned&&this._maxListeners>0&&c._listeners.length>this._maxListeners&&(c._listeners.warned=!0,pe.call(this,c._listeners.length,H))):c._listeners=u,!0;return!0}function G(l,u,m,b){for(var h=ne(l),k=h.length,B,I,o,c=l._listeners,H;k-- >0;)I=h[k],B=l[I],I==="_listeners"?o=m:o=m?m.concat(I):[I],H=b||typeof I=="symbol",c&&u.push(H?o:o.join(this.delimiter)),typeof B=="object"&&G.call(this,B,u,o,H);return u}function V(l){for(var u=ne(l),m=u.length,b,h,k;m-- >0;)h=u[m],b=l[h],b&&(k=!0,h!=="_listeners"&&!V(b)&&delete l[h]);return k}function Z(l,u,m){this.emitter=l,this.event=u,this.listener=m}Z.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function q(l,u,m){if(m===!0)h=!0;else if(m===!1)b=!0;else{if(!m||typeof m!="object")throw TypeError("options should be an object or true");var b=m.async,h=m.promisify,k=m.nextTick,B=m.objectify}if(b||k||h){var I=u,o=u._origin||u;if(k&&!F)throw Error("process.nextTick is not supported");h===P&&(h=u.constructor.name==="AsyncFunction"),u=function(){var c=arguments,H=this,ue=this.event;return h?k?Promise.resolve():new Promise(function(O){ie(O)}).then(function(){return H.event=ue,I.apply(H,c)}):(k?process.nextTick:ie)(function(){H.event=ue,I.apply(H,c)})},u._async=!0,u._origin=o}return[u,B?new Z(this,l,u):this]}function $(l){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,_e.call(this,l)}$.EventEmitter2=$,$.prototype.listenTo=function(l,u,m){if(typeof l!="object")throw TypeError("target musts be an object");var b=this;m=ye(m,{on:P,off:P,reducers:P},{on:Je,off:Je,reducers:et});function h(k){if(typeof k!="object")throw TypeError("events must be an object");var B=m.reducers,I=D.call(b,l),o;I===-1?o=new Ke(b,l,m):o=b._observers[I];for(var c=ne(k),H=c.length,ue,O=typeof B=="function",A=0;A<H;A++)ue=c[A],o.subscribe(ue,k[ue]||ue,O?B:B&&B[ue])}return U(u)?h(_t(u)):h(typeof u=="string"?_t(u.split(/\s+/)):u),this},$.prototype.stopListeningTo=function(l,u){var m=this._observers;if(!m)return!1;var b=m.length,h,k=!1;if(l&&typeof l!="object")throw TypeError("target should be an object");for(;b-- >0;)h=m[b],(!l||h._target===l)&&(h.unsubscribe(u),k=!0);return k},$.prototype.delimiter=".",$.prototype.setMaxListeners=function(l){l!==P&&(this._maxListeners=l,this._conf||(this._conf={}),this._conf.maxListeners=l)},$.prototype.getMaxListeners=function(){return this._maxListeners},$.prototype.event="",$.prototype.once=function(l,u,m){return this._once(l,u,!1,m)},$.prototype.prependOnceListener=function(l,u,m){return this._once(l,u,!0,m)},$.prototype._once=function(l,u,m,b){return this._many(l,1,u,m,b)},$.prototype.many=function(l,u,m,b){return this._many(l,u,m,!1,b)},$.prototype.prependMany=function(l,u,m,b){return this._many(l,u,m,!0,b)},$.prototype._many=function(l,u,m,b,h){var k=this;if(typeof m!="function")throw new Error("many only accepts instances of Function");function B(){return--u===0&&k.off(l,B),m.apply(this,arguments)}return B._origin=m,this._on(l,B,b,h)},$.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||le.call(this);var l=arguments[0],u,m=this.wildcard,b,h,k,B,I;if(l==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(m&&(u=l,l!=="newListener"&&l!=="removeListener"&&typeof l=="object")){if(h=l.length,J){for(k=0;k<h;k++)if(typeof l[k]=="symbol"){I=!0;break}}I||(l=l.join(this.delimiter))}var o=arguments.length,c;if(this._all&&this._all.length)for(c=this._all.slice(),k=0,h=c.length;k<h;k++)switch(this.event=l,o){case 1:c[k].call(this,l);break;case 2:c[k].call(this,l,arguments[1]);break;case 3:c[k].call(this,l,arguments[1],arguments[2]);break;default:c[k].apply(this,arguments)}if(m)c=[],C.call(this,c,u,this.listenerTree,0,h);else if(c=this._events[l],typeof c=="function"){switch(this.event=l,o){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(b=new Array(o-1),B=1;B<o;B++)b[B-1]=arguments[B];c.apply(this,b)}return!0}else c&&(c=c.slice());if(c&&c.length){if(o>3)for(b=new Array(o-1),B=1;B<o;B++)b[B-1]=arguments[B];for(k=0,h=c.length;k<h;k++)switch(this.event=l,o){case 1:c[k].call(this);break;case 2:c[k].call(this,arguments[1]);break;case 3:c[k].call(this,arguments[1],arguments[2]);break;default:c[k].apply(this,b)}return!0}else if(!this.ignoreErrors&&!this._all&&l==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},$.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||le.call(this);var l=arguments[0],u=this.wildcard,m,b,h,k,B,I;if(l==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(u&&(m=l,l!=="newListener"&&l!=="removeListener"&&typeof l=="object")){if(k=l.length,J){for(B=0;B<k;B++)if(typeof l[B]=="symbol"){b=!0;break}}b||(l=l.join(this.delimiter))}var o=[],c=arguments.length,H;if(this._all)for(B=0,k=this._all.length;B<k;B++)switch(this.event=l,c){case 1:o.push(this._all[B].call(this,l));break;case 2:o.push(this._all[B].call(this,l,arguments[1]));break;case 3:o.push(this._all[B].call(this,l,arguments[1],arguments[2]));break;default:o.push(this._all[B].apply(this,arguments))}if(u?(H=[],C.call(this,H,m,this.listenerTree,0)):H=this._events[l],typeof H=="function")switch(this.event=l,c){case 1:o.push(H.call(this));break;case 2:o.push(H.call(this,arguments[1]));break;case 3:o.push(H.call(this,arguments[1],arguments[2]));break;default:for(h=new Array(c-1),I=1;I<c;I++)h[I-1]=arguments[I];o.push(H.apply(this,h))}else if(H&&H.length){if(H=H.slice(),c>3)for(h=new Array(c-1),I=1;I<c;I++)h[I-1]=arguments[I];for(B=0,k=H.length;B<k;B++)switch(this.event=l,c){case 1:o.push(H[B].call(this));break;case 2:o.push(H[B].call(this,arguments[1]));break;case 3:o.push(H[B].call(this,arguments[1],arguments[2]));break;default:o.push(H[B].apply(this,h))}}else if(!this.ignoreErrors&&!this._all&&l==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},$.prototype.on=function(l,u,m){return this._on(l,u,!1,m)},$.prototype.prependListener=function(l,u,m){return this._on(l,u,!0,m)},$.prototype.onAny=function(l){return this._onAny(l,!1)},$.prototype.prependAny=function(l){return this._onAny(l,!0)},$.prototype.addListener=$.prototype.on,$.prototype._onAny=function(l,u){if(typeof l!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),u?this._all.unshift(l):this._all.push(l),this},$.prototype._on=function(l,u,m,b){if(typeof l=="function")return this._onAny(l,u),this;if(typeof u!="function")throw new Error("on only accepts instances of Function");this._events||le.call(this);var h=this,k;return b!==P&&(k=q.call(this,l,u,b),u=k[0],h=k[1]),this._newListener&&this.emit("newListener",l,u),this.wildcard?(R.call(this,l,u,m),h):(this._events[l]?(typeof this._events[l]=="function"&&(this._events[l]=[this._events[l]]),m?this._events[l].unshift(u):this._events[l].push(u),!this._events[l].warned&&this._maxListeners>0&&this._events[l].length>this._maxListeners&&(this._events[l].warned=!0,pe.call(this,this._events[l].length,l))):this._events[l]=u,h)},$.prototype.off=function(l,u){if(typeof u!="function")throw new Error("removeListener only takes instances of Function");var m,b=[];if(this.wildcard){var h=typeof l=="string"?l.split(this.delimiter):l.slice();if(b=C.call(this,null,h,this.listenerTree,0),!b)return this}else{if(!this._events[l])return this;m=this._events[l],b.push({_listeners:m})}for(var k=0;k<b.length;k++){var B=b[k];if(m=B._listeners,U(m)){for(var I=-1,o=0,c=m.length;o<c;o++)if(m[o]===u||m[o].listener&&m[o].listener===u||m[o]._origin&&m[o]._origin===u){I=o;break}if(I<0)continue;return this.wildcard?B._listeners.splice(I,1):this._events[l].splice(I,1),m.length===0&&(this.wildcard?delete B._listeners:delete this._events[l]),this._removeListener&&this.emit("removeListener",l,u),this}else(m===u||m.listener&&m.listener===u||m._origin&&m._origin===u)&&(this.wildcard?delete B._listeners:delete this._events[l],this._removeListener&&this.emit("removeListener",l,u))}return this.listenerTree&&V(this.listenerTree),this},$.prototype.offAny=function(l){var u=0,m=0,b;if(l&&this._all&&this._all.length>0){for(b=this._all,u=0,m=b.length;u<m;u++)if(l===b[u])return b.splice(u,1),this._removeListener&&this.emit("removeListenerAny",l),this}else{if(b=this._all,this._removeListener)for(u=0,m=b.length;u<m;u++)this.emit("removeListenerAny",b[u]);this._all=[]}return this},$.prototype.removeListener=$.prototype.off,$.prototype.removeAllListeners=function(l){if(l===P)return!this._events||le.call(this),this;if(this.wildcard){var u=C.call(this,null,l,this.listenerTree,0),m,b;if(!u)return this;for(b=0;b<u.length;b++)m=u[b],m._listeners=null;this.listenerTree&&V(this.listenerTree)}else this._events&&(this._events[l]=null);return this},$.prototype.listeners=function(l){var u=this._events,m,b,h,k,B;if(l===P){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!u)return[];for(m=ne(u),k=m.length,h=[];k-- >0;)b=u[m[k]],typeof b=="function"?h.push(b):h.push.apply(h,b);return h}else{if(this.wildcard){if(B=this.listenerTree,!B)return[];var I=[],o=typeof l=="string"?l.split(this.delimiter):l.slice();return C.call(this,I,o,B,0),I}return u?(b=u[l],b?typeof b=="function"?[b]:b:[]):[]}},$.prototype.eventNames=function(l){var u=this._events;return this.wildcard?G.call(this,this.listenerTree,[],null,l):u?ne(u):[]},$.prototype.listenerCount=function(l){return this.listeners(l).length},$.prototype.hasListeners=function(l){if(this.wildcard){var u=[],m=typeof l=="string"?l.split(this.delimiter):l.slice();return C.call(this,u,m,this.listenerTree,0),u.length>0}var b=this._events,h=this._all;return!!(h&&h.length||b&&(l===P?ne(b).length:b[l]))},$.prototype.listenersAny=function(){return this._all?this._all:[]},$.prototype.waitFor=function(l,u){var m=this,b=typeof u;return b==="number"?u={timeout:u}:b==="function"&&(u={filter:u}),u=ye(u,{timeout:0,filter:P,handleError:!1,Promise,overload:!1},{filter:Je,Promise:xe}),ot(u.Promise,function(h,k,B){function I(){var o=u.filter;if(!(o&&!o.apply(m,arguments)))if(m.off(l,I),u.handleError){var c=arguments[0];c?k(c):h(Se.apply(null,arguments).slice(1))}else h(Se.apply(null,arguments))}B(function(){m.off(l,I)}),m._on(l,I,!1)},{timeout:u.timeout,overload:u.overload})};function x(l,u,m){m=ye(m,{Promise,timeout:0,overload:!1},{Promise:xe});var b=m.Promise;return ot(b,function(h,k,B){var I;if(typeof l.addEventListener=="function"){I=function(){h(Se.apply(null,arguments))},B(function(){l.removeEventListener(u,I)}),l.addEventListener(u,I,{once:!0});return}var o=function(){c&&l.removeListener("error",c),h(Se.apply(null,arguments))},c;u!=="error"&&(c=function(H){l.removeListener(u,o),k(H)},l.once("error",c)),B(function(){c&&l.removeListener("error",c),l.removeListener(u,o)}),l.once(u,o)},{timeout:m.timeout,overload:m.overload})}var me=$.prototype;if(Object.defineProperties($,{defaultMaxListeners:{get:function(){return me._maxListeners},set:function(l){if(typeof l!="number"||l<0||Number.isNaN(l))throw TypeError("n must be a non-negative number");me._maxListeners=l},enumerable:!0},once:{value:x,writable:!0,configurable:!0}}),Object.defineProperties(me,{_maxListeners:{value:Y,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return $});else if(typeof Yn=="object")Gn.exports=$;else{var st=new Function("","return this")();st.EventEmitter2=$}})()});var Kn=vs((Zl,gn)=>{gn.exports=Vn()});var zn=vs((Cs,Hn)=>{(function(P,L){var U=L(P);if(typeof define=="function"&&define.amd)define("DeepDiff",function(){return U});else if(typeof Cs=="object"||typeof navigator=="object"&&navigator.product.match(/ReactNative/i))Hn.exports=U;else{var Y=P.DeepDiff;U.noConflict=function(){return P.DeepDiff===U&&(P.DeepDiff=Y),U},P.DeepDiff=U}})(Cs,function(P){var L=["N","E","A","D"];function U(D,C){D.super_=C,D.prototype=Object.create(C.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}})}function Y(D,C){Object.defineProperty(this,"kind",{value:D,enumerable:!0}),C&&C.length&&Object.defineProperty(this,"path",{value:C,enumerable:!0})}function F(D,C,R){F.super_.call(this,"E",D),Object.defineProperty(this,"lhs",{value:C,enumerable:!0}),Object.defineProperty(this,"rhs",{value:R,enumerable:!0})}U(F,Y);function J(D,C){J.super_.call(this,"N",D),Object.defineProperty(this,"rhs",{value:C,enumerable:!0})}U(J,Y);function te(D,C){te.super_.call(this,"D",D),Object.defineProperty(this,"lhs",{value:C,enumerable:!0})}U(te,Y);function se(D,C,R){se.super_.call(this,"A",D),Object.defineProperty(this,"index",{value:C,enumerable:!0}),Object.defineProperty(this,"item",{value:R,enumerable:!0})}U(se,Y);function ie(D,C,R){var G=D.slice((R||C)+1||D.length);return D.length=C<0?D.length+C:C,D.push.apply(D,G),D}function ne(D){var C=typeof D;return C!=="object"?C:D===Math?"math":D===null?"null":Array.isArray(D)?"array":Object.prototype.toString.call(D)==="[object Date]"?"date":typeof D.toString=="function"&&/^\/.*\//.test(D.toString())?"regexp":"object"}function le(D){var C=0;if(D.length===0)return C;for(var R=0;R<D.length;R++){var G=D.charCodeAt(R);C=(C<<5)-C+G,C=C&C}return C}function _e(D){var C=0,R=ne(D);if(R==="array"){D.forEach(function($){C+=_e($)});var G="[type: array, hash: "+C+"]";return C+le(G)}if(R==="object"){for(var V in D)if(D.hasOwnProperty(V)){var Z="[ type: object, key: "+V+", value hash: "+_e(D[V])+"]";C+=le(Z)}return C}var q="[ type: "+R+" ; value: "+D+"]";return C+le(q)}function pe(D,C,R,G,V,Z,q,$){R=R||[],V=V||[],q=q||[];var x=V.slice(0);if(typeof Z<"u"&&Z!==null){if(G){if(typeof G=="function"&&G(x,Z))return;if(typeof G=="object"){if(G.prefilter&&G.prefilter(x,Z))return;if(G.normalize){var me=G.normalize(x,Z,D,C);me&&(D=me[0],C=me[1])}}}x.push(Z)}ne(D)==="regexp"&&ne(C)==="regexp"&&(D=D.toString(),C=C.toString());var st=typeof D,l=typeof C,u,m,b,h,k=st!=="undefined"||q&&q.length>0&&q[q.length-1].lhs&&Object.getOwnPropertyDescriptor(q[q.length-1].lhs,Z),B=l!=="undefined"||q&&q.length>0&&q[q.length-1].rhs&&Object.getOwnPropertyDescriptor(q[q.length-1].rhs,Z);if(!k&&B)R.push(new J(x,C));else if(!B&&k)R.push(new te(x,D));else if(ne(D)!==ne(C))R.push(new F(x,D,C));else if(ne(D)==="date"&&D-C!==0)R.push(new F(x,D,C));else if(st==="object"&&D!==null&&C!==null){for(u=q.length-1;u>-1;--u)if(q[u].lhs===D){h=!0;break}if(h)D!==C&&R.push(new F(x,D,C));else{if(q.push({lhs:D,rhs:C}),Array.isArray(D)){for($&&(D.sort(function(c,H){return _e(c)-_e(H)}),C.sort(function(c,H){return _e(c)-_e(H)})),u=C.length-1,m=D.length-1;u>m;)R.push(new se(x,u,new J(void 0,C[u--])));for(;m>u;)R.push(new se(x,m,new te(void 0,D[m--])));for(;u>=0;--u)pe(D[u],C[u],R,G,x,u,q,$)}else{var I=Object.keys(D),o=Object.keys(C);for(u=0;u<I.length;++u)b=I[u],h=o.indexOf(b),h>=0?(pe(D[b],C[b],R,G,x,b,q,$),o[h]=null):pe(D[b],void 0,R,G,x,b,q,$);for(u=0;u<o.length;++u)b=o[u],b&&pe(void 0,C[b],R,G,x,b,q,$)}q.length=q.length-1}}else D!==C&&(st==="number"&&isNaN(D)&&isNaN(C)||R.push(new F(x,D,C)))}function Se(D,C,R,G,V){var Z=[];if(pe(D,C,Z,G,null,null,null,V),R)for(var q=0;q<Z.length;++q)R(Z[q]);return Z}function _t(D,C,R,G,V,Z,q){return pe(D,C,R,G,V,Z,q,!0)}function Ke(D,C,R,G){var V=G?function(q){q&&G.push(q)}:void 0,Z=Se(D,C,V,R);return G||(Z.length?Z:void 0)}function ye(D,C,R,G){var V=G?function(q){q&&G.push(q)}:void 0,Z=Se(D,C,V,R,!0);return G||(Z.length?Z:void 0)}function xe(D,C,R){if(R.path&&R.path.length){var G=D[C],V,Z=R.path.length-1;for(V=0;V<Z;V++)G=G[R.path[V]];switch(R.kind){case"A":xe(G[R.path[V]],R.index,R.item);break;case"D":delete G[R.path[V]];break;case"E":case"N":G[R.path[V]]=R.rhs;break}}else switch(R.kind){case"A":xe(D[C],R.index,R.item);break;case"D":D=ie(D,C);break;case"E":case"N":D[C]=R.rhs;break}return D}function he(D,C,R){if(typeof R>"u"&&C&&~L.indexOf(C.kind)&&(R=C),D&&R&&R.kind){for(var G=D,V=-1,Z=R.path?R.path.length-1:0;++V<Z;)typeof G[R.path[V]]>"u"&&(G[R.path[V]]=typeof R.path[V+1]<"u"&&typeof R.path[V+1]=="number"?[]:{}),G=G[R.path[V]];switch(R.kind){case"A":R.path&&typeof G[R.path[V]]>"u"&&(G[R.path[V]]=[]),xe(R.path?G[R.path[V]]:G,R.index,R.item);break;case"D":delete G[R.path[V]];break;case"E":case"N":G[R.path[V]]=R.rhs;break}}}function Je(D,C,R){if(R.path&&R.path.length){var G=D[C],V,Z=R.path.length-1;for(V=0;V<Z;V++)G=G[R.path[V]];switch(R.kind){case"A":Je(G[R.path[V]],R.index,R.item);break;case"D":G[R.path[V]]=R.lhs;break;case"E":G[R.path[V]]=R.lhs;break;case"N":delete G[R.path[V]];break}}else switch(R.kind){case"A":Je(D[C],R.index,R.item);break;case"D":D[C]=R.lhs;break;case"E":D[C]=R.lhs;break;case"N":D=ie(D,C);break}return D}function et(D,C,R){if(D&&C&&R&&R.kind){var G=D,V,Z;for(Z=R.path.length-1,V=0;V<Z;V++)typeof G[R.path[V]]>"u"&&(G[R.path[V]]={}),G=G[R.path[V]];switch(R.kind){case"A":Je(G[R.path[V]],R.index,R.item);break;case"D":G[R.path[V]]=R.lhs;break;case"E":G[R.path[V]]=R.lhs;break;case"N":delete G[R.path[V]];break}}}function ot(D,C,R){if(D&&C){var G=function(V){(!R||R(D,C,V))&&he(D,C,V)};Se(D,C,G)}}return Object.defineProperties(Ke,{diff:{value:Ke,enumerable:!0},orderIndependentDiff:{value:ye,enumerable:!0},observableDiff:{value:Se,enumerable:!0},orderIndependentObservableDiff:{value:_t,enumerable:!0},orderIndepHash:{value:_e,enumerable:!0},applyDiff:{value:ot,enumerable:!0},applyChange:{value:he,enumerable:!0},revertChange:{value:et,enumerable:!0},isConflict:{value:function(){return typeof $conflict<"u"},enumerable:!0}}),Ke.DeepDiff=Ke,P&&(P.DeepDiff=Ke),Ke})});var pa=Fn(Kn(),1),Oa=Fn(zn(),1);var lu="as",fu="=",Eu="break",_u="else",mu="enum",bu="export",pu="if",Ou="import",Au="->",Tu="is",Nu="loop",Iu="mut",Su="native",hu="object",Pu="fn",du="return",Lu="self",Ru="template",ku=Object.freeze({ALIAS:lu,ASSIGN:fu,BREAK:Eu,ELSE:_u,ENUMERATION:mu,EXPORT:bu,IF:pu,IMPORT:Ou,INTO:Au,IS:Tu,LOOP:Nu,MUTABLE:Iu,NATIVE:Su,OBJECT:hu,PROCEDURE:Pu,RETURN:du,SELF:Lu,TEMPLATE:Ru}),$n=ku;var vu="assign",Cu="array_assignment",Uu="branch-match",Du="branch-default",Bu="condition",Mu="loop",yu="data",ju="generics",wu="enumeration",Fu="expression",Yu="instance",Gu="Link",Vu="local",gu="object",Ku="procedure",Hu="return",zu="select",$u="member",Xu="store",Ju="break",Wu="literal",Qu="array_access",qu="valueLink",Zu="linkValue",xu="self",ei="procedure-call",ti="Maybe",si="native",ni="move",oi="String",ci="Array",ri="import",ai="library",ui=Object.freeze({TYPES_ASSIGN:vu,TYPES_ARRAY:ci,TYPES_ARRAY_ASSIGNMENT:Cu,TYPES_BRANCH_MATCH:Uu,TYPES_BRANCH_DEFAULT:Du,TYPES_CONDITION:Bu,TYPES_LOOP:Mu,TYPES_DATA:yu,TYPES_GENERICS:ju,TYPES_ENUMERATION:wu,TYPES_EXPRESSION:Fu,TYPES_INSTANCE:Yu,TYPES_LINK:Gu,TYPES_IMPORT:ri,TYPES_LOCAL:Vu,TYPES_OBJECT:gu,TYPES_PROCEDURE:Ku,TYPES_RETURN:Hu,TYPES_SELECT:zu,TYPES_MEMBER:$u,TYPES_STORE:Xu,TYPES_BREAK:Ju,TYPES_LITERAL:Wu,TYPES_ARRAY_ACCESS:Qu,TYPES_LINK_TO:qu,TYPES_VALUE_AT:Zu,TYPES_SELF:xu,TYPES_LIBRARY:ai,TYPES_DROP:ei,TYPES_MAYBE:ti,TYPES_NATIVE:si,TYPES_MOVE:ni,TYPES_STRING:oi}),Us=ui;var ii=Object.freeze({COLON:58,COMMA:44,DIGIT_ZERO:48,DIGIT_NINE:57,DOT:46,HASHTAG:35,HORIZONTAL_TAB:9,HYPHEN_MINUS:45,LEFT_CURLY_BRACKET:123,LEFT_PARENTHESIS:40,LEFT_SQUARE_BRACKET:91,LINE_BREAK:10,NULL:0,PLUS_SIGN:43,RIGHT_CURLY_BRACKET:125,RIGHT_PARENTHESIS:41,RIGHT_SQUARE_BRACKET:93,SEMICOLON:59,SPACE:32}),Xn=ii;var li=Object.freeze([]),fi=Object.freeze({}),Qe="",Ei="	",_i=`
`,mi="UTF-8",Jn=Us,bi=Object.freeze({EMPTY_ARRAY:li,EMPTY_OBJECT:fi,EMPTY_STRING:Qe,HORIZONTAL_TAB:Ei,LINE_BREAK:_i,UNICODE_TEXT:mi,Codes:Xn,Keys:$n,Types:Us}),Wn=bi;import Gs from"@Flogram/SimpleParser";import Hi from"@Flogram/Tokenizer";function _(P,L=[],U=""){let Y=L.map((J,te)=>({name:`operand${te+1}`,data:{type:"data",name:J,path:"Flogram"}})),F={type:"native",name:P,path:"Flogram",description:{inputs:Y,outputs:U&&L.length<=0?null:[{name:"result",data:{type:"data",name:U||(L.length>0?L[0]:""),path:"Flogram"}}]}};return Object.freeze(F)}var pi=Object.freeze({"+":[_("+",["FP64","FP64"]),_("+",["U64","U64"]),_("+",["I64","I64"]),_("+",["FP32","FP32"]),_("+",["U32","U32"]),_("+",["I32","I32"]),_("+",["U16","U16"]),_("+",["I16","I16"]),_("+",["U8","U8"]),_("+",["I8","I8"]),_("+",["any","any"])],"-":[_("-",["FP64","FP64"]),_("-",["U64","U64"]),_("-",["I64","I64"]),_("-",["FP32","FP32"]),_("-",["U32","U32"]),_("-",["I32","I32"]),_("-",["U16","U16"]),_("-",["I16","I16"]),_("-",["U8","U8"]),_("-",["I8","I8"]),_("-",["any","any"]),_("-",["FP64"]),_("-",["I64"]),_("-",["FP32"]),_("-",["I32"]),_("-",["I16"]),_("-",["I8"]),_("-",["any"])],"*":[_("*",["FP64","FP64"]),_("*",["U64","U64"]),_("*",["I64","I64"]),_("*",["FP32","FP32"]),_("*",["U32","U32"]),_("*",["I32","I32"]),_("*",["U16","U16"]),_("*",["I16","I16"]),_("*",["U8","U8"]),_("*",["I8","I8"]),_("*",["any","any"])],"/":[_("/",["FP64","FP64"]),_("/",["U64","U64"]),_("/",["I64","I64"]),_("/",["FP32","FP32"]),_("/",["U32","U32"]),_("/",["I32","I32"]),_("/",["U16","U16"]),_("/",["I16","I16"]),_("/",["U8","U8"]),_("/",["I8","I8"]),_("/",["any","any"])],"%":[_("%",["I64","I64"]),_("%",["U64","U64"]),_("%",["I32","I32"]),_("%",["U32","U32"]),_("%",["I16","I16"]),_("%",["U16","U16"]),_("%",["I8","I8"]),_("%",["U8","U8"]),_("%",["any","any"])],"!=":[_("!=",["FP64","FP64"],"Bool"),_("!=",["U64","U64"],"Bool"),_("!=",["I64","I64"],"Bool"),_("!=",["FP32","FP32"],"Bool"),_("!=",["U32","U32"],"Bool"),_("!=",["I32","I32"],"Bool"),_("!=",["U16","U16"],"Bool"),_("!=",["I16","I16"],"Bool"),_("!=",["U8","U8"],"Bool"),_("!=",["I8","I8"],"Bool"),_("!=",["any","any"],"any")],"==":[_("==",["FP64","FP64"],"Bool"),_("==",["U64","U64"],"Bool"),_("==",["I64","I64"],"Bool"),_("==",["FP32","FP32"],"Bool"),_("==",["U32","U32"],"Bool"),_("==",["I32","I32"],"Bool"),_("==",["U16","U16"],"Bool"),_("==",["I16","I16"],"Bool"),_("==",["U8","U8"],"Bool"),_("==",["I8","I8"],"Bool"),_("==",["any","any"],"any")],">":[_(">",["FP64","FP64"],"Bool"),_(">",["U64","U64"],"Bool"),_(">",["I64","I64"],"Bool"),_(">",["FP32","FP32"],"Bool"),_(">",["U32","U32"],"Bool"),_(">",["I32","I32"],"Bool"),_(">",["U16","U16"],"Bool"),_(">",["I16","I16"],"Bool"),_(">",["U8","U8"],"Bool"),_(">",["I8","I8"],"Bool"),_(">",["any","any"],"any")],"<":[_("<",["FP64","FP64"],"Bool"),_("<",["U64","U64"],"Bool"),_("<",["I64","I64"],"Bool"),_("<",["FP32","FP32"],"Bool"),_("<",["U32","U32"],"Bool"),_("<",["I32","I32"],"Bool"),_("<",["U16","U16"],"Bool"),_("<",["I16","I16"],"Bool"),_("<",["U8","U8"],"Bool"),_("<",["I8","I8"],"Bool"),_("<",["any","any"],"any")],">=":[_(">=",["FP64","FP64"],"Bool"),_(">=",["U64","U64"],"Bool"),_(">=",["I64","I64"],"Bool"),_(">=",["FP32","FP32"],"Bool"),_(">=",["U32","U32"],"Bool"),_(">=",["I32","I32"],"Bool"),_(">=",["U16","U16"],"Bool"),_(">=",["I16","I16"],"Bool"),_(">=",["U8","U8"],"Bool"),_(">=",["I8","I8"],"Bool"),_(">=",["any","any"],"any")],"<=":[_("<=",["FP64","FP64"],"Bool"),_("<=",["U64","U64"],"Bool"),_("<=",["I64","I64"],"Bool"),_("<=",["FP32","FP32"],"Bool"),_("<=",["U32","U32"],"Bool"),_("<=",["I32","I32"],"Bool"),_("<=",["U16","U16"],"Bool"),_("<=",["I16","I16"],"Bool"),_("<=",["U8","U8"],"Bool"),_("<=",["I8","I8"],"Bool"),_("<=",["any","any"],"any")],"&":[_("&",["Bool","Bool"],"Bool"),_("&",["any","any"],"any")],"^":[_("^",["Bool","Bool"],"Bool"),_("^",["any","any"],"any")],"|":[_("|",["Bool","Bool"],"Bool"),_("|",["any","any"],"any")],not:[_("not",["Bool"],"Bool"),_("not",["any"],"any")],i32:[_("i32",["FP64"],"I32"),_("i32",["U64"],"I32"),_("i32",["I64"],"I32"),_("i32",["FP32"],"I32"),_("i32",["U32"],"I32"),_("i32",["I32"],"I32"),_("i32",["U16"],"I32"),_("i32",["I16"],"I32"),_("i32",["U8"],"I32"),_("i32",["I8"],"I32"),_("i32",["any"],"any")],u32:[_("u32",["FP64"],"U32"),_("u32",["U64"],"U32"),_("u32",["I64"],"U32"),_("u32",["FP32"],"U32"),_("u32",["U32"],"U32"),_("u32",["I32"],"U32"),_("u32",["U16"],"U32"),_("u32",["I16"],"U32"),_("u32",["U8"],"U32"),_("u32",["I8"],"U32"),_("u32",["any"],"any")],i64:[_("i64",["FP64"],"I64"),_("i64",["U64"],"I64"),_("i64",["I64"],"I64"),_("i64",["FP32"],"I64"),_("i64",["U32"],"I64"),_("i64",["I32"],"I64"),_("i64",["U16"],"I64"),_("i64",["I16"],"I64"),_("i64",["U8"],"I64"),_("i64",["I8"],"I64"),_("i64",["any"],"any")],u64:[_("u64",["FP64"],"U64"),_("u64",["U64"],"U64"),_("u64",["I64"],"U64"),_("u64",["FP32"],"U64"),_("u64",["U32"],"U64"),_("u64",["I32"],"U64"),_("u64",["U16"],"U64"),_("u64",["I16"],"U64"),_("u64",["U8"],"U64"),_("u64",["I8"],"U64"),_("u64",["any"],"any")],fp32:[_("fp32",["FP64"],"FP32"),_("fp32",["U64"],"FP32"),_("fp32",["I64"],"FP32"),_("fp32",["FP32"],"FP32"),_("fp32",["U32"],"FP32"),_("fp32",["I32"],"FP32"),_("fp32",["U16"],"FP32"),_("fp32",["I16"],"FP32"),_("fp32",["U8"],"FP32"),_("fp32",["I8"],"FP32"),_("fp32",["any"],"any")],fp64:[_("fp64",["FP64"],"FP64"),_("fp64",["U64"],"FP64"),_("fp64",["I64"],"FP64"),_("fp64",["FP32"],"FP64"),_("fp64",["U32"],"FP64"),_("fp64",["I32"],"FP64"),_("fp64",["U16"],"FP64"),_("fp64",["I16"],"FP64"),_("fp64",["U8"],"FP64"),_("fp64",["I8"],"FP64"),_("fp64",["any"],"any")]}),Wt=pi;var Qn=Object.freeze(["+","-","*","/","%",">",">=","<","<=","!=","&","|","^","not","i32","u32","i64","u64","fp64","fp32"]);var Oi=Object.freeze(["FP64","U64","I64","FP32","U32","I32","U16","I16","U8","I8","Bool","Char","Array","String","Link","Maybe"]),at=Oi;var{EMPTY_STRING:Ai,UNICODE_TEXT:ys}=Wn,Ti=44,Ni=48,Ii=57,Si=46,hi=45,Pi=43,di=65,Li=90,Ri=-1,ki=1,vi=new TextDecoder(ys),Ci=new TextEncoder,Ui=(P,L,U=0,Y=P.length|0,F=0,J=L.length|0)=>{for(F=F|0,U=U|0,J=J|0,Y=Y|0;;){let te=U>=Y,se=F>=J;if(te||se)break;let ne=P[U],le=L[F];if(U=U+1|0,F=F+1|0,ne<le)return Ri;if(ne>le)return ki}return 0},js=(P,L,U=0,Y=P.length|0,F=0,J=L.length|0)=>{for(F=F|0,U=U|0,J=J|0,Y=Y|0;;){let te=F>=J,se=U>=Y;if(te||se)break;L[F]=P[U],F=F+1|0,U=U+1|0}},ws=(P,L,U=0,Y=P.length|0,F=0,J=L.length|0)=>{U=U|0,F=F|0,Y=Y|0,J=J|0;let te=Y-U|0,se=J-F|0;if(te!==se)return!1;for(;;){let ie=U>=Y,ne=F>=J;if(ie||ne)break;let _e=P[U],pe=L[F];if(U=U+1|0,F=F+1|0,_e!==pe)return!1}return!0},Di=P=>{P=P>>>0;let L=0,U=0;for(;U=(U<<1|1)>>>0,!(U>P);)L=L+1|0;return L},xn=Object.freeze([48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102]),Ms=(P,L,U,Y)=>{for(P=P>>>0,Y=Y??L.length|0,U=U|0,Y=Y|0;P>0&&Y>U;)Y=Y-1|0,L[Y]=xn[P&15],P=P>>>4},St=(P,L,U,Y)=>{let F=U|0,J=U+Y|0;if(Y===0)return!1;let te=L[F];for((te===Pi||te===hi)&&(F=F+1|0);F<J;){let se=L[F];if(F=F+1|0,!(Ni<=se&&se<=Ii||(Si===se||Ti===se)))return!1}return!0},Fs=P=>{let L=P>=di,U=P<=Li;return L&&U},qt=128,Zt=127,eo=-1,It=64,Ys=P=>{P=P|0;let L=[];for(;;){let U=P&Zt;P=P>>7;let Y=P===0,F=(U&It)===0,J=Y&&F,te=P===-1,se=(U&It)!==0;if(J||te&&se){L.push(U);break}U=U|qt,L.push(U)}return L},Bi=P=>{let L=[],U=!0;for(;U;){let Y=P&Zt;P>>=7,P===0&&!(Y&It)||P===-1&&Y&It?U=!1:Y|=qt,L.push(Y)}return L},to=(P,L)=>{L=L|0;let U=0,Y=0;for(;;){let F=P[L]|0;L=L+1|0;let J=(F&Zt)<<Y;if(Y=Y+7|0,U=U|J,(F&qt)===0){let se=(F&It)!==0,ie=Y<32;if(se&&ie){let le=eo<<Y;U=U|le}break}}return U},Mi=(P,L)=>{L=L|0;let U=0,Y=0;for(;;){let F=P[L]|0;L=L+1|0;let J=(F&Zt)<<Y;if(Y=Y+7|0,U=U|J,!(F&qt)){if(F&It){let te=eo<<Y;U=U|te}break}}return U},S=P=>vi.decode(P),ae=P=>Ci.encode(P),yi=(P=Ai)=>{let L=P.length|0,U=Ys(L),Y=Buffer.from(P,ys);return Object.freeze([...U,...Y])},ji=(P,L)=>{L=L|0;let U=to(P,L),Y=Ys(U).length;return L=L+Y|0,P.subarray(L,L+U|0).toString(ys)},wi=58,Fi=46,Mt=32,Ds=48,Yi=67,ut=new Uint8Array(Yi),qn=ut.subarray(0,8),Qt=ut.subarray(10,49),Zn=ut.subarray(51,68),Bs=16,Gi=2;ut[8]=wi;ut[9]=Mt;ut[49]=Mt;ut[50]=Mt;var Vi=(P,L)=>{L=L??console.log;let U=32,Y=126,F=P.length|0,J=0;for(;F>0;){qn.fill(Ds),Ms(J,qn),Qt.fill(Mt),Zn.fill(Mt);let te=F>=Bs?Bs:F;F=F-Bs|0;let se=0,ie=0;for(let le=1;le<=te;le=le+1|0){let _e=P[J]&255;Qt[se+0|0]=Ds,Qt[se+1|0]=Ds,Ms(_e,Qt,se,se+2|0);let pe=Fi;U<=_e&&_e<=Y&&(pe=_e),Zn[ie]=pe,J=J+1|0,se=se+2|0,ie=ie+1|0,le%Gi===0&&(se=se+1|0)}let ne=String.fromCodePoint(...ut);L(ne)}},gi=function*(P,L){let U=P.length|0,Y=L.length|0,F=0;for(;F<U&&F<Y;){let J=P[F],te=L[F];yield[J,te],F=F+1|0}},Ki=function*(P,L,U){let Y=P.length|0,F=L.length|0,J=U.length|0,te=0;for(;te<Y&&te<F&&te<J;){let se=P[te],ie=L[te],ne=U[te];yield[se,ie,ne],te=te+1|0}},ff=Object.freeze({ARRAY_COMPARE:Ui,ARRAY_COPY:js,ARRAY_EQUAL:ws,BIT_DEPTH:Di,HEX_DIGITS:xn,HEX_ENCODE:Ms,IS_NUMBER:St,IS_UPPERCASE:Fs,LEB128_DECODE:to,LEB128_DECODE_SIGNED:Mi,LEB128_ENCODE:Ys,LEB128_ENCODE_SIGNED:Bi,UTF8_DECODE:S,UTF8_ENCODE:ae,WASM_STRING_ENCODE:yi,WASM_STRING_DECODE:ji,XXD_DUMP_HEX:Vi,ZIP2:gi,ZIP3:Ki});var{TYPES_ASSIGN:xt,TYPES_ARRAY_ASSIGNMENT:zi,TYPES_BRANCH_MATCH:so,TYPES_BRANCH_DEFAULT:no,TYPES_CONDITION:$i,TYPES_LOOP:Xi,TYPES_DATA:qe,TYPES_GENERICS:yt,TYPES_ENUMERATION:ht,TYPES_EXPRESSION:Vs,TYPES_IMPORT:Ji,TYPES_INSTANCE:pf,TYPES_LIBRARY:Wi,TYPES_LINK:Of,TYPES_LOCAL:de,TYPES_OBJECT:De,TYPES_PROCEDURE:it,TYPES_RETURN:Qi,TYPES_SELECT:es,TYPES_MEMBER:ts,TYPES_NATIVE:qi,TYPES_STORE:Zi,TYPES_BREAK:xi,TYPES_LITERAL:ke,TYPES_ARRAY_ACCESS:ss,TYPES_LINK_TO:mt,TYPES_VALUE_AT:bt,TYPES_SELF:tt,TYPES_DROP:el,TYPES_MAYBE:oo,TYPES_MOVE:co}=Jn,z=ws,ro=ae("="),tl=ae("enum"),sl=ae("loop"),nl=ae("break"),ol=ae("if"),cl=ae("else"),ao=ae("is"),uo=ae("->"),Pt=ae(`
`),io=ae("object"),dt=ae("pass"),lo=ae("fn"),rl=ae("return"),al=ae("length"),fo=ae("at"),jt=ae("Array"),lt=ae("Link!!"),pt=ae("Link"),ns=ae("LinkSmart"),Eo=ae("mut"),_o=ae("self"),mo=ae("nocopy"),ul=ae("move"),il=ae("import"),ll=ae("export"),os=ae("Maybe"),fl=ae("NONE"),El=ae("SOME"),we=58,gs=61,ve=44,Ge=46,Fe=123,Te=40,Ee=10,_l=35,Ze=125,Le=41,Ot=91,Ks=93,ml=39,bl=34,pl=64,Hs=47,zs=1,bo=2,$s=3,$t="done",Ie="fail",Ol={EVENT_DONE:$t,EVENT_FAIL:Ie},Aa=1,Ta=2,Na=3,Ia=4,Sa=5,ha=6,Pa=7,da=8,La=9,Ra=10,ka=11,va=12,Al=13,Tl=14,Nl=15,Il=99,Be={FAIL_UNRESOLVED_NAME:P=>`Unresolved name '${P}'. The name '${P}' does not exist in the current context. Please check the spelling and scope of your identifiers.`,FAIL_UNEXPECTED_TOKEN:(P,L)=>`Unexpected token '${P}' at position ${L}. Please check the syntax.`,FAIL_INDENTATION_MISMATCH:P=>`Indentation mismatch on line ${P}. The code on this line does not align with the expected indentation. Check your indentation for inconsistencies.`,FAIL_INDENTATION_NO_INCREASE:P=>`Indentation error on line ${P}. Expected an increase in indentation but found none. Check your indentation.`,FAIL_DUPLICATE_DATA:P=>`Duplicate data '${P}' found. Ensure each piece of data is unique.`,FAIL_DUPLICATE_OBJECT_MEMBER:(P,L)=>`Duplicate member '${P}' in object '${L}'. Each member in an object must have a unique name.`,FAIL_INVALID_IDENTIFIER:P=>`Invalid identifier '${P}'. The name '${P}' is not a valid identifier. Ensure your identifiers adhere to the language's naming rules.`,FAIL_RETURN_LENGTH_MISMATCH:(P,L)=>`Return length mismatch. Expected '${P}' value(s) but received '${L}'. Ensure the number of return values matches the expected count.`,FAIL_UNRESOLVED_OBJECT_MEMBER:(P,L)=>`Unresolved member '${P}' of object '${L}'. The member '${P}' does not exist on the object '${L}'`,FAIL_UNKNOWN_PROCEDURE_NAME:P=>`Call to undefined procedure '${P}'. Please ensure that the procedure is defined before calling it.`,FAIL_IMMUTABLE_ASSIGNMENT:P=>`Assignment to an immutable variable '${P}'. You are attempting to assign a new value to a variable which was declared as immutable and cannot be changed.`,FAIL_RESERVED_KEYWORD_USAGE:P=>`Reserved keyword '${P}' used as an identifier. The keyword '${P}' is reserved by the language and cannot be used as an identifier. Please choose a different name.`,FAIL_INPUT_TYPE_MISMATCH:(P,L)=>`Type Mismatch at line ${P}. Nature procedures expect all parameters to be of same type. Provided: ${L}.`,FAIL_UNSUPPORTED_TYPE:P=>`Unsupported type found. Type '${P}' was not defined in this context and isn't a native to Flogram. Please check your code and language supported types.`,FAIL_UNALLOWED_COPY:P=>`Copy operation not allowed. The object '${P}' has been defined as uncopyable in your code, and therefore, the copy operation you're attempting is not allowed.`},Sl=Object.freeze({FAIL_UNRESOLVED_NAME:Aa,FAIL_UNEXPECTED_TOKEN:Ta,FAIL_INDENTATION_MISMATCH:Na,FAIL_INDENTATION_NO_INCREASE:Ia,FAIL_DUPLICATE_DATA:Sa,FAIL_DUPLICATE_OBJECT_MEMBER:ha,FAIL_INVALID_IDENTIFIER:Pa,FAIL_RETURN_LENGTH_MISMATCH:da,FAIL_UNRESOLVED_OBJECT_MEMBER:La,FAIL_UNKNOWN_PROCEDURE_NAME:Ra,FAIL_IMMUTABLE_ASSIGNMENT:ka,FAIL_RESERVED_KEYWORD_USAGE:va}),hl=new Set(["fn","object","pass","enum"]),Pl=new Set(["==","!=",">",">=","<","<=","!","&","|"]),Ce=(P,L,U,Y)=>{if(Y===1){let he=L[U],Je=he&191,et=he&223,ot=et^93,D=et^91,R=he&254^34,V=he&254^40,q=he&253^44,x=he&254^58;return Je===0||(ot===0||D===0)||R===0||V===0||q===0||x===0||he===Ee}let ye=L.subarray(U,U+Y|0),xe=S(ye);return!1},dl=(P,L,U,Y)=>{let F=L.subarray(U,U+Y|0),J=S(F);return hl.has(J)||at.includes(J)},Ll=512,Bn=1,Ca=2,Ls=3,Mn=4,Ua=5,Da=6,Ba=7,Ma=8,ya=9,Rl=10,kl=11,vl=12,Cl=13,Ul=14,Dl=15,Bl=16,Ml=17,yl=18,ft=Object.freeze([Bn]),wt=Object.freeze([Ca]),Ft=Object.freeze([Ls]),po=Object.freeze([Ls,Mn]),Oo=Object.freeze([Ua]),jl=Object.freeze([Bn,Da]),wl=Object.freeze([Ba]),$e=Object.freeze([Mn,Ma]),Xe=Object.freeze([ya]),Fl=Object.freeze([Rl]),Yt=Object.freeze([kl]),Yl=Object.freeze([Ls,ya]),Gt=Object.freeze([vl]),Lt=Object.freeze([Cl]),Ao=Object.freeze([Ul]),To=Object.freeze([Dl]),No=Object.freeze([Bl]),Xs=Object.freeze([Ml]),cs=Object.freeze([yl]),Gl=Object.freeze({REASON_COLON_OPENS_SCOPE:Bn,REASON_LINE_BREAK_BEFORE_OPEN_SCOPE:Ca,REASON_CLOSING_LINE_BREAK:Ls,REASON_SEQUENCE_SEPARATOR_COMMA:Mn,REASON_INTO_BETWEEN_INPUTS_OUTPUTS:Ua,REASON_IS_OPENS_CONDITION_BRANCH_MATCH:Da,REASON_OPEN_STATEMENT_WITH_KEYWORD:Ba,REASON_RIGHT_PARENTHESIS_CLOSES_LIST:Ma}),Me=1,Io=2,Vt=3,So=4,Js=5,ho=6,Ye=7,Rt=8,Ue=9,gt=10,kt=11,Po=12,Lo=13,Kt=1,Ro=2,Ve=3,Ws=4,ko=5,vo=6,Co=7,Uo=1,Do=2,Bo=3,Mo=4,yo=5,Qs=6,jo=7,wo=8,Fo=9,Yo=10,Go=11,Vo=12,go=13,qs=14,Ht=1,Ko=2,rs=3,Ho=4,Zs=5,zo=6,$o=7,zt=1,Xo=2,as=3,Jo=4,Wo=6,Qo=1,qo=2,Zo=3,xo=4,xs=5,ec=6,tc=7,us=8,sc=9,nc=10,oc=11,cc=12,rc=13,ac=14,uc=1,ic=2,lc=1,fc=2,Vl=3;var Ec=7,en=8,_c=9,is=1,ls=2,fs=3,Es=4,vt=5,_s=6,ms=7,bs=8,ps=9,Os=10,As=11,Ct=1,mc=2,bc=3,tn=4,pc=5,Oc=6,Ac=7,sn=8,Tc=9,Nc=10,Ic=11,Sc=12,hc=13,Pc=14,dc=15,gl=16,nn=17,on=18,cn=19,Lc=20,Rc=21,rn=22,kc=23,vc=24,At=25,Ts=26,Cc=27,Uc=28,Dc=29,an=30,Bc=31,Mc=32,yc=33,jc=34,wc=35,Fc=36,Yc=37,Gc=38,Vc=39,Kl=40,Ns=41,un=42,gc=43,Kc=44,Hc=45,ln=46,zc=47,$c=48,Xc=49,Jc=50,fn=51,Wc=52,Qc=53,En=54,_n=55,qc=56,Zc=57,xc=58,er=59,tr=60,mn=61,Hl=62,Et=1,sr=2,nr=3,or=4,bn=5,cr=6,Is=1,rr=2,ar=3,ur=4,ir=5,Ut=6,lr=7,pn=8,Ss=9,On=10,hs=11,fr=12,Er=13,An=14,Tn=15,Nn=16,_r=17,mr=18,br=19,In=20,pr=21,Or=22,Ar=23,Tr=24,Sn=25,Nr=26,hn=27,Ir=28,Sr=29,Pn=30,hr=31,dn=32,Pr=33,dr=34,Lr=35,Rr=36,kr=37,Ln=38,Rn=39,vr=40,Cr=41,Ur=42,Dr=43,Br=44,kn=45,vn=46,Mr=47,Ps=48,yr=49,jr=50,wr=51,Fr=52,Yr=53,Gr=54,Vr=55,gr=56,Kr=57,Hr=58,zr=59,$r=60,Xr=61,Jr=62,Cn=1,Wr=2,Qr=3,qr=4,Zr=5,xr=6,ea=7,ta=8,sa=9,na=10,Un=11,oa=12,ca=13,ra=14,aa=15,ua=16,ia=17,la=18,fa=19,Ea=20,ge="Flogram",_a="any",Dn="data",ma="code",ba=P=>["TRUE","FALSE"].includes(P),ds=!1,zl=P=>{let L=[],U=[],Y=[],F=Object.freeze({data:L,code:U,exports:Y}),J=new Uint8Array(Ll),te=[],se=0,ie=(a,n,e,f)=>{let t=Object.freeze({position:a,length:f});js(n,J,e,e+f|0,se,se+f|0),te.push(t),se=se+f|0},ne=()=>{se=0;let a=J,n=te,e=0;for(;n.length>0;){let f=n.shift(),{length:t,position:s}=f;Bt(s,a,e,t),e=e+t|0}},le=(a,n,e)=>{let{description:f}=a,{members:t}=f,s=t.find(i=>i.name===n[e]),r=L.find(i=>i.name===s.data.name);return r.type===De&&e<n.length-1?le(r,n,e+1):s},_e=a=>{let n=Number(a);if(isNaN(n))return"";if(Number.isInteger(n)){if(n>=-Math.pow(2,31)&&n<Math.pow(2,31))return"I32";if(n>=-Math.pow(2,63)&&n<Math.pow(2,63))return"I64"}else if(typeof n=="number")return a.replace(".","").length<=7?"FP32":"FP64"},pe=(a,n)=>{if(a.type===de)return n.get(a.name);if(a.type===bt)return pe(a.link,n);if(a.type===mt)return pe(a.value,n);if(a.type===ss)return n.get(a.array.name);if(a.type===ts){if(a.trail.length>1){let e=L.find(E=>E.name===a.trail[0]),{description:f}=e,{members:t}=f,s=0,r=t.find(E=>E.name===a.trail[s]),i=L.find(E=>E.name===r.data.name);return i.type===De&&s<a.trail.length-1?le(i,a.trail,s+1).data:r.data}return c.stack.get(a.trail[0])}if(a.type===ke)return a;if(a.type===es){let e=c.stack.get(a.value.name||a.value.link||a.value.value);if(e){let f=L.find(p=>p.name===e.name),{description:t}=f,{members:s}=t,r=0,i=s.find(p=>p.name===a.trail[r]),E=L.find(p=>p.name===i.data.name);return E.type===De&&r<a.trail.length-1?le(E,a.trail,r+1).data:i.data}}return null},Se=a=>{switch(a.type){case"select":return a.value.name;case"store":case"linkValue":return Se(a.link);case"valueLink":return Se(a.value)}return a.name},_t=(a,n)=>{let e=Wt[a];if(e){let f=e.find(t=>t.description&&Array.isArray(t.description.inputs)?t.description.inputs.length!==n.length?!1:t.description.inputs.every((s,r)=>s.data.name===n[r].data.name):!1);if(f)return f;T=O|0,N=position-A|0,Dt(a);return}else{T=O|0,N=position-A|0,jn(a);return}},Ke=a=>{let n=c.procedure.description.inputs.find(e=>e.name===a)||c.procedure.description.locals.find(e=>e.name===a);if(n){let e=L.find(f=>f.type===yt&&f.name===n.data.name);if(e)return{data:e}}return n},ye=a=>{let n;switch(a.type){case es:{let e=c.stack.get(a.value.name||a.value.link,a.value.value);if(e){let f=L.find(p=>p.name===e.name),{description:t}=f,{members:s}=t,r=0,i=s.find(p=>p.name===a.trail[r]),E=L.find(p=>p.name===i.data.name);E.type===De&&r<a.trail.length-1?n=le(E,a.trail,r+1):n=i}break}case bt:{n=ye(a.link);break}case mt:{n=ye(a.value);break}case ss:{n={data:c.stack.get(a.array.name)};break}case ts:{if(a.trail.length>1){let e=L.find(E=>E.name===trail[0]),{description:f}=e,{members:t}=f,s=0,r=t.find(E=>E.name===a.trail[s]),i=L.find(E=>E.name===r.data.name);i.type===De&&s<a.trail.length-1?n=le(i,a.trail,s+1):n=r.data}else n=c.stack.get(a.trail[0]);break}case"expression":break;default:{n=Ke(a.name);break}}if(!n)if(Qn.includes(a.name)){let e=a.inputs.map(t=>ye(t)),f=_t(a.name,e);n={data:{name:f.description.outputs[0].data.name,path:f.description.outputs[0].data.path}}}else a.type===ke&&(n={data:{type:ke,name:a.name,literal:a.literal,path:a.path}});return n},xe=(a,n)=>{let e=JSON.parse(JSON.stringify(a)),f=a.description.generics.map(s=>s.name);function t(s){for(let r in s)if(s[r]&&typeof s[r]=="object")t(s[r]);else if(r==="name"&&f.includes(s[r])){let i=f.indexOf(s[r]);s[r]=n[i].name,s.path=n[i].path}else if(r==="path"&&s[r].split(".").includes(e.name)){let i=s[r].split("."),E=i.indexOf(e.name),p=he(e.name,n);i[E]=p,s[r]=i.join(".")}}t(e);for(let s of U){let{description:r}=s,{inputs:i,outputs:E}=r,p=[...i,...E];if(s.type==="native"&&p.some(d=>f.includes(d.data.name))){let d=JSON.parse(JSON.stringify(s));t(d),U.push(d)}}return e},he=(a,n)=>{let f=n.map(t=>`${t.name}${t.segment?`_${t.segment}`:""}`).join("__");return`${a}___${f}`},Je=a=>a.type===mt&&a.value!==tt||a.type===bt&&a.link!==tt,{path:et,imports:ot,files:D}=P,C=new Map,R=new Map,G=new Map,V=new Map,Z=(a,n="")=>{let{name:e,path:f}=a,t=n||e,s=`${f}.${t}`;G.set(s,a);let r=V.get(t)||[];r.push(a),V.set(t,r)},{data:q}=ot;for(let a of q)Z(a);let $=[et],x=new pa.default,me=[],st=[],l=[],u=!1,m=!1,b=!1,h=!0,k=!1,B=!1,I=Me,o=Kt,c=null,H=null,ue=0,O=1,A=0,W=1,Oe=null,T=0,N=0,Ae=(a,n,e,f)=>{let t=n.subarray(e,e+f|0),s=S(t);return dl(a,n,e,f)?(T=O|0,N=a-A|0,Fa(s),!0):Ce(a,n,e,f)?(T=O|0,N=a-A|0,Ne(s),!0):!1};x.on($t,a=>{for(let n of st)n(a)}),x.on(Ie,a=>{for(let n of l)n(a)});let Tt=a=>{let n=Object.freeze({type:Sa,message:Be.FAIL_DUPLICATE_DATA(a),failureRow:T,failureColumn:N,name:a});b=!0,x.emit(Ie,n)},He=a=>{let n=Object.freeze({type:ha,message:Be.FAIL_DUPLICATE_OBJECT_MEMBER(a),failureRow:T,failureColumn:N,name:a});b=!0,x.emit(Ie,n)},Re=a=>{let n=W,e=rt(a),f=Object.freeze({type:Na,message:Be.FAIL_INDENTATION_MISMATCH(T),failureRow:T,failureColumn:N,expected:n,actual:e});m=!0,b=!0,x.emit(Ie,f)},yn=a=>{let n=Object.freeze({type:Ia,message:Be.FAIL_INDENTATION_NO_INCREASE(T),failureRow:T,failureColumn:N,indentation:W});m=!0,b=!0,x.emit(Ie,n)},Ne=a=>{let n=Object.freeze({type:Pa,message:Be.FAIL_INVALID_IDENTIFIER(a),failureRow:T,failureColumn:N,identifier:a});m=!0,b=!0,x.emit(Ie,n)},ja=(a,n)=>{let e=Object.freeze({type:da,message:Be.FAIL_RETURN_LENGTH_MISMATCH(a,n),failureRow:T,failureColumn:N});b=!0,x.emit(Ie,e)},wa=a=>{let n=Object.freeze({type:ka,message:Be.FAIL_IMMUTABLE_ASSIGNMENT(a),failureRow:T,failureColumn:N,variable:a});m=!0,b=!0,x.emit(Ie,n)},Fa=a=>{let n=Object.freeze({type:va,message:Be.FAIL_RESERVED_KEYWORD_USAGE(a),failureRow:T,failureColumn:N,keyword:a});m=!0,b=!0,x.emit(Ie,n)},w=(a,n)=>{let e=Object.freeze({type:Ta,message:Be.FAIL_UNEXPECTED_TOKEN(a,N),failureRow:T,failureColumn:N,reasons:n,token:a});m=!0,b=!0,x.emit(Ie,e)},Xt=a=>{let n=Object.freeze({type:Aa,message:Be.FAIL_UNRESOLVED_NAME(a),failureRow:T,failureColumn:N,name:a});m=!0,b=!0,x.emit(Ie,n)},ct=(a,n)=>{let e=Object.freeze({type:La,message:Be.FAIL_UNRESOLVED_OBJECT_MEMBER(a,n),failureRow:T,failureColumn:N,name:a});m=!0,b=!0,x.emit(Ie,e)},jn=a=>{let n=Object.freeze({type:Ra,message:Be.FAIL_UNKNOWN_PROCEDURE_NAME(a),failureRow:T,failureColumn:N,name:a});m=!0,b=!0,x.emit(Ie,n)},Ya=a=>{let n=Object.freeze({type:Nl,message:Be.FAIL_UNALLOWED_COPY(a),failureRow:T,failureColumn:N,name:a});m=!0,b=!0,x.emit(Ie,n)},je=a=>{let n=Object.freeze({type:Il,message:a,failureRow:T,failureColumn:N});m=!0,b=!0,x.emit(Ie,n)},Ga=a=>{let n=Object.freeze({type:Al,message:Be.FAIL_INPUT_TYPE_MISMATCH(T,a),failureRow:T,failureColumn:N,inputs:a});m=!0,b=!0,x.emit(Ie,n)},Dt=a=>{let n=Object.freeze({type:Tl,message:Be.FAIL_UNSUPPORTED_TYPE(a),failureRow:T,failureColumn:N,inputs});m=!0,b=!0,x.emit(Ie,n)},rt=a=>a-A|0,Rs=a=>{let n=W|0;return rt(a)<n},ks=(a,n)=>{let e=W|0,f=rt(a);switch(n){case zs:return f<=e;case bo:return f!==e}throw $s},Xl=a=>{U.push(a)},Jt=(a,n="")=>{let{name:e,path:f}=a,t=n||e,s=`${f}.${t}`,r={...a,name:t};if(!C.has(s)){L.push(r),C.set(s,r),G.has(s)||Z(r);return}},Pe=a=>{let n=V.get(a);if(!n)return null;if(n.length===1){let[e]=n;return e.type===yt?Jt(e,a):Jt(e),e}throw $s},Jl=(a,n)=>{let{description:e}=a,{inputs:f,locals:t}=e,{name:s}=n;for(let r of f)if(r.name===s)return r.data;for(let r of t)if(r.name===s)return r.data;return null},Va=(a,n,e,f)=>{switch(o){case Kt:{let t=n.subarray(e,e+f|0);if(c&&c.export&&(W=rt(a),Oe&&Oe!==W&&(j(),c=null,y(),Oe=null,W=1),Oe=W),z(t,il)){y(),I=Lo,o=lc,u=!0;return}if(z(t,ll)){y(),W=rt(a),c=Object.freeze({export:!0,indentation:W}),o=vo;return}if(z(t,tl)){y(),I=Io,o=Uo,u=!0;return}if(z(t,io)||z(t,mo)){y(),I=So,o=Qo,u=!0;return}if(z(t,dt)){y(),I=Js,o=uc,u=!0;return}if(z(t,lo)){y(),I=ho,o=is,u=!0;return}break}case vo:{if(n[e]===we){o=Kt,y(),o=Co;return}u=!0,o=Kt;break}case Co:{if(n[e]===Ee){o=Kt;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,wt);break}case Ro:{B=!1;let t=n.subarray(e,e+f|0);if(z(t,ol)){I=Ye,o=bc,u=!0;return}if(z(t,cl)){I=Ye,o=Hc,u=!0;return}if(z(t,sl)){I=Ye,o=Bc,u=!0;return}if(z(t,nl)){I=Ye,o=wc;return}if(z(t,fo)){I=Ye,o=Lc,u=!0;return}if(z(t,pt)||z(t,lt)||z(t,ns)){T=O|0,N=a-A|0;let i=S(t);w(i,cs);return}if(z(t,dt)){I=Ye,o=Sc,u=!0;return}if(z(t,rl)){I=Ye,o=Pc,u=!0;return}if(!Ae(a,n,e,f)){I=Ye,o=Xc,u=!0;return}T=O|0,N=a-A|0;let s=S(t);w(s,wl);break}case Ve:{let t=n[e],s=n.subarray(e,e+f|0),r=S(s);if(L.find(E=>E.type===ht&&E.description.labels.find(p=>p.name===r))){I=Ue,o=dn,u=!0;return}if(Fs(t)&&!ba(S(s))){if(L.find(d=>d.name===r&&d.type===De)){I=Ue,o=Er,u=!0;return}if(L.find(d=>d.type===ht&&d.name===r)){I=Ue,o=dn,u=!0;return}}if(z(s,os)){I=Ue,o=Lr,u=!0;return}if(z(s,_o)){I=Ue,o=Nr,u=!0;return}if(z(s,fo)){I=Ue,o=ar,u=!0;return}if(z(s,pt)){I=Ue,o=Is,u=!0;return}if(z(s,lt)){I=Ue,o=Is,u=!0;return}if(z(s,ns)){I=Ue,o=Is,u=!0;return}if(z(s,ul)){I=Ue,o=Gr,u=!0;return}o=Ws,u=!0;break}case Ws:{ie(a,n,e,f),o=ko;break}case ko:{ie(a,n,e,f);let t=n[e];if(t===Te){I=Ue,o=Ss,ne();return}if(t===Ot){I=Ue,o=Or,ne();return}if(t===Fe){I=Ue,o=Ss,ne();return}if(t===Ge){o=Ws;return}I=Ue,o=ir,ne();break}}},ga=(a,n,e,f)=>{switch(o){case Uo:{let t=$.join("."),s=Object.seal({labels:[],generics:[]}),r=Object.seal({type:ht,name:Qe,path:t,description:s});c=Object.seal({enumeration:r}),o=Do;break}case Do:{let{enumeration:t}=c,s=n.subarray(e,e+f|0),r=S(s);if(Ae(a,n,e,f))return;t.name=r,o=Bo;break}case Bo:{let t=n[e];if(t===we){o=Mo;return}if(t===Fe){let{enumeration:E}=c,{description:p}=E,{generics:d}=p;y(),c=d,I=gt,o=zt,u=!0;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,ft);break}case Mo:{if(n[e]===Ee){o=yo;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,wt);break}case yo:{W=rt(a),o=Qs,u=!0;break}case Qs:{let{enumeration:t}=c;if(Rs(a)){if(Jt(t),j(),c&&c.export){let s=Object.freeze({name:t.name,type:t.type,path:Dn});Y.push(s);let r=W;j(),W===r&&j(),W<r&&y()}u=!0;return}o=jo,u=!0;break}case jo:{let{enumeration:t}=c,{description:s}=t,{labels:r}=s,i=n.subarray(e,e+f|0),E=S(i);if(Ae(a,n,e,f))return;let p={name:E};r.push(p),o=Qs,y(),o=wo;break}case wo:{let t=n[e];if(u=!0,t===Te){o=Fo;return}let{enumeration:s}=c,{description:r}=s,{labels:i}=r,E=i.length-1;c=Object.seal({label:i[E]}),o=qs;break}case Fo:{if(n[e]===Te){o=Yo;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Xe);break}case Yo:{let{enumeration:t}=c,{description:s}=t,{labels:r}=s;if(Ce(a,n,e,f)){T=O|0,N=a-A|0,Ne(E);return}let i=n.subarray(e,e+f|0),E=S(i),p=r.pop();p.data={name:E,path:et},r.push(p),o=Go;break}case Go:{if(n[e]===we){o=Vo;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,ft);break}case Vo:{let{enumeration:t}=c,{description:s}=t,{labels:r}=s,i=n.subarray(e,e+f|0),E=S(i);if(Ae(a,n,e,f))return;let p=r.pop();p.data.type=E,r.push(p),c=Object.seal({label:p}),o=go;break}case go:{if(n[e]===Le){o=qs;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,$e);break}case qs:{if(n[e]===Ee){j();return}break}}},Ka=(a,n,e,f)=>{switch(o){case zt:{o=Xo,u=!0;break}case Xo:{if(n[e]===Fe){o=as;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Xe);break}case as:{let t=n[e];if(t===Ee)return;if(t===Ze){j();return}o=Jo,u=!0;break}case Jo:{let t=n.subarray(e,e+f|0),s=S(t);if(Ae(a,n,e,f))return;y();let r=Object.seal({type:yt,name:s,path:et});c=Object.seal({name:s,data:r}),Z(c.data,c.name),o=Wo;break}case Wo:{let t=c;j(),c.push(t);let r=n[e];if(r===Ze){o=as,u=!0;return}if(r===ve){o=as;return}T=O|0,N=a-A|0;let i=n.subarray(e,e+f|0),E=S(i);w(E,$e);break}}},Ha=(a,n,e,f)=>{switch(o){case Ht:{o=Ko,u=!0;break}case Ko:{if(n[e]===Te){o=rs;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Xe);break}case rs:{let t=n[e];if(t===Ee)return;if(t===Le){j();return}o=Ho,u=!0;break}case Ho:{let t=n.subarray(e,e+f|0);if(y(),z(Eo,t)){c=Object.seal({name:null,mutable:!0,data:null}),o=Zs;return}c=Object.seal({name:null,data:null}),o=Zs,u=!0;break}case Zs:{let t=n.subarray(e,e+f|0),s=S(t);if(Ae(a,n,e,f))return;c.name=s,o=zo;break}case zo:{if(n[e]===we){o=$o,y(),I=Rt,o=Et;return}break}case $o:{let t=c;j();let s=c,{mutable:r,...i}=t;s.push(i);let E=n[e];if(E===Le){o=rs,u=!0;return}if(E===ve){o=rs;return}T=O|0,N=a-A|0;let p=n.subarray(e,e+f|0),d=S(p);w(d,$e);break}}},za=(a,n,e,f)=>{switch(o){case Qo:{let t=$.join("."),s=Object.seal({members:[],generics:[]}),r=Object.seal({type:De,name:Qe,copy:!0,path:t,description:s});c=Object.seal({mapNameMember:new Map,object:r}),o=qo,u=!0;break}case qo:{let t=n.subarray(e,e+f|0);if(o=Zo,z(t,mo)){c.object.copy=!1;return}u=!0;break}case Zo:{let t=n.subarray(e,e+f|0);if(z(t,io)){o=xo;return}T=O|0,N=a-A|0;let s=S(t);w(s,ft);break}case xo:{let{object:t}=c,s=n.subarray(e,e+f|0),r=S(s);if(Ae(a,n,e,f))return;let i=Pe(r);i&&$.join(".")===i.path&&(T=O|0,N=a-A|0,Tt(r)),t.name=r,o=rc;break}case rc:{if(n[e]===Fe)o=ac,u=!0;else if(n[e]===we)o=xs,u=!0;else{let t=n.subarray(e,e+f|0),s=S(t);T=O|0,N=a-A|0,Ne(s);return}break}case ac:{let{object:t}=c,{description:s}=t,{generics:r}=s;o=xs,y(),c=r,I=gt,o=zt,u=!0;break}case xs:{if(n[e]===we){o=ec;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,ft);break}case ec:{if(n[e]===Ee){o=tc;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,wt);break}case tc:{if(ks(a,zs)){let t=me.length;if(me.length<1||me[t-1].item.indentation>=W){T=O|0,N=a-A|0,yn(a);return}}W=rt(a),o=us,u=!0;break}case us:{let{object:t}=c;if(Rs(a)){if(Jt(t),j(),c&&c.export){let s=Object.freeze({name:t.name,type:t.type,path:Dn});Y.push(s);let r=W;j(),W===r&&j(),W<r&&y()}u=!0;return}if(ks(a,bo)){T=O|0,N=a-A|0,Re(a);return}o=sc,u=!0;break}case sc:{let{object:t,mapNameMember:s}=c,{description:r}=t,{members:i}=r,E=n.subarray(e,e+f|0),p=S(E);if(z(lo,E)){o=us,y(),I=Po,o=is,u=!0;return}if(Ae(a,n,e,f))return;s.has(p)&&(T=O|0,N=a-A|0,He(p));let d=Object.seal({name:p,data:null});i.push(d),s.set(p,d),o=us,y(),c=Object.seal({member:d}),o=nc;break}case nc:{if(n[e]===we){o=oc;return}break}case oc:{o=cc,y(),c=Object.seal({data:null}),y(),I=Rt,o=Et,u=!0;break}case cc:{if(n[e]===Ee){let{data:E}=c;j();let{member:p}=c;p.data=E,j();return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Ft);break}}},$a=(a,n,e,f)=>{switch(o){case is:{let{mapNameMember:t,object:s}=c,{name:r}=s,i=new Map(t),E=`${$.join(".")}.${r}`,p=Object.seal({generics:[],inputs:[],locals:[],outputs:[],statements:[]}),d=Object.seal({type:it,name:Qe,path:E,description:p});c=Object.seal({procedure:d,stack:i}),o=ls;break}case ls:{let{procedure:t}=c,s=n.subarray(e,e+f|0),r=S(s);if(Ae(a,n,e,f))return;t.name=r,o=fs;break}case fs:{if(n[e]===Fe)o=Es,u=!0;else if(n[e]===Te)o=vt,u=!0;else{let t=n.subarray(e,e+f|0),s=S(t);T=O|0,N=a-A|0,Ne(s);return}break}case Es:{let{procedure:t}=c,{description:s}=t,{generics:r}=s;o=vt,y(),c=r,I=gt,o=zt,u=!0;break}case vt:{let{procedure:t}=c,{description:s}=t,{inputs:r}=s;o=_s,y(),c=r,I=Vt,o=Ht,u=!0;break}case _s:{let{procedure:t,stack:s}=c,{description:r}=t,{inputs:i}=r;for(let v of i){let{name:M,data:K}=v;s.set(M,K)}let E=n.subarray(e,e+f|0);if(z(E,uo)){o=ms;return}T=O|0,N=a-A|0;let p=S(E);w(p,Oo);break}case ms:{let{procedure:t}=c,{description:s}=t,{outputs:r}=s;o=bs,y(),c=r,I=Vt,o=Ht,u=!0;break}case bs:{if(n[e]===we){o=ps;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,ft);break}case ps:{if(n[e]===Ee){o=Os;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,wt);break}case Os:{let{procedure:t,stack:s}=c,{description:r}=t,{statements:i}=r;o=As,y(),c=Object.seal({procedure:t,stack:s,statements:i}),I=Ye,o=Ct,u=!0;break}case As:{let{procedure:t}=c,{name:s}=t;j();let{object:r,mapNameMember:i}=c,{description:E}=r,{members:p}=E;i.has(s)&&(T=O|0,N=a-A|0,He(s));let d=Object.seal({name:t.name,data:{name:t.name,type:t.type,path:t.path}});p.push(t),i.set(s,d),u=!0;break}}},Xa=(a,n,e,f)=>{switch(o){case uc:{let t=n.subarray(e,e+f|0);if(z(t,dt)){y(),I=Js,o=ic,u=!0;return}break}case ic:{if(n[e]===Ee){j();return}break}}},Ja=(a,n,e,f)=>{switch(o){case is:{let t=new Map,s=$.join("."),r=Object.seal({generics:[],inputs:[],locals:[],outputs:[],statements:[]}),i=Object.seal({type:it,name:Qe,path:s,description:r});c=Object.seal({procedure:i,stack:t}),o=ls;break}case ls:{let{procedure:t}=c,s=n.subarray(e,e+f|0),r=S(s);if(Ae(a,n,e,f))return;t.name=r,o=fs;break}case fs:{if(n[e]===Fe)o=Es,u=!0;else if(n[e]===Te)o=vt,u=!0;else{let t=n.subarray(e,e+f|0),s=S(t);T=O|0,N=a-A|0,Ne(s);return}break}case Es:{let{procedure:t}=c,{description:s}=t,{generics:r}=s;o=vt,y(),c=r,I=gt,o=zt,u=!0;break}case vt:{let{procedure:t}=c,{description:s}=t,{inputs:r}=s;o=_s,y(),c=r,I=Vt,o=Ht,u=!0;break}case _s:{let{procedure:t,stack:s}=c,{description:r}=t,{inputs:i}=r;for(let v of i){let{name:M,data:K}=v;s.set(M,K)}let E=n.subarray(e,e+f|0);if(z(E,uo)){o=ms;return}T=O|0,N=a-A|0;let p=S(E);w(p,Oo);break}case ms:{let{procedure:t}=c,{description:s}=t,{outputs:r}=s;o=bs,y(),c=r,I=Vt,o=Ht,u=!0;break}case bs:{if(n[e]===we){o=ps;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,ft);break}case ps:{if(n[e]===Ee){o=Os;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,wt);break}case Os:{let{procedure:t,stack:s}=c,{description:r}=t,{statements:i}=r;o=As,y(),c=Object.seal({procedure:t,stack:s,statements:i}),I=Ye,o=Ct,u=!0;break}case As:{let{procedure:t}=c;if(U.push(t),j(),c&&c.export){let s=Object.freeze({name:t.name,type:t.type,path:ma});Y.push(s);let r=W;j(),W===r&&j(),W<r&&y()}u=!0;break}}},Wa=(a,n,e,f)=>{switch(o){case Ct:{if(ks(a,zs)){T=O|0,N=a-A|0,yn(a);return}W=rt(a),o=mc,u=!0;break}case mc:{let t=n.subarray(e,e+f|0);if(Rs(a)){j(),u=!0;return}y(),I=Me,o=Ro,u=!0;break}case wc:{let{statements:t}=c,s={type:xi};t.push(s),j();break}case Bc:{let{procedure:t,stack:s,statements:r}=c,i=Object.freeze({type:Xi,statements:[]});r.push(i),y(),c=Object.seal({blockLoop:i,procedure:t,stack:s,value:0}),o=Mc;break}case Mc:{if(n[e]===we){o=yc;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,ft);break}case yc:{let{blockLoop:t,procedure:s,stack:r}=c,{statements:i}=t;if(n[e]===Ee){o=jc,y(),c=Object.seal({procedure:s,stack:r,statements:i}),I=Ye,o=Ct;return}T=O|0,N=a-A|0;let p=n.subarray(e,e+f|0),d=S(p);w(d,Ft);break}case jc:{j(),j(),u=!0;break}case bc:{let{procedure:t,stack:s,statements:r}=c,i=Object.freeze({type:$i,branches:[],values:[]});r.push(i),y(),c=Object.seal({blockCondition:i,procedure:t,stack:s,value:0}),o=Fc;break}case Fc:{ie(a,n,e,f),o=Yc;break}case Yc:{ie(a,n,e,f);let t=n[e],s=n.subarray(e,e+f|0);if(t===Te){o=Gc,ne();return}if(z(s,ao)){o=tn,ne();return}break}case Hc:{let{stack:t,branches:s,procedure:r}=c,i={type:no,statements:[],values:[]};s.push(i),c=Object.seal({branch:i,stack:t,procedure:r}),o=un;break}case Gc:{let t=n.subarray(e,e+f|0),{blockCondition:s,stack:r,procedure:i}=c,{branches:E}=s,p={type:so,statements:[],values:[]};E.push(p);let d=S(t),v={type:Vs,name:d,path:ge,inputs:[]},M=U.find(K=>K.type===it&&K.name===d);M&&(v.path,M.path),c=Object.seal({blockCondition:s,branch:p,stack:r,value:v,procedure:i}),o=Vc;break}case Vc:{if(n[e]===Te){o=tr;return}T=O|0,N=a-A|0;let t=n.subarray(e,e+f|0),s=S(t);w(s,Xe);break}case tr:{let{stack:t,procedure:s}=c;if(n[e]===Le){o=Ns,u=!0;return}o=mn,y(),c={stack:t,procedure:s,value:null},y(),o=Ve,I=Me,u=!0;break}case Hl:{let{inputs:t,stack:s}=c,r=n.subarray(e,e+f|0),i=S(r);if(Ae(a,n,e,f))return;if(s.has(i)){let E=Object.freeze({type:de,name:i});values.push(E)}else{let{procedure:E}=c,{description:p}=E,{outputs:d}=p,v=i,{name:M,path:K}=d[0].data,g=Object.freeze({type:ke,literal:v,name:M,path:K});values.push(g)}o=mn;break}case mn:{let{value:t}=c;j();let{value:s,stack:r,procedure:i}=c,{inputs:E}=s;E.push(t);let p=n[e];if(p===Le){o=Ns,u=!0;return}if(p===ve){y(),c={stack:r,procedure:i,value:null},y(),o=Ve,I=Me;return}T=O|0,N=a-A|0;let d=n.subarray(e,e+f|0),v=S(d);w(v,po);break}case Kl:{let t=n[e];if(t===Le){u=!0,o=Ns;return}if(t===ve)return;let{value:s,stack:r}=c,{inputs:i}=s,E=n.subarray(e,e+f|0),p=S(E);if(r.has(p)){let d=Object.freeze({type:de,name:p});i.push(d),Pe(d.name);return}if(St(a,n,e,f)){let d=p,v=_e(d),M=Object.freeze({type:ke,literal:d,name:v,path:ge});i.push(M),Pe(M.name);return}break}case Ns:{let{value:t,branch:s,stack:r}=c,{values:i}=s,{name:E}=t,p=Wt[E];if(p){let K=t.inputs.map(X=>ye(X))||[],g=p.find(X=>X.description&&Array.isArray(X.description.inputs)?X.description.inputs.length!==K.length?!1:X.description.inputs.every((oe,re)=>oe.data.name===K[re].data.name):!1);g&&U.push(g)}if(i.push(t),Pe("Bool"),n[e]===Le){o=un;return}T=O|0,N=a-A|0;let d=n.subarray(e,e+f|0),v=S(d);w(v,$e);break}case un:{let t=n.subarray(e,e+f|0);if(n[e]===we){o=gc;return}T=O|0,N=a-A|0;let s=S(t);w(s,Yt);break}case gc:{let{branch:t,procedure:s,stack:r}=c,{statements:i}=t;if(n[e]===Ee){o=Kc,y(),c=Object.seal({procedure:s,stack:r,statements:i}),I=Ye,o=Ct;return}T=O|0,N=a-A|0;let p=n.subarray(e,e+f|0),d=S(p);w(d,Ft);break}case Kc:{let{branch:t}=c;if(t.type===no){j(),j();let{branches:s,...r}=c;c=Object.seal(r)}else{let{blockCondition:s}=c,{branches:r}=s;j(),j(),c=Object.seal({...c,branches:r})}u=!0;break}case tn:{let{blockCondition:t,stack:s}=c,{values:r}=t,i=n.subarray(e,e+f|0),E=S(i);if(Ae(a,n,e,f))return;if(s.has(E)){let p=Object.freeze({type:de,name:E});r.push(p)}o=pc;break}case pc:{if(n[e]===ve){o=tn;return}let s=n.subarray(e,e+f|0);if(z(s,ao)){o=Oc,y(),o=Ac,u=!0;return}T=O|0,N=a-A|0;let r=S(s);w(r,jl);break}case Oc:{j(),j(),u=!0;break}case Ac:{let{blockCondition:t,procedure:s,stack:r}=c,{branches:i}=t,E=Object.seal({type:so,statements:[],values:[]});i.push(E),c=Object.seal({blockCondition:t,branchMatch:E,procedure:s,stack:r}),o=sn;break}case sn:{let{blockCondition:t,branchMatch:s,stack:r}=c,{values:i}=t,{values:E}=s,p=n.subarray(e,e+f|0),d=S(p);if(Ae(a,n,e,f))return;if(r.has(d)){let v=Object.freeze({type:de,name:d});E.push(v)}else{let{procedure:v}=c,{description:M}=v,{outputs:K}=M,g=d,{name:X,path:oe}=K[0].data,re=Object.freeze({type:ke,literal:g,name:X,path:oe});E.push(re)}o=Tc;break}case Tc:{let t=n[e];if(t===ve){o=sn;return}if(t===we){o=Nc;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,ft);break}case Nc:{let{branchMatch:t,procedure:s,stack:r}=c,{statements:i}=t;if(n[e]===Ee){o=Ic,y(),c=Object.seal({procedure:s,stack:r,statements:i}),I=Ye,o=Ct;return}T=O|0,N=a-A|0;let p=n.subarray(e,e+f|0),d=S(p);w(d,Ft);break}case Ic:{j();let t=n.subarray(e,e+f|0),s=S(t);u=!0;break}case Sc:{o=hc;break}case hc:{if(n[e]===Ee){j();return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Ft);break}case Pc:{let{procedure:t,stack:s,statements:r}=c,i=Object.seal({type:Qi,values:[]});r.push(i),y();let E=O|0,p=a-A|0,d=Object.freeze({row:E,column:p});c=Object.seal({commandReturn:i,coordinates:d,procedure:t,stack:s}),o=dc;break}case dc:{let{stack:t,procedure:s}=c;if(n[e]===Ee){o=on,u=!0;return}o=nn,y(),c={stack:t,procedure:s,value:null},y(),o=Ve,I=Me,u=!0;break}case gl:{let{commandReturn:t,stack:s}=c,{values:r}=t,i=n.subarray(e,e+f|0),E=S(i);if(Ae(a,n,e,f))return;if(s.has(E)){let p=Object.freeze({type:de,name:E});r.push(p)}else{let{procedure:p}=c,{description:d}=p,{outputs:v}=d,M=E,{name:K,path:g}=v[0].data,X=Object.freeze({type:ke,literal:M,name:K,path:g});r.push(X)}o=nn;break}case nn:{let{value:t}=c;j();let{commandReturn:s,stack:r,procedure:i}=c,{values:E}=s;E.push(t);let p=n[e];if(p===Ee){o=on,u=!0;return}if(p===ve){y(),c={stack:r,procedure:i,value:null},y(),o=Ve,I=Me;return}T=O|0,N=a-A|0;let d=n.subarray(e,e+f|0),v=S(d);w(v,po);break}case on:{let{commandReturn:t,coordinates:s,procedure:r}=c,{values:i}=t,{description:E}=r,{outputs:p}=E;i.length!==p.length&&(T=s.row|0,N=s.column|0,ja(p.length,i.length)),j(),j();break}case Xc:{let t=n.subarray(e,e+f|0),{procedure:s,stack:r,statements:i}=c,E={type:de,name:null},p=Object.seal({type:xt,target:E,source:null});c=Object.freeze({declarationValue:p,procedure:s,stack:r,statements:i,target:E}),z(Eo,t)?(E.mutable=!0,o=cn):(u=!0,o=_n);break}case _n:{ie(a,n,e,f),o=qc;break}case qc:{if(ie(a,n,e,f),n[e]===Te){let{procedure:t,stack:s,statements:r}=c;o=Zc;let i=Object.seal({type:el,expression:null});c=Object.seal({stack:s,procedure:t,drop:i,value:null,statements:r}),y(),I=Ue,o=Ss,ne();return}if(n[e]===Ge){o=_n;return}o=cn,ne();break}case Zc:{let{statements:t,drop:s,value:r}=c;s.expression=r,t.push(s),j();break}case cn:{let{stack:t}=c,s=n.subarray(e,e+f|0),r=S(s),i=t.get(r);if(t.has(r)&&!i.mutable&&(B=!0),z(_o,s)){u=!0,o=Jc;return}let{target:E}=c;E.name=r,o=rn;break}case rn:{let t=n[e],{procedure:s,stack:r,statements:i,target:E}=c;if(t===Ot){let M=c.declarationValue,K={type:xt,target:{type:zi,array:{type:de,name:M.target.name},index:{type:null,name:null,literal:null,path:null}},source:null};c=Object.seal({declarationValue:K,procedure:s,stack:r,statements:i}),u=!0,o=Uc;return}if(t===Ge){let M=c.declarationValue,K=[],g=M.target;c=Object.seal({declarationValue:{type:xt,target:{type:es,value:g,trail:K},source:null},procedure:s,stack:r,statements:i}),y(),c=Object.seal({stack:r,trail:K,value:g}),o=ln;return}if(t===we){u=!0,o=kc;return}if(t===Le){let{declarationValue:M}=c;j(),c.declarationValue.target=M.target,u=!0;return}if(t===gs){let M=c.declarationValue?.target&&Se(c.declarationValue?.target);if(M&&M!==tt&&!r.get(M)){T=O|0,N=a-A|0,Xt(M);return}o=Ts;return}T=O|0,N=a-A|0;let p=n.subarray(e,e+f|0),d=S(p);w(d,Yt);break}case Jc:{c.target.type=ts,c.target.trail=[],delete c.target.name,o=fn;break}case fn:{if(n[e]===Ge){o=Wc;return}o=En,u=!0;break}case Wc:{let t=n.subarray(e,e+f|0),s=S(t);c.target.trail.push(s),o=Qc;break}case Qc:{if(n[e]===Ge){o=fn,u=!0;return}o=En,u=!0;break}case En:{o=At,u=!0;break}case Uc:{if(n[e]===Ot){o=Dc;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Ao);break}case Dc:{let{stack:t}=c,s=n.subarray(e,e+f|0),r=S(s);if(t.has(r)){let p=t.get(r);if(p.name==="I64"||p.name==="FP32"||p.name==="U64"||p.name==="FP64"){T=O|0,N=a-A|0,je("Invalid index. Array index should have a valid variable type. Check documentation for reference");return}c.declarationValue.target.index={type:de,name:r},o=an;return}if(St(a,n,e,f)){let p=r,d=_e(p);if(d!=="I32"){T=O|0,N=a-A|0,je("Invalid index. Array index should be a valid I32 variable");return}let v=Object.freeze({type:ke,literal:p,name:d||"I32",path:ge});Pe(v.name),c.declarationValue.target.index=v,o=an;return}let i=S(s);w(i,cs);break}case an:{if(n[e]===Ks){o=At;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,To);break}case Lc:{let{procedure:t,stack:s,statements:r}=c,i=Object.seal({type:Zi,link:null}),E=Object.seal({type:xt,target:i,source:null});c=Object.freeze({declarationValue:E,procedure:t,stack:s,statements:r}),o=xc;break}case xc:{if(n[e]===Te){o=Rc;return}T=O|0,N=a-A|0;let t=n.subarray(e,e+f|0),s=S(t);w(s,Xe);break}case Rc:{let{stack:t,procedure:s}=c;o=er,y(),c={stack:t,procedure:s,value:null},y(),o=Ve,I=Me,u=!0;break}case er:{if(n[e]===Le){let{value:i}=c;j(),c.declarationValue.target.link=i,o=rn;return}T=O|0,N=a-A|0;let t=n.subarray(e,e+f|0),s=S(t);w(s,$e);break}case zc:{if(n[e]!==Ge){j(),u=!0;return}o=ln;break}case ln:{let{stack:t,value:s,trail:r}=c,i=n.subarray(e,e+f|0),E=S(i),p,d,v=!1;if(s.type===de){let{name:M}=s;p=t.get(M)}if(p){let{name:M,path:K}=p,g=`${K}.${M}`,X=G.get(g);X.type===De&&(d=X)}if(d){let{description:M}=d,{members:K}=M;for(let g of K)if(g.name===E){v=!0;break}if(!v){T=O|0,N=a-A|0,ct(E,s.name);return}}if(s.value===tt||s.link===tt){if(!t.get(E)){T=O|0,N=a-A|0,ct(E,`${tt}(current object in definition)`);return}v=!0}if(!v){T=O|0,N=a-A|0,ct(E,s.name);return}r.push(E),o=zc;break}case kc:{let t=n.subarray(e,e+f|0),s=S(t);if(n[e]===we){let{target:E,stack:p}=c,{name:d}=E;if(p.has(d)){T=O|0,N=a-A|0,Tt(d);return}if(n[e+1]===gs&&f>1){o=$c,u=!0;return}o=vc;return}T=O|0,N=a-A|0,w(s,Fl);break}case vc:{let{declarationValue:t,procedure:s,stack:r}=c,{target:i}=t,{description:E}=s,{locals:p}=E,d=n.subarray(e,e+f|0),v=S(d);if(Ce(a,n,e,f)){T=O|0,N=a-A|0,Ne(v);return}if(z(jt,d)){o=At,y(),I=kt,o=Cn,u=!0;return}if(z(d,lt)||z(d,pt)){o=At,y(),I=kt,o=Un,u=!0;return}if(z(d,os)){o=At,y(),I=kt,o=ia,u=!0;return}let M=Pe(v);if(M){let K=Object.seal({type:qe,name:M.name,path:M.path}),g;i.mutable?g=Object.freeze({name:i.name,data:{...K,mutable:i.mutable}}):g=Object.freeze({name:i.name,data:K}),r.set(i.name,g.data),p.push(g)}o=At;break}case $c:{let{declarationValue:t,procedure:s,stack:r,statements:i}=c,{target:E}=t,{description:p}=s,{locals:d}=p,v;E.mutable?(v={name:E.name,mutable:E.mutable,data:null},delete E.mutable):v=Object.seal({name:E.name,data:null}),r.set(E.name,v.data),d.push(v),c=Object.seal({declarationValue:t,procedure:s,stack:r,statements:i,inferenceValue:v}),o=Ts;break}case At:{let t=n.subarray(e,e+f|0);if(z(t,ro)){o=Ts;return}T=O|0,N=a-A|0;let s=S(t);w(s,Yt);break}case Ts:{let{procedure:t,stack:s,target:r}=c,i=n[e];if(Ce(a,n,e,f)&&i!==Ot){let E=n.subarray(e,e+f|0),p=S(E);T=O|0,N=a-A|0,Ne(p);return}o=Cc,y(),c=Object.seal({procedure:t,stack:s,value:null}),y(),I=Me,o=Ve,u=!0;break}case Cc:{if(n[e]===Ee){let{value:E}=c;j();let{declarationValue:p,statements:d,stack:v}=c;if(c.inferenceValue){let re=function(Q){let ce;switch(Q.type){case de:{let ee=v.get(Q.name);ee.type===qe?ce=ee:ee.type===ke?(ce={type:qe,name:ee.name,path:ee.path},Q.mutable&&(ce.mutable=Q.mutable)):(ee.type==="Array"||ee.type==="Link")&&(ce=ee);let{moved:be,...fe}=ce;ce=fe;break}case ke:{ce={type:qe,name:Q.name,path:Q.path},Q.layout===S(jt)&&(ce.type=S(jt),ce.length=Q.literal.length);break}case oo:{ce={type:Q.type,name:Q.data.name,path:Q.data.path};break}case co:{ce=re(Q.value);break}case Vs:{let ee=fe=>U.find(ze=>ze.type===it&&ze.name===fe.name)?.description.outputs[0]?.data,be=(fe,ze)=>{let We;for(let nt=0;ze&&nt<=fe.name.length-2;nt++)ze=v.get(fe.name[nt]),ze&&(We=L.find(Nt=>Nt.type===De&&Nt.name===ze.name));return We?.description.members?.find(nt=>nt.name===fe.name[fe.name.length-1])?.description.outputs[0]?.data};if(Q.path!==ge){if(ce=ee(Q),typeof Q.name=="object"){let fe=v.get(Q.name[0]);ce=be(Q,fe)}}else if(Pl.has(Q.name))ce={type:qe,name:"Bool",path:ge},Pe(ce.name);else{let fe=Q.inputs.map(We=>pe(We,v)),ze=U.find(We=>We.description&&Array.isArray(We.description.inputs)?We.description.inputs.length!==fe.length?!1:We.description.inputs.every((nt,Nt)=>nt.data.name===fe[Nt].name):!1);if(ze){let{description:We}=ze,{outputs:nt}=We,Nt=nt[0],{data:tu}=Nt,{name:su,path:nu}=tu;ce={type:qe,name:su,path:nu}}else{T=O|0,N=a-A|0,je(`Unable to find expression matching: ${fe}`);return}}break}case mt:{ce={...re(Q.value)},Q.unsafe&&(ce.unsafe=Q.unsafe),Q.smart&&(ce.smart=Q.smart);break}case bt:{let ee=v.get(Q.link);ce={type:qe,name:ee.name,path:ee.path};break}case ss:{let ee=v.get(Q.array.name);ce={type:qe,name:ee.name,path:ee.path};break}default:{console.log("Unhandled: ",Q.type);break}}return ce},{inferenceValue:oe}=c;oe.data=re(E),oe.mutable&&(oe.data.mutable=oe.mutable,delete oe.mutable),v.set(oe.name,oe.data)}let{target:M}=p,K=Se(M),g=Se(E);if(v.has(g)){let oe=L.find(re=>re.name===v.get(g).name&&re.type===De);oe&&!oe.copy&&(T=O|0,N=a-A|0,Ya(g))}K&&K!==tt&&(oe=>{if(!v.get(oe)?.mutable&&B){T=O|0,N=a-A|0,wa(oe);return}})(K),p.source=E,d.push(p),j();return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Yl);break}}},Qa=(a,n,e,f)=>{switch(o){case Et:{let t=n.subarray(e,e+f|0),s=S(t);if(Ce(a,n,e,f)&&!at.includes(s)){T=O|0,N=a-A|0,Ne(s);return}if(o=sr,z(lt,t)){c.data=Object.seal({type:s,unsafe:!0});return}if(z(pt,t)){c.data=Object.seal({type:s});return}if(z(os,t)){c.data=Object.seal({type:s});return}if(z(jt,t)){c.data={type:s};let i=me.length;if(me[i-1].situationGeneral===4){y();let{data:p}=c;c={isEnum:!0,type:p},u=!0,o=Cn,I=kt;return}return}let r=Pe(s);if(r){r.type===yt?c.data=Object.seal({type:qe,name:s,path:r.path}):c.data=Object.seal({type:qe,name:r.name,path:r.path}),c.mutable&&(c.data=Object.seal({...c.data,type:S(pt),unsafe:!0,mutable:c.mutable}));return}console.log("Failed to find type",s),T=O|0,N=a-A|0,Xt(s),j();break}case sr:{let t=n.subarray(e,e+f|0);if(n[e]===Fe){u=!0,o=nr;return}j(),u=!0;break}case nr:{if(n[e]===Fe){o=or;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Gt);break}case or:{let t=n.subarray(e,e+f|0),s=S(t),r=Pe(s);if(r){let{data:E}=c,{unsafe:p,type:d,smart:v}=E,M=ae(d);if(z(M,lt))c.data=Object.seal({type:d.replace(/!!$/,""),name:r.name,path:r.path,segment:Qe,unsafe:p});else if(z(M,pt))c.data=Object.seal({type:d,name:r.name,path:r.path,segment:Qe});else if(z(M,ns))c.data=Object.seal({type:d,name:r.name,path:r.path,segment:Qe,smart:v});else{if(L.find(g=>g.type===De&&g.name===E.name)){o=cr,y(),c=[],y(),c={data:null},y(),u=!0,o=Et;return}c.data=Object.seal({type:d,name:r.name,path:r.path})}c.mutable&&(c.data=Object.seal({...c.data,mutable:c.mutable}));return}let i=n[e];if(i===ve)return;if(i===Ze){u=!0,o=bn;return}c.data.segment!==void 0&&(c.data.segment=s),o=bn;break}case cr:{let t=n[e],{data:s}=c;if(j(),c.push(s),t===ve){y(),c={data:null},y(),o=Et;return}if(t===Ze){let p=c;j();let d=L.find(M=>M.type===De&&M.name===c.data.name);if(!(d.description?.generics?.length===p.length)){T=O|0,N=a-A|0,je(`Generic object '${name}' was provided with fewer or more than expect number of types. Expected: ${d.description.generics.length}. Got: ${p.length}`);return}c.data.name=he(c.data.name,p),j();return}T=O|0,N=a-A|0;let r=n.subarray(e,e+f|0),i=S(r);w(i,Lt);break}case bn:{if(n[e]===Ze){j();return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Lt);break}}},qa=(a,n,e,f)=>{switch(o){case Cn:{let t=n.subarray(e,e+f|0),s=S(t),r=Object.seal({type:s,name:null,length:null,path:ge});c=Object.seal({...c,type:r}),o=Wr;break}case Wr:{let t=n.subarray(e,e+f|0);if(n[e]===Fe){o=Qr;return}T=O|0,N=a-A|0;let s=S(t);w(s,Gt);break}case Qr:{let t=n.subarray(e,e+f|0),s=S(t);if(Ce(a,n,e,f)&&!at.includes(s)){let r=n.subarray(e,e+f|0),i=S(r);T=O|0,N=a-A|0,Ne(i);return}Pe(s),c.type.name=s,o=qr;break}case qr:{let t=n.subarray(e,e+f|0);if(n[e]===Ze){o=Zr;return}T=O|0,N=a-A|0;let s=S(t);w(s,Lt);break}case Zr:{let t=n.subarray(e,e+f|0);if(n[e]===Te){o=xr;return}T=O|0,N=a-A|0;let s=S(t);w(s,Xe);break}case xr:{let t=n.subarray(e,e+f|0);if(z(al,t)){o=ea;return}T=O|0,N=a-A|0;let s=S(t);w(s,Xs);break}case ea:{let t=n.subarray(e,e+f|0);if(z(ro,t)){o=ta;return}T=O|0,N=a-A|0;let s=S(t);w(s,Yt);break}case ta:{if(Ce(a,n,e,f)){let r=n.subarray(e,e+f|0),i=S(r);T=O|0,N=a-A|0,Ne(i);return}let t=n.subarray(e,e+f|0),s=S(t);c.type.length=s,o=sa;break}case sa:{let t=n.subarray(e,e+f|0);if(n[e]===Le){o=na,u=!0;return}T=O|0,N=a-A|0;let s=S(t);w(s,$e);break}case na:{if(c.isEnum){let{type:v}=c;j(),c.data=v;return}let{declarationValue:t,procedure:s,stack:r}=c,{target:i}=t,{description:E}=s,{locals:p}=E,d;i.mutable?d=Object.freeze({name:i.name,data:{...c.type,mutable:i.mutable}}):d=Object.freeze({name:i.name,data:c.type}),r.set(i.name,d.data),p.push(d),j();break}case Un:{let t=n.subarray(e,e+f|0),r={type:S(t).replace(/!!$/,""),path:ge};z(t,lt)&&(r.unsafe=!0),r=Object.seal({...r,name:null,segment:null});let{declarationValue:i,stack:E,procedure:p}=c;c=Object.seal({declarationValue:i,stack:E,procedure:p,type:r}),o=oa;break}case oa:{let t=n.subarray(e,e+f|0);if(n[e]===Fe){o=ca;return}T=O|0,N=a-A|0;let s=S(t);w(s,Gt);break}case ca:{let t=n.subarray(e,e+f|0),s=S(t);if(Ce(a,n,e,f)&&!at.includes(s)){T=O|0,N=a-A|0,Ne(s);return}Pe(s),c.type.name=s,o=ra;break}case ra:{let t=n.subarray(e,e+f|0);if(n[e]===ve){o=aa;return}T=O|0,N=a-A|0;let s=S(t);w(s,$e);break}case aa:{if(Ce(a,n,e,f)){let r=n.subarray(e,e+f|0),i=S(r);T=O|0,N=a-A|0,Ne(i);return}let t=n.subarray(e,e+f|0),s=S(t);c.type.segment=s,o=ua;break}case ua:{let t=n.subarray(e,e+f|0);if(n[e]===Ze){if(c.declarationValue){let{declarationValue:i,procedure:E,stack:p}=c,{target:d}=i,{description:v}=E,{locals:M}=v,K;d.mutable?K=Object.freeze({name:d.name,data:{...c.type,mutable:d.mutable}}):K=Object.freeze({name:d.name,data:c.type}),p.set(d.name,K.data),M.push(K),j()}else{let{type:i}=c;j(),c.data=i}return}T=O|0,N=a-A|0;let s=S(t);w(s,Lt);break}case ia:{let t=n.subarray(e,e+f|0),s=S(t),r=Object.seal({type:s,path:null,name:null}),{declarationValue:i,stack:E,procedure:p}=c;c=Object.seal({declarationValue:i,stack:E,procedure:p,type:r}),o=la;break}case la:{let t=n.subarray(e,e+f|0);if(n[e]===Fe){o=fa;return}T=O|0,N=a-A|0;let s=S(t);w(s,Gt);break}case fa:{let t=n.subarray(e,e+f|0),s=S(t);if(Ce(a,n,e,f)){T=O|0,N=a-A|0,Ne(s);return}let r=Pe(s);c.type.name=s,c.type.path=r.path,o=Ea;break}case Ea:{let t=n.subarray(e,e+f|0);if(n[e]===Ze){let{declarationValue:i,procedure:E,stack:p}=c,{target:d}=i,{description:v}=E,{locals:M}=v,K;d.mutable?K=Object.freeze({name:d.name,data:{...c.type,mutable:d.mutable}}):K=Object.freeze({name:d.name,data:c.type}),p.set(d.name,K.data),M.push(K),j();return}T=O|0,N=a-A|0;let s=S(t);w(s,Lt);break}}},Za=(a,n,e,f)=>{switch(o){case Is:{let t=Object.seal({type:mt,unsafe:null,smart:null,value:null}),s=n.subarray(e,e+f|0);z(s,lt)&&(t.unsafe=!0),z(s,ns)&&(t.smart=!0),c.value=t,o=zr;break}case zr:{if(n[e]===Te){o=rr;return}T=O|0,N=a-A|0;let t=n.subarray(e,e+f|0),s=S(t);w(s,Xe);break}case rr:{let{stack:t,procedure:s}=c,r=n.subarray(e,e+f|0),i=S(r),E=t.get(i);E&&E.moved&&(T=O|0,N=a-A|0,je(`Moved variable used as value. Variable '${i}' was used while having been moved before.`)),o=$r,y(),c={stack:t,procedure:s,value:null},y(),o=Ve,I=Me,u=!0;break}case $r:{if(n[e]===Le){let{value:i}=c;j(),c.value.value=i,j();return}T=O|0,N=a-A|0;let t=n.subarray(e,e+f|0),s=S(t);w(s,Xe);break}case ar:{let t=Object.seal({type:bt,link:null});c.value=t,o=Xr;break}case Xr:{if(n[e]===Te){o=ur;return}T=O|0,N=a-A|0;let t=n.subarray(e,e+f|0),s=S(t);w(s,Xe);break}case ur:{let{stack:t,procedure:s}=c,r=n.subarray(e,e+f|0),i=S(r),E=t.get(i);E&&E.moved&&(T=O|0,N=a-A|0,je(`Moved variable used as value. Variable '${i}' was used while having been moved before.`)),o=Jr,y(),c={stack:t,procedure:s,value:null},y(),o=Ve,I=Me,u=!0;break}case Jr:{if(n[e]===Le){let{value:i}=c;j(),c.value.link=i,j();return}T=O|0,N=a-A|0;let t=n.subarray(e,e+f|0),s=S(t);w(s,$e);break}case Nr:{let t=Object.seal({type:ts,trail:[]});c.value=t,o=hn;break}case hn:{if(n[e]===Ge){o=Ir;return}o=Pn,u=!0;break}case Ir:{let t=n.subarray(e,e+f|0),s=S(t);c.value.trail.push(s),o=Sr;break}case Sr:{if(n[e]===Ge){o=hn,u=!0;return}o=Pn,u=!0;break}case Pn:{j(),u=!0;break}case Er:{let t=n.subarray(e,e+f|0),s=S(t),r=L.find(E=>E.name===s);if(!r){T=O|0,N=a-A|0,Xt(s);return}let i=Object.seal({type:ke,name:s,literal:[],path:r.path});c.value=i,o=jr;break}case jr:{let t=n[e];if(t===Te){o=An,u=!0;return}if(t===Fe){o=wr;return}break}case wr:{y(),c=[],o=Fr,u=!0;break}case Fr:{o=Yr,y(),c={data:null},y(),I=Rt,o=Et,u=!0;break}case Yr:{let t=n[e],{data:s}=c;if(j(),c.push(s),t===ve){o=Ps;return}if(t===Ze){let r=c;j();let{value:i}=c,{name:E}=i,p=L.find(d=>d.type===De&&d.name===E);if(p){if(!(p.description.generics.length===r.length)){T=O|0,N=a-A|0,je(`Generic procedure '${E}' was provided with fewer or more than expect number of types. Expected: ${genericProcedure.description.generics.length}. Got: ${r.length}`);return}let v=he(p.name,r);if(!L.some(M=>M.name===v)){let M=xe(p,r);M.name=v,M.description.generics=[],L.push(M)}i.name=v}o=An;break}}case An:{if(n[e]===Te){o=Tn;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Xe);break}case Tn:{if(n[e]===Ee)return;if(n[e]===ve){o=Nn;return}o=Nn,u=!0;break}case Nn:{let t=n.subarray(e,e+f|0),s=S(t),{stack:r,procedure:i}=c;y();let E=Object.seal({name:s,value:null});c={procedure:i,stack:r,prop:E},o=_r;break}case _r:{let{stack:t,procedure:s}=c;if(n[e]===gs){o=mr,y(),c={stack:t,procedure:s,value:null},y(),o=Ve,I=Me;return}T=O|0,N=a-A|0;let i=n.subarray(e,e+f|0),E=S(i);w(E,Yt);break}case mr:{let{value:t}=c;j();let{prop:s}=c;if(s.value=t,j(),c.value.literal.push(s),n[e]===ve){o=Tn;return}u=!0,o=br;break}case br:{if(n[e]===Ee){o=In;return}u=!0,o=In;break}case In:{if(n[e]===Le){j();return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,$e);break}case ir:{let{stack:t}=c,s=n.subarray(e,e+f|0),r=S(s);if(t.has(r)){let v=t.get(r);v&&v.moved&&(T=O|0,N=a-A|0,je(`Moved variable used as value. Variable '${r}' was used while having been moved before.`));let M=Object.freeze({type:de,name:r});c.value=M,o=Ut;return}let i=v=>{let M=me[v];if(M.item.target){let K=M.item.target,g=p.item.stack.get(K.name);if(g)return g.name}else return M.item.value?.type==="expression"?i(v-1):null},E=me.length,p=me[E-2],d;if(p.item.target){let v=p.item.target,M=p.item.stack.get(v.name);M&&(d=M.name)}else p.item.value?.type==="expression"&&(d=i(E-4));if(St(a,n,e,f)){let v=r,M=_e(v),K=Object.freeze({type:ke,literal:v,name:d||M,path:ge});if(!M){T=O|0,N=a-A|0;let g=n.subarray(e,e+f|0),X=S(g);w(X,cs)}Pe(K.name),c.value=K,o=Ut;return}if(ba(r)){let v=Object.freeze({type:ke,literal:r,name:"Bool",path:ge});c.value=v,Pe(v.name),o=Ut;return}if(n[e]===ml){ds?(ds=!1,o=Ut):ds=!0;return}if(ds){let v=Object.freeze({type:ke,literal:r,name:d||(r.length==1?"Char":"String"),path:ge});Pe(v.name),c.value=v;return}if(n[e]===Ot){o=pr,u=!0;return}T=O|0,N=a-A|0,Xt(r),j();break}case pr:{let t=n.subarray(e,e+f|0),s=S(t);if(n[e]===Ot){c.value=[];return}if(n[e]===Ks){let r=me.length,i=me[r-2],E=i.item.declarationValue?.target,p=i.item.stack.get(E?.name),d;if(!p){if(c.value?.length>=1){if(d=_e(c.value[0]),!d){T=O|0,N=a-A|0;let M=n.subarray(e,e+f|0),K=S(M);w(K,cs)}}else d="FP32";Pe(d)}o=Ut;let v=Object.freeze({type:ke,literal:c.value,name:p?.name||d,layout:"Array",path:ge});c.value=v;return}n[e]!==ve&&c.value.push(s);break}case Ut:{if(n[e]===Ge){let{stack:s,value:r}=c,i=[],E=Object.freeze({type:es,value:r,trail:i});c.value=E,y(),c=Object.seal({stack:s,trail:i,value:r}),o=pn;return}j(),u=!0;break}case lr:{if(n[e]!==Ge){let s=n.subarray(e,e+f|0),r=S(s);j(),j(),u=!0;return}o=pn;break}case pn:{let{stack:t,value:s,trail:r}=c,i=n.subarray(e,e+f|0),E=S(i),p,d,v=!1;if(s.type===de||s.type===bt||s.type===mt||Je(s)){let M=Se(s);if(r.length===0)p=t.get(M);else{let K=r.length-1,g=t.get(M),X=L.find(ee=>ee.name===g.name),{description:oe}=X,{members:re}=oe,Q=re.find(ee=>ee.name===r[K]),{data:ce}=Q;p=ce}}if(p){let{name:M,path:K}=p,g=`${K}.${M}`,X=G.get(g);X.type===De&&(d=X)}if(d){let{description:M}=d,{members:K}=M;for(let g of K)if(g.name===E){v=!0;break}if(!v){T=O|0,N=a-A|0,ct(E,s.name);return}}if(s.value===tt||s.link===tt){if(!t.get(E)){T=O|0,N=a-A|0,ct(E,`${tt}(current object in definition)`);return}v=!0}if(!v){T=O|0,N=a-A|0,ct(E,s.name);return}r.push(E),o=lr;break}case Or:{let{stack:t}=c,s=n.subarray(e,e+f|0),r=S(s);if(t.has(r)){let i=Object.seal({type:ss,array:{type:de,name:r},index:{type:null,name:null,literal:null,path:null}});c.value=i}o=Ar;break}case Ar:{if(n[e]===Ot){o=Tr;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Ao);break}case Tr:{let{stack:t}=c,s=n.subarray(e,e+f|0),r=S(s);if(t.has(r)){let i=Object.seal({type:de,name:r});c.value.index=i,o=Sn}if(St(a,n,e,f)){let E=Object.freeze({type:ke,literal:r,name:"U32",path:ge});Pe(E.name),c.value.index=E,o=Sn;return}break}case Sn:{if(n[e]===Ks){j();return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,To);break}case Ss:{let{stack:t}=c,s=n.subarray(e,e+f|0),r=S(s),i=U.find(p=>p.type===it&&p.name===r),E=Object.seal({type:Vs,name:r,path:i?.path||ge,inputs:[]});if(c.value=E,t.has(r)){c.value.name=[r],o=hr;return}o=vn;break}case hr:{let t=n.subarray(e,e+f|0),s=S(t),r=n[e];if(r===Ge)return;if(r===Te){o=vn,u=!0;return}if(Ce(a,n,e,f)){T=O|0,N=a-A|0,Ne(s);return}c.value.name.push(s);break}case vn:{let t=n[e];if(t===Te){o=On,u=!0;return}if(t===Fe){o=Mr;return}break}case On:{if(n[e]===Te){o=hs;return}break}case Mr:{y(),c=[],o=Ps,u=!0;break}case Ps:{o=yr,y(),c={data:null},y(),I=Rt,o=Et,u=!0;break}case yr:{let t=n[e],{data:s}=c;if(j(),c.push(s),t===ve){o=Ps;return}if(t===Ze){let r=c;j();let{value:i}=c,{name:E}=i,p=U.find(d=>d.type===it&&d.name===E);if(p){if(!(p.description.generics.length===r.length)){T=O|0,N=a-A|0,je(`Generic procedure '${E}' was provided with fewer or more than expect number of types. Expected: ${p.description.generics.length}. Got: ${r.length}`);return}let v=he(p.name,r);if(!U.some(M=>M.name===v)){let M=xe(p,r);M.name=v,M.description.generics=[],U.push(M)}i.name=v}o=On;break}}case hs:{let t=n[e];if(t===Ee)return;if(t===Le){let i=c.value?.inputs?.map(g=>ye(g))||[],[E,...p]=i,{value:d}=c,{name:v}=d,M=Wt[v],K=(g,X,oe,re)=>{for(let Q in g.description?.members){let ce=[g.description.members[Q].data.name,...X.map(ee=>ee.description.members[Q].data.name)];if(ce.some(ee=>!at.includes(ee))){let ee=ce.map(be=>L.find(fe=>fe.name===be));ee.every(Boolean)&&K(g,ee,oe,re)}else{let ee=oe.find(be=>be.description&&Array.isArray(be.description.inputs)?be.description.inputs.length!==ce.length?!1:be.description.inputs.every((fe,ze)=>fe.data.name===ce[ze]):!1);if(ee)U.push(ee),R.set(re,ee);else{T=O|0,N=a-A|0,Dt(`${ce.join(", ")} in ${re}`);return}}}};if(M){let g=M.find(X=>X.description&&Array.isArray(X.description.inputs)?X.description.inputs.length!==i.length?!1:X.description.inputs.every((oe,re)=>oe.data.name===i[re].data.name):!1);if(g)U.push(g),R.set(v,g);else if(i.length>=1){if(i.some(X=>X.data.name!==E.data.name)){T=O|0,N=a-A|0,Ga(i.map(X=>X)?.join(", "));return}if(i[0]?.data.type===yt){let X=M.find(re=>re.description.inputs.length===i.length&&i.length>0?re.description.inputs[0].data.name===_a:!0),oe=JSON.parse(JSON.stringify(X).replace(new RegExp(_a,"g"),i[0].data.name));U.push(oe),R.set(v,oe)}else if(!at.includes(E.data.name)||p.some(X=>!at.includes(X.data.name))){let X=L.find(re=>re.name===E.data.name),oe=p.map(re=>L.find(Q=>Q.name===re.data.name));X&&oe.every(Boolean)&&K(X,oe,M,v)}else{T=O|0,N=a-A|0,Dt(`${E.data.name,p.map(X=>X.data.name)?.join(", ")} in ${v}`);return}}else{T=O|0,N=a-A|0,Dt(`${i.map(X=>X.data.name)?.join(", ")} in ${v}`);return}}else{let g,X=U.find(re=>re.type===it&&re.name===v);if(typeof v=="object"&&c.stack.has(v[0])){let re=v[v.length-2]||v[0],Q=c.stack.get(re);if(Q){let ce=L.find(ee=>ee.type===De&&ee.name===Q.name);ce&&(c.value.path=ce.path,g=ce.description.members.find(ee=>ee.type===it&&ee.name===v[v.length-1]))}}let oe=g||X;if(oe){let{description:re}=oe,{inputs:Q}=re,{value:ce}=c,{inputs:ee}=ce;if(Q.length!==ee.length){T=O|0,N=a-A|0,je(`Procedure '${v}' was provided with fewer or more than expect number of inputs. Please make sure you are passing the right number of inputs to the procedure.`);return}for(let be=0;be<Q.length;be++){let fe=pe(ee[be],c.stack);if(fe){if(Q[be].data.name!==fe.name){T=O|0,N=a-A|0,je(`The procedure '${typeof v=="object"?v.join("."):v}' received an input of incorrect type at position ${be+1}. Expected: '${Q[be].data.name}', but received: '${fe.name}'.`);return}if(Q[be].data.mutable&&!fe.mutable){T=O|0,N=a-A|0,je(`The procedure '${typeof v=="object"?v.join("."):v}' received an immutable input at position ${be+1} while it expects a mutable input. Expected: mutable '${Q[be].data.name}', received: immutable '${fe.name}'.`);return}Q[be].data.mutable&&fe.mutable}else{T=O|0,N=a-A|0,Dt(ee[be]);return}}}else{T=O|0,N=a-A|0,jn(v);return}}j();return}if(Ce(a,n,e,f)){let i=n.subarray(e,e+f|0),E=S(i);T=O|0,N=a-A|0,Ne(E);return}let{procedure:s,stack:r}=c;o=fr,y(),c=Object.seal({procedure:s,stack:r,value:null}),y(),I=Me,o=Ve,u=!0;break}case fr:{let{value:t}=c;j();let{value:s}=c,{inputs:r}=s;r.push(t);let i=n[e];if(i===ve){o=hs;return}if(i===Le){o=hs,u=!0;return}T=O|0,N=a-A|0;let E=n.subarray(e,e+f|0),p=S(E);w(p,$e);break}case dn:{let t=n.subarray(e,e+f|0),s=S(t),r=L.find(E=>E.type===ht&&E.name===s);if(r){let E=Object.seal({type:"literal",literal:null,name:r.name,path:r.path});c.value=E,o=Pr;return}let i=L.find(E=>E.type===ht&&E.description.labels.find(p=>p.name===s));if(i){let E=Object.freeze({type:"literal",literal:s,name:i.name,path:i.path});c.value=E,j();return}T=O|0,N=a-A|0,ct(s);break}case Pr:{if(n[e]===Ge){o=dr;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,No);break}case dr:{let t=n.subarray(e,e+f|0),s=S(t);if(L.find(i=>i.type===ht&&i.name===c.value.name&&i.description.labels.find(E=>E.name===s))){c.value.literal=s,j();return}T=O|0,N=a-A|0,ct(s);break}case Lr:{let t=Object.seal({type:oo,layout:null,data:null,value:null});c.value=t,o=Rr;break}case Rr:{if(n[e]===Fe){o=kr;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Gt);break}case kr:{let t=n.subarray(e,e+f|0),s=S(t);if(Ce(a,n,e,f)){T=O|0,N=a-A|0,Ne(s);return}if(z(jt,t)){o=Rn,y(),c={...c,data:null},y(),I=Rt,o=Et,u=!0;return}if(z(t,lt)||z(t,pt)){o=Rn,y(),c={...c,data:null},y(),I=kt,o=Un,u=!0;return}if(z(t,os)){T=O|0,N=a-A|0;let i=n.subarray(e,e+f|0),E=S(i);w(E,Xs);return}let r=Pe(s);r&&(c.value.data=r),o=Ln;break}case Rn:{let{data:t}=c;j(),c.value.data=t,u=!0,o=Ln;break}case Ln:{if(n[e]===Ze){o=vr;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Lt);break}case vr:{if(n[e]===Ge){o=Cr;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,No);break}case Cr:{let t=n.subarray(e,e+f|0),s=S(t);if(c.value.layout=s,z(t,fl)){o=kn;return}if(z(t,El)){o=Ur;return}T=O|0,N=a-A|0;let r=S(t);w(r,Xs);break}case Ur:{if(n[e]===Te){o=Dr;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Xe);break}case Dr:{let{procedure:t,stack:s}=c;if(Ce(a,n,e,f)){let r=n.subarray(e,e+f|0),i=S(r);T=O|0,N=a-A|0,Ne(i);return}o=Br,y(),c=Object.seal({procedure:t,stack:s,value:null}),y(),I=Me,o=Ve,u=!0;break}case Br:{let{value:t}=c;if(j(),c.value.value=t,n[e]===Le){o=kn;return}T=O|0,N=a-A|0;let r=n.subarray(e,e+f|0),i=S(r);w(i,$e);break}case kn:{j(),u=!0;break}case Gr:{let t=Object.seal({type:co,value:null});c.value=t,o=Vr;break}case Vr:{if(n[e]===Te){o=gr;return}T=O|0,N=a-A|0;let s=n.subarray(e,e+f|0),r=S(s);w(r,Xe);break}case gr:{let{procedure:t,stack:s}=c;if(Ce(a,n,e,f)){let r=n.subarray(e,e+f|0),i=S(r);T=O|0,N=a-A|0,Ne(i);return}o=Kr,y(),c=Object.seal({procedure:t,stack:s,value:null}),y(),I=Me,o=Ve,u=!0;break}case Kr:{let{stack:t,value:s}=c;j();let r;if(s.type===de)r=s.name;else if(s.type===bt)r=s.link;else if(s.type===mt)r=s.value;else{T=O|0,N=a-A|0,je("Non-movable type passed to move procedure. Please check types that can be moved and make sure your parameter's type is one of them.");return}let i=t.get(r);if(i&&t.set(r,{...i,moved:!0}),c.value.value=s,n[e]===Le){o=Hr;return}T=O|0,N=a-A|0;let p=n.subarray(e,e+f|0),d=S(p);w(d,$e);break}case Hr:{j(),u=!0;break}}},xa=(a,n,e,f)=>{switch(o){case lc:{let t=Object.seal({type:Qe,path:[]}),s=Object.seal({type:Ji,source:t,alias:Qe});c=Object.seal({import:s,source:t}),o=fc;break}case fc:{let t=n[e],{source:s}=c;if(t===pl&&n[e+1]===Hs){s.type=de,o=Ec,y(),c=[],y(),o=en;return}if(Ce(a,n,e,f)){T=O|0,N=a-A|0,Ne(name);return}s.type=Wi,o=Vl,u=!0;break}case Ec:{let t=n[e],s=c;j();let{source:r}=c;r.path.push(s.join("")),t===Hs&&(y(),c=[],y(),o=en),t===Ee&&(o=_c,u=!0);break}case en:{let t=n[e];if(t===Hs){j(),u=!0;return}if(t===Ee){j(),u=!0;return}let s=n.subarray(e,e+f|0),r=S(s);c.push(r);return}case _c:{let t=s=>{let r=!0,i=null,E=null,p=Gs.create(P);p.on(Gs.EVENT_DONE,g=>{i=g}),p.on(Gs.EVENT_FAIL,g=>{E=g});let d=new Hi({tabSize:4});if(d.on("token",(g,X,oe,re)=>{p.feed(g,X,oe,re)}),d.on("error",()=>{r=!1}),d.feed(s),d.done(),d.close(),p.done(),!r||E){console.error("Tokenizer or Parser error occurred.",E);return}if(!i){console.error("Invalid representation after parsing.");return}let{exports:v,data:M}=i;for(let g of v){let X=i[g.path]?.find(oe=>oe.name===g.name);X&&(g.path===Dn&&(L.push(X),Z({name:X.name,path:X.path,type:qe})),g.path===ma&&U.push(X))}let K=M.filter(g=>g.type===qi);L.unshift(...K)};if(D&&D.length>0){let s=D.find(r=>r.path===c.source.path);if(s){let r=ae(s.data);t(r)}}else T=O|0,N=a-A|0,je("NO FILES WERE FOUND: ",c.source.path);j();break}}},eu=(a,n)=>{switch(a){case $t:{st.push(n);break}case Ie:{l.push(n);break}}},y=()=>{let a=Object.freeze({item:c,indentation:W,situationGeneral:I,situationSection:o});me.push(a)},j=()=>{let a=me.pop();return c=a.item,W=a.indentation,I=a.situationGeneral,o=a.situationSection,a},Bt=(a,n,e,f)=>{if(m)return;let t=()=>{h=!0,A=a|0,O=O+1};ue=a+f|0;let s=n[e];if(s!==_l){if(s===bl){k=!k;return}if(s===Ee&&h){t();return}for(h=!1,u=!0;u;)switch(u=!1,I){case Me:{Va(a,n,e,f);break}case Io:{ga(a,n,e,f);break}case Vt:{Ha(a,n,e,f);break}case gt:{Ka(a,n,e,f);break}case So:{za(a,n,e,f);break}case Js:{Xa(a,n,e,f);break}case ho:{Ja(a,n,e,f);break}case Po:{$a(a,n,e,f);break}case Ye:{Wa(a,n,e,f);break}case Rt:{Qa(a,n,e,f);break}case Ue:{Za(a,n,e,f);break}case kt:{qa(a,n,e,f);break}case Lo:{xa(a,n,e,f);break}default:throw $s}s===Ee&&(Oa.default.diff(c,H)&&t(),H=JSON.parse(JSON.stringify(c)))}};return Object.freeze({done:()=>{if(Bt(ue,Pt,0,Pt.length),ue=ue+Pt.length|0,Bt(ue,dt,0,dt.length),ue=ue+dt.length|0,Bt(ue,Pt,0,Pt.length),ue=ue+Pt.length|0,b){x.emit($t,null);return}x.emit($t,F)},feed:Bt,on:eu})},$l=Object.freeze({create:zl,...Ol,...Sl,...Gl}),Sf=$l;export{Sf as default};
/*! Bundled license information:

eventemitter2/lib/eventemitter2.js:
  (*!
   * EventEmitter2
   * https://github.com/hij1nx/EventEmitter2
   *
   * Copyright (c) 2013 hij1nx
   * Licensed under the MIT license.
   *)
*/
