var Sl=Object.create;var fo=Object.defineProperty;var kl=Object.getOwnPropertyDescriptor;var Pl=Object.getOwnPropertyNames;var Ll=Object.getPrototypeOf,Rl=Object.prototype.hasOwnProperty;var gs=(R,k)=>()=>(k||R((k={exports:{}}).exports,k),k.exports);var Cl=(R,k,U,H)=>{if(k&&typeof k=="object"||typeof k=="function")for(let $ of Pl(k))!Rl.call(R,$)&&$!==U&&fo(R,$,{get:()=>k[$],enumerable:!(H=kl(k,$))||H.enumerable});return R};var Eo=(R,k,U)=>(U=R!=null?Sl(Ll(R)):{},Cl(k||!R||!R.__esModule?fo(U,"default",{value:R,enumerable:!0}):U,R));var po=gs((_o,mo)=>{(function(R){var k=Object.hasOwnProperty,U=Array.isArray?Array.isArray:function(m){return Object.prototype.toString.call(m)==="[object Array]"},H=10,$=typeof process=="object"&&typeof process.nextTick=="function",x=typeof Symbol=="function",ce=typeof Reflect=="object",ie=typeof setImmediate=="function",be=ie?setImmediate:setTimeout,le=x?ce&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(i){var m=Object.getOwnPropertyNames(i);return m.push.apply(m,Object.getOwnPropertySymbols(i)),m}:Object.keys;function _e(){this._events={},this._conf&&Le.call(this,this._conf)}function Le(i){i&&(this._conf=i,i.delimiter&&(this.delimiter=i.delimiter),i.maxListeners!==R&&(this._maxListeners=i.maxListeners),i.wildcard&&(this.wildcard=i.wildcard),i.newListener&&(this._newListener=i.newListener),i.removeListener&&(this._removeListener=i.removeListener),i.verboseMemoryLeak&&(this.verboseMemoryLeak=i.verboseMemoryLeak),i.ignoreErrors&&(this.ignoreErrors=i.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function Be(i,m){var h="(node) warning: possible EventEmitter memory leak detected. "+i+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(h+=" Event name: "+m+"."),typeof process<"u"&&process.emitWarning){var S=new Error(h);S.name="MaxListenersExceededWarning",S.emitter=this,S.count=i,process.emitWarning(S)}else console.error(h),console.trace&&console.trace()}var Je=function(i,m,h){var S=arguments.length;switch(S){case 0:return[];case 1:return[i];case 2:return[i,m];case 3:return[i,m,h];default:for(var l=new Array(S);S--;)l[S]=arguments[S];return l}};function We(i,m){for(var h={},S,l=i.length,C=m?m.length:0,D=0;D<l;D++)S=i[D],h[S]=D<C?m[D]:R;return h}function Ze(i,m,h){this._emitter=i,this._target=m,this._listeners={},this._listenersCount=0;var S,l;if((h.on||h.off)&&(S=h.on,l=h.off),m.addEventListener?(S=m.addEventListener,l=m.removeEventListener):m.addListener?(S=m.addListener,l=m.removeListener):m.on&&(S=m.on,l=m.off),!S&&!l)throw Error("target does not implement any known event API");if(typeof S!="function")throw TypeError("on method must be a function");if(typeof l!="function")throw TypeError("off method must be a function");this._on=S,this._off=l;var C=i._observers;C?C.push(this):i._observers=[this]}Object.assign(Ze.prototype,{subscribe:function(i,m,h){var S=this,l=this._target,C=this._emitter,D=this._listeners,V=function(){var w=Je.apply(null,arguments),g={data:w,name:m,original:i};if(h){var P=h.call(l,g);P!==!1&&C.emit.apply(C,[g.name].concat(w));return}C.emit.apply(C,[m].concat(w))};if(D[i])throw Error("Event '"+i+"' is already listening");this._listenersCount++,C._newListener&&C._removeListener&&!S._onNewListener?(this._onNewListener=function(w){w===m&&D[i]===null&&(D[i]=V,S._on.call(l,i,V))},C.on("newListener",this._onNewListener),this._onRemoveListener=function(w){w===m&&!C.hasListeners(w)&&D[i]&&(D[i]=null,S._off.call(l,i,V))},D[i]=null,C.on("removeListener",this._onRemoveListener)):(D[i]=V,S._on.call(l,i,V))},unsubscribe:function(i){var m=this,h=this._listeners,S=this._emitter,l,C,D=this._off,V=this._target,w;if(i&&typeof i!="string")throw TypeError("event must be a string");function g(){m._onNewListener&&(S.off("newListener",m._onNewListener),S.off("removeListener",m._onRemoveListener),m._onNewListener=null,m._onRemoveListener=null);var P=M.call(S,m);S._observers.splice(P,1)}if(i){if(l=h[i],!l)return;D.call(V,i,l),delete h[i],--this._listenersCount||g()}else{for(C=le(h),w=C.length;w-- >0;)i=C[w],D.call(V,i,h[i]);this._listeners={},this._listenersCount=0,g()}}});function Et(i,m,h,S){var l=Object.assign({},m);if(!i)return l;if(typeof i!="object")throw TypeError("options must be an object");var C=Object.keys(i),D=C.length,V,w,g;function P(r){throw Error('Invalid "'+V+'" option value'+(r?". Reason: "+r:""))}for(var a=0;a<D;a++){if(V=C[a],!S&&!k.call(m,V))throw Error('Unknown "'+V+'" option');w=i[V],w!==R&&(g=h[V],l[V]=g?g(w,P):w)}return l}function ae(i,m){return(typeof i!="function"||!i.hasOwnProperty("prototype"))&&m("value must be a constructor"),i}function Me(i){var m="value must be type of "+i.join("|"),h=i.length,S=i[0],l=i[1];return h===1?function(C,D){if(typeof C===S)return C;D(m)}:h===2?function(C,D){var V=typeof C;if(V===S||V===l)return C;D(m)}:function(C,D){for(var V=typeof C,w=h;w-- >0;)if(V===i[w])return C;D(m)}}var Qe=Me(["function"]),ut=Me(["object","function"]);function bt(i,m,h){var S,l,C=0,D,V=new i(function(w,g,P){h=Et(h,{timeout:0,overload:!1},{timeout:function(Te,Oe){return Te*=1,(typeof Te!="number"||Te<0||!Number.isFinite(Te))&&Oe("timeout must be a positive number"),Te}}),S=!h.overload&&typeof i.prototype.cancel=="function"&&typeof P=="function";function a(){l&&(l=null),C&&(clearTimeout(C),C=0)}var r=function(Te){a(),w(Te)},fe=function(Te){a(),g(Te)};S?m(r,fe,P):(l=[function(Te){fe(Te||Error("canceled"))}],m(r,fe,function(Te){if(D)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof Te!="function")throw TypeError("onCancel callback must be a function");l.push(Te)}),D=!0),h.timeout>0&&(C=setTimeout(function(){var Te=Error("timeout");Te.code="ETIMEDOUT",C=0,V.cancel(Te),g(Te)},h.timeout))});return S||(V.cancel=function(w){if(l){for(var g=l.length,P=1;P<g;P++)l[P](w);l[0](w),l=null}}),V}function M(i){var m=this._observers;if(!m)return-1;for(var h=m.length,S=0;S<h;S++)if(m[S]._target===i)return S;return-1}function B(i,m,h,S,l){if(!h)return null;if(S===0){var C=typeof m;if(C==="string"){var D,V,w=0,g=0,P=this.delimiter,a=P.length;if((V=m.indexOf(P))!==-1){D=new Array(5);do D[w++]=m.slice(g,V),g=V+a;while((V=m.indexOf(P,g))!==-1);D[w++]=m.slice(g),m=D,l=w}else m=[m],l=1}else C==="object"?l=m.length:(m=[m],l=1)}var r=null,fe,Te,Oe,A,T,Ee=m[S],Ot=m[S+1],b,p;if(S===l)h._listeners&&(typeof h._listeners=="function"?(i&&i.push(h._listeners),r=[h]):(i&&i.push.apply(i,h._listeners),r=[h]));else if(Ee==="*"){for(b=le(h),V=b.length;V-- >0;)fe=b[V],fe!=="_listeners"&&(p=B(i,m,h[fe],S+1,l),p&&(r?r.push.apply(r,p):r=p));return r}else if(Ee==="**"){for(T=S+1===l||S+2===l&&Ot==="*",T&&h._listeners&&(r=B(i,m,h,l,l)),b=le(h),V=b.length;V-- >0;)fe=b[V],fe!=="_listeners"&&(fe==="*"||fe==="**"?(h[fe]._listeners&&!T&&(p=B(i,m,h[fe],l,l),p&&(r?r.push.apply(r,p):r=p)),p=B(i,m,h[fe],S,l)):fe===Ot?p=B(i,m,h[fe],S+2,l):p=B(i,m,h[fe],S,l),p&&(r?r.push.apply(r,p):r=p));return r}else h[Ee]&&(r=B(i,m,h[Ee],S+1,l));if(Te=h["*"],Te&&B(i,m,Te,S+1,l),Oe=h["**"],Oe)if(S<l)for(Oe._listeners&&B(i,m,Oe,l,l),b=le(Oe),V=b.length;V-- >0;)fe=b[V],fe!=="_listeners"&&(fe===Ot?B(i,m,Oe[fe],S+2,l):fe===Ee?B(i,m,Oe[fe],S+1,l):(A={},A[fe]=Oe[fe],B(i,m,{"**":A},S+1,l)));else Oe._listeners?B(i,m,Oe,l,l):Oe["*"]&&Oe["*"]._listeners&&B(i,m,Oe["*"],l,l);return r}function v(i,m,h){var S=0,l=0,C,D=this.delimiter,V=D.length,w;if(typeof i=="string")if((C=i.indexOf(D))!==-1){w=new Array(5);do w[S++]=i.slice(l,C),l=C+V;while((C=i.indexOf(D,l))!==-1);w[S++]=i.slice(l)}else w=[i],S=1;else w=i,S=i.length;if(S>1){for(C=0;C+1<S;C++)if(w[C]==="**"&&w[C+1]==="**")return}var g=this.listenerTree,P;for(C=0;C<S;C++)if(P=w[C],g=g[P]||(g[P]={}),C===S-1)return g._listeners?(typeof g._listeners=="function"&&(g._listeners=[g._listeners]),h?g._listeners.unshift(m):g._listeners.push(m),!g._listeners.warned&&this._maxListeners>0&&g._listeners.length>this._maxListeners&&(g._listeners.warned=!0,Be.call(this,g._listeners.length,P))):g._listeners=m,!0;return!0}function z(i,m,h,S){for(var l=le(i),C=l.length,D,V,w,g=i._listeners,P;C-- >0;)V=l[C],D=i[V],V==="_listeners"?w=h:w=h?h.concat(V):[V],P=S||typeof V=="symbol",g&&m.push(P?w:w.join(this.delimiter)),typeof D=="object"&&z.call(this,D,m,w,P);return m}function W(i){for(var m=le(i),h=m.length,S,l,C;h-- >0;)l=m[h],S=i[l],S&&(C=!0,l!=="_listeners"&&!W(S)&&delete i[l]);return C}function oe(i,m,h){this.emitter=i,this.event=m,this.listener=h}oe.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function ee(i,m,h){if(h===!0)l=!0;else if(h===!1)S=!0;else{if(!h||typeof h!="object")throw TypeError("options should be an object or true");var S=h.async,l=h.promisify,C=h.nextTick,D=h.objectify}if(S||C||l){var V=m,w=m._origin||m;if(C&&!$)throw Error("process.nextTick is not supported");l===R&&(l=m.constructor.name==="AsyncFunction"),m=function(){var g=arguments,P=this,a=this.event;return l?C?Promise.resolve():new Promise(function(r){be(r)}).then(function(){return P.event=a,V.apply(P,g)}):(C?process.nextTick:be)(function(){P.event=a,V.apply(P,g)})},m._async=!0,m._origin=w}return[m,D?new oe(this,i,m):this]}function q(i){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,Le.call(this,i)}q.EventEmitter2=q,q.prototype.listenTo=function(i,m,h){if(typeof i!="object")throw TypeError("target musts be an object");var S=this;h=Et(h,{on:R,off:R,reducers:R},{on:Qe,off:Qe,reducers:ut});function l(C){if(typeof C!="object")throw TypeError("events must be an object");var D=h.reducers,V=M.call(S,i),w;V===-1?w=new Ze(S,i,h):w=S._observers[V];for(var g=le(C),P=g.length,a,r=typeof D=="function",fe=0;fe<P;fe++)a=g[fe],w.subscribe(a,C[a]||a,r?D:D&&D[a])}return U(m)?l(We(m)):l(typeof m=="string"?We(m.split(/\s+/)):m),this},q.prototype.stopListeningTo=function(i,m){var h=this._observers;if(!h)return!1;var S=h.length,l,C=!1;if(i&&typeof i!="object")throw TypeError("target should be an object");for(;S-- >0;)l=h[S],(!i||l._target===i)&&(l.unsubscribe(m),C=!0);return C},q.prototype.delimiter=".",q.prototype.setMaxListeners=function(i){i!==R&&(this._maxListeners=i,this._conf||(this._conf={}),this._conf.maxListeners=i)},q.prototype.getMaxListeners=function(){return this._maxListeners},q.prototype.event="",q.prototype.once=function(i,m,h){return this._once(i,m,!1,h)},q.prototype.prependOnceListener=function(i,m,h){return this._once(i,m,!0,h)},q.prototype._once=function(i,m,h,S){return this._many(i,1,m,h,S)},q.prototype.many=function(i,m,h,S){return this._many(i,m,h,!1,S)},q.prototype.prependMany=function(i,m,h,S){return this._many(i,m,h,!0,S)},q.prototype._many=function(i,m,h,S,l){var C=this;if(typeof h!="function")throw new Error("many only accepts instances of Function");function D(){return--m===0&&C.off(i,D),h.apply(this,arguments)}return D._origin=h,this._on(i,D,S,l)},q.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||_e.call(this);var i=arguments[0],m,h=this.wildcard,S,l,C,D,V;if(i==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(h&&(m=i,i!=="newListener"&&i!=="removeListener"&&typeof i=="object")){if(l=i.length,x){for(C=0;C<l;C++)if(typeof i[C]=="symbol"){V=!0;break}}V||(i=i.join(this.delimiter))}var w=arguments.length,g;if(this._all&&this._all.length)for(g=this._all.slice(),C=0,l=g.length;C<l;C++)switch(this.event=i,w){case 1:g[C].call(this,i);break;case 2:g[C].call(this,i,arguments[1]);break;case 3:g[C].call(this,i,arguments[1],arguments[2]);break;default:g[C].apply(this,arguments)}if(h)g=[],B.call(this,g,m,this.listenerTree,0,l);else if(g=this._events[i],typeof g=="function"){switch(this.event=i,w){case 1:g.call(this);break;case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:for(S=new Array(w-1),D=1;D<w;D++)S[D-1]=arguments[D];g.apply(this,S)}return!0}else g&&(g=g.slice());if(g&&g.length){if(w>3)for(S=new Array(w-1),D=1;D<w;D++)S[D-1]=arguments[D];for(C=0,l=g.length;C<l;C++)switch(this.event=i,w){case 1:g[C].call(this);break;case 2:g[C].call(this,arguments[1]);break;case 3:g[C].call(this,arguments[1],arguments[2]);break;default:g[C].apply(this,S)}return!0}else if(!this.ignoreErrors&&!this._all&&i==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},q.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||_e.call(this);var i=arguments[0],m=this.wildcard,h,S,l,C,D,V;if(i==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(m&&(h=i,i!=="newListener"&&i!=="removeListener"&&typeof i=="object")){if(C=i.length,x){for(D=0;D<C;D++)if(typeof i[D]=="symbol"){S=!0;break}}S||(i=i.join(this.delimiter))}var w=[],g=arguments.length,P;if(this._all)for(D=0,C=this._all.length;D<C;D++)switch(this.event=i,g){case 1:w.push(this._all[D].call(this,i));break;case 2:w.push(this._all[D].call(this,i,arguments[1]));break;case 3:w.push(this._all[D].call(this,i,arguments[1],arguments[2]));break;default:w.push(this._all[D].apply(this,arguments))}if(m?(P=[],B.call(this,P,h,this.listenerTree,0)):P=this._events[i],typeof P=="function")switch(this.event=i,g){case 1:w.push(P.call(this));break;case 2:w.push(P.call(this,arguments[1]));break;case 3:w.push(P.call(this,arguments[1],arguments[2]));break;default:for(l=new Array(g-1),V=1;V<g;V++)l[V-1]=arguments[V];w.push(P.apply(this,l))}else if(P&&P.length){if(P=P.slice(),g>3)for(l=new Array(g-1),V=1;V<g;V++)l[V-1]=arguments[V];for(D=0,C=P.length;D<C;D++)switch(this.event=i,g){case 1:w.push(P[D].call(this));break;case 2:w.push(P[D].call(this,arguments[1]));break;case 3:w.push(P[D].call(this,arguments[1],arguments[2]));break;default:w.push(P[D].apply(this,l))}}else if(!this.ignoreErrors&&!this._all&&i==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(w)},q.prototype.on=function(i,m,h){return this._on(i,m,!1,h)},q.prototype.prependListener=function(i,m,h){return this._on(i,m,!0,h)},q.prototype.onAny=function(i){return this._onAny(i,!1)},q.prototype.prependAny=function(i){return this._onAny(i,!0)},q.prototype.addListener=q.prototype.on,q.prototype._onAny=function(i,m){if(typeof i!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),m?this._all.unshift(i):this._all.push(i),this},q.prototype._on=function(i,m,h,S){if(typeof i=="function")return this._onAny(i,m),this;if(typeof m!="function")throw new Error("on only accepts instances of Function");this._events||_e.call(this);var l=this,C;return S!==R&&(C=ee.call(this,i,m,S),m=C[0],l=C[1]),this._newListener&&this.emit("newListener",i,m),this.wildcard?(v.call(this,i,m,h),l):(this._events[i]?(typeof this._events[i]=="function"&&(this._events[i]=[this._events[i]]),h?this._events[i].unshift(m):this._events[i].push(m),!this._events[i].warned&&this._maxListeners>0&&this._events[i].length>this._maxListeners&&(this._events[i].warned=!0,Be.call(this,this._events[i].length,i))):this._events[i]=m,l)},q.prototype.off=function(i,m){if(typeof m!="function")throw new Error("removeListener only takes instances of Function");var h,S=[];if(this.wildcard){var l=typeof i=="string"?i.split(this.delimiter):i.slice();if(S=B.call(this,null,l,this.listenerTree,0),!S)return this}else{if(!this._events[i])return this;h=this._events[i],S.push({_listeners:h})}for(var C=0;C<S.length;C++){var D=S[C];if(h=D._listeners,U(h)){for(var V=-1,w=0,g=h.length;w<g;w++)if(h[w]===m||h[w].listener&&h[w].listener===m||h[w]._origin&&h[w]._origin===m){V=w;break}if(V<0)continue;return this.wildcard?D._listeners.splice(V,1):this._events[i].splice(V,1),h.length===0&&(this.wildcard?delete D._listeners:delete this._events[i]),this._removeListener&&this.emit("removeListener",i,m),this}else(h===m||h.listener&&h.listener===m||h._origin&&h._origin===m)&&(this.wildcard?delete D._listeners:delete this._events[i],this._removeListener&&this.emit("removeListener",i,m))}return this.listenerTree&&W(this.listenerTree),this},q.prototype.offAny=function(i){var m=0,h=0,S;if(i&&this._all&&this._all.length>0){for(S=this._all,m=0,h=S.length;m<h;m++)if(i===S[m])return S.splice(m,1),this._removeListener&&this.emit("removeListenerAny",i),this}else{if(S=this._all,this._removeListener)for(m=0,h=S.length;m<h;m++)this.emit("removeListenerAny",S[m]);this._all=[]}return this},q.prototype.removeListener=q.prototype.off,q.prototype.removeAllListeners=function(i){if(i===R)return!this._events||_e.call(this),this;if(this.wildcard){var m=B.call(this,null,i,this.listenerTree,0),h,S;if(!m)return this;for(S=0;S<m.length;S++)h=m[S],h._listeners=null;this.listenerTree&&W(this.listenerTree)}else this._events&&(this._events[i]=null);return this},q.prototype.listeners=function(i){var m=this._events,h,S,l,C,D;if(i===R){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!m)return[];for(h=le(m),C=h.length,l=[];C-- >0;)S=m[h[C]],typeof S=="function"?l.push(S):l.push.apply(l,S);return l}else{if(this.wildcard){if(D=this.listenerTree,!D)return[];var V=[],w=typeof i=="string"?i.split(this.delimiter):i.slice();return B.call(this,V,w,D,0),V}return m?(S=m[i],S?typeof S=="function"?[S]:S:[]):[]}},q.prototype.eventNames=function(i){var m=this._events;return this.wildcard?z.call(this,this.listenerTree,[],null,i):m?le(m):[]},q.prototype.listenerCount=function(i){return this.listeners(i).length},q.prototype.hasListeners=function(i){if(this.wildcard){var m=[],h=typeof i=="string"?i.split(this.delimiter):i.slice();return B.call(this,m,h,this.listenerTree,0),m.length>0}var S=this._events,l=this._all;return!!(l&&l.length||S&&(i===R?le(S).length:S[i]))},q.prototype.listenersAny=function(){return this._all?this._all:[]},q.prototype.waitFor=function(i,m){var h=this,S=typeof m;return S==="number"?m={timeout:m}:S==="function"&&(m={filter:m}),m=Et(m,{timeout:0,filter:R,handleError:!1,Promise,overload:!1},{filter:Qe,Promise:ae}),bt(m.Promise,function(l,C,D){function V(){var w=m.filter;if(!(w&&!w.apply(h,arguments)))if(h.off(i,V),m.handleError){var g=arguments[0];g?C(g):l(Je.apply(null,arguments).slice(1))}else l(Je.apply(null,arguments))}D(function(){h.off(i,V)}),h._on(i,V,!1)},{timeout:m.timeout,overload:m.overload})};function Ne(i,m,h){h=Et(h,{Promise,timeout:0,overload:!1},{Promise:ae});var S=h.Promise;return bt(S,function(l,C,D){var V;if(typeof i.addEventListener=="function"){V=function(){l(Je.apply(null,arguments))},D(function(){i.removeEventListener(m,V)}),i.addEventListener(m,V,{once:!0});return}var w=function(){g&&i.removeListener("error",g),l(Je.apply(null,arguments))},g;m!=="error"&&(g=function(P){i.removeListener(m,w),C(P)},i.once("error",g)),D(function(){g&&i.removeListener("error",g),i.removeListener(m,w)}),i.once(m,w)},{timeout:h.timeout,overload:h.overload})}var lt=q.prototype;if(Object.defineProperties(q,{defaultMaxListeners:{get:function(){return lt._maxListeners},set:function(i){if(typeof i!="number"||i<0||Number.isNaN(i))throw TypeError("n must be a non-negative number");lt._maxListeners=i},enumerable:!0},once:{value:Ne,writable:!0,configurable:!0}}),Object.defineProperties(lt,{_maxListeners:{value:H,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return q});else if(typeof _o=="object")mo.exports=q;else{var xe=new Function("","return this")();xe.EventEmitter2=q}})()});var Oo=gs((vE,bo)=>{bo.exports=po()});var To=gs((Gs,Ao)=>{(function(R,k){var U=k(R);if(typeof define=="function"&&define.amd)define("DeepDiff",function(){return U});else if(typeof Gs=="object"||typeof navigator=="object"&&navigator.product.match(/ReactNative/i))Ao.exports=U;else{var H=R.DeepDiff;U.noConflict=function(){return R.DeepDiff===U&&(R.DeepDiff=H),U},R.DeepDiff=U}})(Gs,function(R){var k=["N","E","A","D"];function U(M,B){M.super_=B,M.prototype=Object.create(B.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}})}function H(M,B){Object.defineProperty(this,"kind",{value:M,enumerable:!0}),B&&B.length&&Object.defineProperty(this,"path",{value:B,enumerable:!0})}function $(M,B,v){$.super_.call(this,"E",M),Object.defineProperty(this,"lhs",{value:B,enumerable:!0}),Object.defineProperty(this,"rhs",{value:v,enumerable:!0})}U($,H);function x(M,B){x.super_.call(this,"N",M),Object.defineProperty(this,"rhs",{value:B,enumerable:!0})}U(x,H);function ce(M,B){ce.super_.call(this,"D",M),Object.defineProperty(this,"lhs",{value:B,enumerable:!0})}U(ce,H);function ie(M,B,v){ie.super_.call(this,"A",M),Object.defineProperty(this,"index",{value:B,enumerable:!0}),Object.defineProperty(this,"item",{value:v,enumerable:!0})}U(ie,H);function be(M,B,v){var z=M.slice((v||B)+1||M.length);return M.length=B<0?M.length+B:B,M.push.apply(M,z),M}function le(M){var B=typeof M;return B!=="object"?B:M===Math?"math":M===null?"null":Array.isArray(M)?"array":Object.prototype.toString.call(M)==="[object Date]"?"date":typeof M.toString=="function"&&/^\/.*\//.test(M.toString())?"regexp":"object"}function _e(M){var B=0;if(M.length===0)return B;for(var v=0;v<M.length;v++){var z=M.charCodeAt(v);B=(B<<5)-B+z,B=B&B}return B}function Le(M){var B=0,v=le(M);if(v==="array"){M.forEach(function(q){B+=Le(q)});var z="[type: array, hash: "+B+"]";return B+_e(z)}if(v==="object"){for(var W in M)if(M.hasOwnProperty(W)){var oe="[ type: object, key: "+W+", value hash: "+Le(M[W])+"]";B+=_e(oe)}return B}var ee="[ type: "+v+" ; value: "+M+"]";return B+_e(ee)}function Be(M,B,v,z,W,oe,ee,q){v=v||[],W=W||[],ee=ee||[];var Ne=W.slice(0);if(typeof oe<"u"&&oe!==null){if(z){if(typeof z=="function"&&z(Ne,oe))return;if(typeof z=="object"){if(z.prefilter&&z.prefilter(Ne,oe))return;if(z.normalize){var lt=z.normalize(Ne,oe,M,B);lt&&(M=lt[0],B=lt[1])}}}Ne.push(oe)}le(M)==="regexp"&&le(B)==="regexp"&&(M=M.toString(),B=B.toString());var xe=typeof M,i=typeof B,m,h,S,l,C=xe!=="undefined"||ee&&ee.length>0&&ee[ee.length-1].lhs&&Object.getOwnPropertyDescriptor(ee[ee.length-1].lhs,oe),D=i!=="undefined"||ee&&ee.length>0&&ee[ee.length-1].rhs&&Object.getOwnPropertyDescriptor(ee[ee.length-1].rhs,oe);if(!C&&D)v.push(new x(Ne,B));else if(!D&&C)v.push(new ce(Ne,M));else if(le(M)!==le(B))v.push(new $(Ne,M,B));else if(le(M)==="date"&&M-B!==0)v.push(new $(Ne,M,B));else if(xe==="object"&&M!==null&&B!==null){for(m=ee.length-1;m>-1;--m)if(ee[m].lhs===M){l=!0;break}if(l)M!==B&&v.push(new $(Ne,M,B));else{if(ee.push({lhs:M,rhs:B}),Array.isArray(M)){for(q&&(M.sort(function(g,P){return Le(g)-Le(P)}),B.sort(function(g,P){return Le(g)-Le(P)})),m=B.length-1,h=M.length-1;m>h;)v.push(new ie(Ne,m,new x(void 0,B[m--])));for(;h>m;)v.push(new ie(Ne,h,new ce(void 0,M[h--])));for(;m>=0;--m)Be(M[m],B[m],v,z,Ne,m,ee,q)}else{var V=Object.keys(M),w=Object.keys(B);for(m=0;m<V.length;++m)S=V[m],l=w.indexOf(S),l>=0?(Be(M[S],B[S],v,z,Ne,S,ee,q),w[l]=null):Be(M[S],void 0,v,z,Ne,S,ee,q);for(m=0;m<w.length;++m)S=w[m],S&&Be(void 0,B[S],v,z,Ne,S,ee,q)}ee.length=ee.length-1}}else M!==B&&(xe==="number"&&isNaN(M)&&isNaN(B)||v.push(new $(Ne,M,B)))}function Je(M,B,v,z,W){var oe=[];if(Be(M,B,oe,z,null,null,null,W),v)for(var ee=0;ee<oe.length;++ee)v(oe[ee]);return oe}function We(M,B,v,z,W,oe,ee){return Be(M,B,v,z,W,oe,ee,!0)}function Ze(M,B,v,z){var W=z?function(ee){ee&&z.push(ee)}:void 0,oe=Je(M,B,W,v);return z||(oe.length?oe:void 0)}function Et(M,B,v,z){var W=z?function(ee){ee&&z.push(ee)}:void 0,oe=Je(M,B,W,v,!0);return z||(oe.length?oe:void 0)}function ae(M,B,v){if(v.path&&v.path.length){var z=M[B],W,oe=v.path.length-1;for(W=0;W<oe;W++)z=z[v.path[W]];switch(v.kind){case"A":ae(z[v.path[W]],v.index,v.item);break;case"D":delete z[v.path[W]];break;case"E":case"N":z[v.path[W]]=v.rhs;break}}else switch(v.kind){case"A":ae(M[B],v.index,v.item);break;case"D":M=be(M,B);break;case"E":case"N":M[B]=v.rhs;break}return M}function Me(M,B,v){if(typeof v>"u"&&B&&~k.indexOf(B.kind)&&(v=B),M&&v&&v.kind){for(var z=M,W=-1,oe=v.path?v.path.length-1:0;++W<oe;)typeof z[v.path[W]]>"u"&&(z[v.path[W]]=typeof v.path[W+1]<"u"&&typeof v.path[W+1]=="number"?[]:{}),z=z[v.path[W]];switch(v.kind){case"A":v.path&&typeof z[v.path[W]]>"u"&&(z[v.path[W]]=[]),ae(v.path?z[v.path[W]]:z,v.index,v.item);break;case"D":delete z[v.path[W]];break;case"E":case"N":z[v.path[W]]=v.rhs;break}}}function Qe(M,B,v){if(v.path&&v.path.length){var z=M[B],W,oe=v.path.length-1;for(W=0;W<oe;W++)z=z[v.path[W]];switch(v.kind){case"A":Qe(z[v.path[W]],v.index,v.item);break;case"D":z[v.path[W]]=v.lhs;break;case"E":z[v.path[W]]=v.lhs;break;case"N":delete z[v.path[W]];break}}else switch(v.kind){case"A":Qe(M[B],v.index,v.item);break;case"D":M[B]=v.lhs;break;case"E":M[B]=v.lhs;break;case"N":M=be(M,B);break}return M}function ut(M,B,v){if(M&&B&&v&&v.kind){var z=M,W,oe;for(oe=v.path.length-1,W=0;W<oe;W++)typeof z[v.path[W]]>"u"&&(z[v.path[W]]={}),z=z[v.path[W]];switch(v.kind){case"A":Qe(z[v.path[W]],v.index,v.item);break;case"D":z[v.path[W]]=v.lhs;break;case"E":z[v.path[W]]=v.lhs;break;case"N":delete z[v.path[W]];break}}}function bt(M,B,v){if(M&&B){var z=function(W){(!v||v(M,B,W))&&Me(M,B,W)};Je(M,B,z)}}return Object.defineProperties(Ze,{diff:{value:Ze,enumerable:!0},orderIndependentDiff:{value:Et,enumerable:!0},observableDiff:{value:Je,enumerable:!0},orderIndependentObservableDiff:{value:We,enumerable:!0},orderIndepHash:{value:Le,enumerable:!0},applyDiff:{value:bt,enumerable:!0},applyChange:{value:Me,enumerable:!0},revertChange:{value:ut,enumerable:!0},isConflict:{value:function(){return typeof $conflict<"u"},enumerable:!0}}),Ze.DeepDiff=Ze,R&&(R.DeepDiff=Ze),Ze})});var Bu=Eo(Oo(),1),Du=Eo(To(),1);var vl="as",Ul="=",Bl="break",Dl="else",yl="enum",Ml="export",jl="if",Fl="import",wl="->",Yl="is",gl="loop",Gl="mut",Vl="native",Kl="object",Hl="fn",$l="return",zl="self",Xl="template",Jl=Object.freeze({ALIAS:vl,ASSIGN:Ul,BREAK:Bl,ELSE:Dl,ENUMERATION:yl,EXPORT:Ml,IF:jl,IMPORT:Fl,INTO:wl,IS:Yl,LOOP:gl,MUTABLE:Gl,NATIVE:Vl,OBJECT:Kl,PROCEDURE:Hl,RETURN:$l,SELF:zl,TEMPLATE:Xl}),No=Jl;var Wl="assign",Zl="array_assignment",Ql="branch-match",ql="branch-default",xl="condition",ei="loop",ti="data",si="generics",ni="enumeration",oi="expression",ri="instance",ci="Link",ai="local",ui="object",li="procedure",ii="return",fi="select",Ei="member",_i="store",mi="break",pi="literal",bi="array_access",Oi="valueLink",Ai="linkValue",Ti="self",Ni="procedure-call",Ii="Maybe",di="native",hi="move",Si="String",ki="Array",Pi="import",Li="library",Ri="constructor",Ci="destructor",vi="free",Ui="block-end",Bi="default-block",Di="continue",yi="branch",Mi="statement",ji="draw",Fi="size",wi="concatenation",Yi="foreach",gi="while",Gi="while-condition",Vi="foreach-condition",Ki="foreach-end",Hi=Object.freeze({TYPES_ASSIGN:Wl,TYPES_ARRAY:ki,TYPES_ARRAY_ASSIGNMENT:Zl,TYPES_BRANCH_MATCH:Ql,TYPES_BRANCH_DEFAULT:ql,TYPES_CONDITION:xl,TYPES_LOOP:ei,TYPES_FOREACH_END:Ki,TYPES_WHILE_CONDITION:Gi,TYPES_FOREACH_CONDITION:Vi,TYPES_DATA:ti,TYPES_GENERICS:si,TYPES_ENUMERATION:ni,TYPES_EXPRESSION:oi,TYPES_INSTANCE:ri,TYPES_LINK:ci,TYPES_IMPORT:Pi,TYPES_LOCAL:ai,TYPES_OBJECT:ui,TYPES_PROCEDURE:li,TYPES_RETURN:ii,TYPES_SELECT:fi,TYPES_MEMBER:Ei,TYPES_STORE:_i,TYPES_BREAK:mi,TYPES_LITERAL:pi,TYPES_ARRAY_ACCESS:bi,TYPES_LINK_TO:Oi,TYPES_VALUE_AT:Ai,TYPES_SELF:Ti,TYPES_LIBRARY:Li,TYPES_DROP:Ni,TYPES_MAYBE:Ii,TYPES_NATIVE:di,TYPES_MOVE:hi,TYPES_STRING:Si,TYPES_CONSTRUCTOR:Ri,TYPES_FREE:vi,TYPES_DEFAULT_BLOCK:Bi,TYPES_BLOCK_END:Ui,TYPES_CONTINUE:Di,TYPES_BRANCH:yi,TYPES_STATEMENT:Mi,TYPES_DESTRUCTOR:Ci,TYPES_DRAW:ji,TYPES_SIZE:Fi,TYPES_CONCAT:wi,TYPES_FOREACH:Yi,TYPES_WHILE:gi}),Vs=Hi;var $i=Object.freeze({COLON:58,COMMA:44,DIGIT_ZERO:48,DIGIT_NINE:57,DOT:46,HASHTAG:35,HORIZONTAL_TAB:9,HYPHEN_MINUS:45,LEFT_CURLY_BRACKET:123,LEFT_PARENTHESIS:40,LEFT_SQUARE_BRACKET:91,LINE_BREAK:10,NULL:0,PLUS_SIGN:43,RIGHT_CURLY_BRACKET:125,RIGHT_PARENTHESIS:41,RIGHT_SQUARE_BRACKET:93,SEMICOLON:59,SPACE:32}),Io=$i;var zi=Object.freeze([]),Xi=Object.freeze({}),tt="",Ji="	",Wi=`
`,Zi="UTF-8",ho=Vs,Qi=Object.freeze({EMPTY_ARRAY:zi,EMPTY_OBJECT:Xi,EMPTY_STRING:tt,HORIZONTAL_TAB:Ji,LINE_BREAK:Wi,UNICODE_TEXT:Zi,Codes:Io,Keys:No,Types:Vs}),So=Qi;function O(R,k=[],U=""){let H=k.map((x,ce)=>({name:`operand${ce+1}`,data:{type:"data",name:x,path:"Flogram"}})),$={type:"native",name:R,path:"Flogram",description:{inputs:H,outputs:U&&k.length<=0?null:[{name:"result",data:{type:"data",name:U||(k.length>0?k[0]:""),path:"Flogram"}}]}};return Object.freeze($)}var qi=Object.freeze({"+":[O("+",["FP64","FP64"]),O("+",["U64","U64"]),O("+",["I64","I64"]),O("+",["FP32","FP32"]),O("+",["U32","U32"]),O("+",["I32","I32"]),O("+",["U16","U16"]),O("+",["I16","I16"]),O("+",["U8","U8"]),O("+",["I8","I8"]),O("+",["any","any"])],"-":[O("-",["FP64","FP64"]),O("-",["U64","U64"]),O("-",["I64","I64"]),O("-",["FP32","FP32"]),O("-",["U32","U32"]),O("-",["I32","I32"]),O("-",["U16","U16"]),O("-",["I16","I16"]),O("-",["U8","U8"]),O("-",["I8","I8"]),O("-",["any","any"]),O("-",["FP64"]),O("-",["I64"]),O("-",["FP32"]),O("-",["I32"]),O("-",["I16"]),O("-",["I8"]),O("-",["any"])],"*":[O("*",["FP64","FP64"]),O("*",["U64","U64"]),O("*",["I64","I64"]),O("*",["FP32","FP32"]),O("*",["U32","U32"]),O("*",["I32","I32"]),O("*",["U16","U16"]),O("*",["I16","I16"]),O("*",["U8","U8"]),O("*",["I8","I8"]),O("*",["any","any"])],"/":[O("/",["FP64","FP64"]),O("/",["U64","U64"]),O("/",["I64","I64"]),O("/",["FP32","FP32"]),O("/",["U32","U32"]),O("/",["I32","I32"]),O("/",["U16","U16"]),O("/",["I16","I16"]),O("/",["U8","U8"]),O("/",["I8","I8"]),O("/",["any","any"])],"%":[O("%",["I64","I64"]),O("%",["U64","U64"]),O("%",["I32","I32"]),O("%",["U32","U32"]),O("%",["I16","I16"]),O("%",["U16","U16"]),O("%",["I8","I8"]),O("%",["U8","U8"]),O("%",["any","any"])],"!=":[O("!=",["FP64","FP64"],"Bool"),O("!=",["U64","U64"],"Bool"),O("!=",["I64","I64"],"Bool"),O("!=",["FP32","FP32"],"Bool"),O("!=",["U32","U32"],"Bool"),O("!=",["I32","I32"],"Bool"),O("!=",["U16","U16"],"Bool"),O("!=",["I16","I16"],"Bool"),O("!=",["U8","U8"],"Bool"),O("!=",["I8","I8"],"Bool"),O("!=",["any","any"],"any")],"==":[O("==",["FP64","FP64"],"Bool"),O("==",["U64","U64"],"Bool"),O("==",["I64","I64"],"Bool"),O("==",["FP32","FP32"],"Bool"),O("==",["U32","U32"],"Bool"),O("==",["I32","I32"],"Bool"),O("==",["U16","U16"],"Bool"),O("==",["I16","I16"],"Bool"),O("==",["U8","U8"],"Bool"),O("==",["I8","I8"],"Bool"),O("==",["any","any"],"any")],">":[O(">",["FP64","FP64"],"Bool"),O(">",["U64","U64"],"Bool"),O(">",["I64","I64"],"Bool"),O(">",["FP32","FP32"],"Bool"),O(">",["U32","U32"],"Bool"),O(">",["I32","I32"],"Bool"),O(">",["U16","U16"],"Bool"),O(">",["I16","I16"],"Bool"),O(">",["U8","U8"],"Bool"),O(">",["I8","I8"],"Bool"),O(">",["any","any"],"any")],"<":[O("<",["FP64","FP64"],"Bool"),O("<",["U64","U64"],"Bool"),O("<",["I64","I64"],"Bool"),O("<",["FP32","FP32"],"Bool"),O("<",["U32","U32"],"Bool"),O("<",["I32","I32"],"Bool"),O("<",["U16","U16"],"Bool"),O("<",["I16","I16"],"Bool"),O("<",["U8","U8"],"Bool"),O("<",["I8","I8"],"Bool"),O("<",["any","any"],"any")],">=":[O(">=",["FP64","FP64"],"Bool"),O(">=",["U64","U64"],"Bool"),O(">=",["I64","I64"],"Bool"),O(">=",["FP32","FP32"],"Bool"),O(">=",["U32","U32"],"Bool"),O(">=",["I32","I32"],"Bool"),O(">=",["U16","U16"],"Bool"),O(">=",["I16","I16"],"Bool"),O(">=",["U8","U8"],"Bool"),O(">=",["I8","I8"],"Bool"),O(">=",["any","any"],"any")],"<=":[O("<=",["FP64","FP64"],"Bool"),O("<=",["U64","U64"],"Bool"),O("<=",["I64","I64"],"Bool"),O("<=",["FP32","FP32"],"Bool"),O("<=",["U32","U32"],"Bool"),O("<=",["I32","I32"],"Bool"),O("<=",["U16","U16"],"Bool"),O("<=",["I16","I16"],"Bool"),O("<=",["U8","U8"],"Bool"),O("<=",["I8","I8"],"Bool"),O("<=",["any","any"],"any")],"&":[O("&",["Bool","Bool"],"Bool"),O("&",["any","any"],"any")],"^":[O("^",["Bool","Bool"],"Bool"),O("^",["any","any"],"any")],"|":[O("|",["Bool","Bool"],"Bool"),O("|",["any","any"],"any")],not:[O("not",["Bool"],"Bool"),O("not",["any"],"any")],I32:[O("I32",["FP64"],"I32"),O("I32",["U64"],"I32"),O("I32",["I64"],"I32"),O("I32",["FP32"],"I32"),O("I32",["U32"],"I32"),O("I32",["I32"],"I32"),O("I32",["U16"],"I32"),O("I32",["I16"],"I32"),O("I32",["U8"],"I32"),O("I32",["I8"],"I32"),O("I32",["any"],"any")],U32:[O("U32",["FP64"],"U32"),O("U32",["U64"],"U32"),O("U32",["I64"],"U32"),O("U32",["FP32"],"U32"),O("U32",["U32"],"U32"),O("U32",["I32"],"U32"),O("U32",["U16"],"U32"),O("U32",["I16"],"U32"),O("U32",["U8"],"U32"),O("U32",["I8"],"U32"),O("U32",["any"],"any")],I64:[O("I64",["FP64"],"I64"),O("I64",["U64"],"I64"),O("I64",["I64"],"I64"),O("I64",["FP32"],"I64"),O("I64",["U32"],"I64"),O("I64",["I32"],"I64"),O("I64",["U16"],"I64"),O("I64",["I16"],"I64"),O("I64",["U8"],"I64"),O("I64",["I8"],"I64"),O("I64",["any"],"any")],U64:[O("U64",["FP64"],"U64"),O("U64",["U64"],"U64"),O("U64",["I64"],"U64"),O("U64",["FP32"],"U64"),O("U64",["U32"],"U64"),O("U64",["I32"],"U64"),O("U64",["U16"],"U64"),O("U64",["I16"],"U64"),O("U64",["U8"],"U64"),O("U64",["I8"],"U64"),O("U64",["any"],"any")],FP32:[O("FP32",["FP64"],"FP32"),O("FP32",["U64"],"FP32"),O("FP32",["I64"],"FP32"),O("FP32",["FP32"],"FP32"),O("FP32",["U32"],"FP32"),O("FP32",["I32"],"FP32"),O("FP32",["U16"],"FP32"),O("FP32",["I16"],"FP32"),O("FP32",["U8"],"FP32"),O("FP32",["I8"],"FP32"),O("FP32",["any"],"any")],FP64:[O("FP64",["FP64"],"FP64"),O("FP64",["U64"],"FP64"),O("FP64",["I64"],"FP64"),O("FP64",["FP32"],"FP64"),O("FP64",["U32"],"FP64"),O("FP64",["I32"],"FP64"),O("FP64",["U16"],"FP64"),O("FP64",["I16"],"FP64"),O("FP64",["U8"],"FP64"),O("FP64",["I8"],"FP64"),O("FP64",["any"],"any")]}),os=qi;var ko=Object.freeze(["+","-","*","/","%",">",">=","<","<=","!=","&","|","^","not","I32","U32","I64","U64","FP64","FP32"]);var xi=Object.freeze(["FP64","U64","I64","FP32","U32","I32","U16","I16","U8","I8","Bool","Char","Array","String","Link","Maybe"]),Tt=xi;var{EMPTY_STRING:ef,UNICODE_TEXT:zs}=So,tf=44,sf=48,nf=57,of=46,rf=45,cf=43,af=65,uf=90,lf=-1,ff=1,Ef=new TextDecoder(zs),_f=new TextEncoder,mf=(R,k,U=0,H=R.length|0,$=0,x=k.length|0)=>{for($=$|0,U=U|0,x=x|0,H=H|0;;){let ce=U>=H,ie=$>=x;if(ce||ie)break;let le=R[U],_e=k[$];if(U=U+1|0,$=$+1|0,le<_e)return lf;if(le>_e)return ff}return 0},Xs=(R,k,U=0,H=R.length|0,$=0,x=k.length|0)=>{for($=$|0,U=U|0,x=x|0,H=H|0;;){let ce=$>=x,ie=U>=H;if(ce||ie)break;k[$]=R[U],$=$+1|0,U=U+1|0}},Js=(R,k,U=0,H=R.length|0,$=0,x=k.length|0)=>{U=U|0,$=$|0,H=H|0,x=x|0;let ce=H-U|0,ie=x-$|0;if(ce!==ie)return!1;for(;;){let be=U>=H,le=$>=x;if(be||le)break;let Le=R[U],Be=k[$];if(U=U+1|0,$=$+1|0,Le!==Be)return!1}return!0},pf=R=>{R=R>>>0;let k=0,U=0;for(;U=(U<<1|1)>>>0,!(U>R);)k=k+1|0;return k},Ro=Object.freeze([48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102]),$s=(R,k,U,H)=>{for(R=R>>>0,H=H??k.length|0,U=U|0,H=H|0;R>0&&H>U;)H=H-1|0,k[H]=Ro[R&15],R=R>>>4},Ws=(R,k,U,H)=>{let $=U|0,x=U+H|0;if(H===0)return!1;let ce=k[$];for((ce===cf||ce===rf)&&($=$+1|0);$<x;){let ie=k[$];if($=$+1|0,!(sf<=ie&&ie<=nf||(of===ie||tf===ie)))return!1}return!0},Zs=R=>{let k=R>=af,U=R<=uf;return k&&U},cs=128,as=127,Co=-1,Ut=64,Qs=R=>{R=R|0;let k=[];for(;;){let U=R&as;R=R>>7;let H=R===0,$=(U&Ut)===0,x=H&&$,ce=R===-1,ie=(U&Ut)!==0;if(x||ce&&ie){k.push(U);break}U=U|cs,k.push(U)}return k},bf=R=>{let k=[],U=!0;for(;U;){let H=R&as;R>>=7,R===0&&!(H&Ut)||R===-1&&H&Ut?U=!1:H|=cs,k.push(H)}return k},vo=(R,k)=>{k=k|0;let U=0,H=0;for(;;){let $=R[k]|0;k=k+1|0;let x=($&as)<<H;if(H=H+7|0,U=U|x,($&cs)===0){let ie=($&Ut)!==0,be=H<32;if(ie&&be){let _e=Co<<H;U=U|_e}break}}return U},Of=(R,k)=>{k=k|0;let U=0,H=0;for(;;){let $=R[k]|0;k=k+1|0;let x=($&as)<<H;if(H=H+7|0,U=U|x,!($&cs)){if($&Ut){let ce=Co<<H;U=U|ce}break}}return U},d=R=>Ef.decode(R),re=R=>_f.encode(R),Af=(R=ef)=>{let k=R.length|0,U=Qs(k),H=Buffer.from(R,zs);return Object.freeze([...U,...H])},Tf=(R,k)=>{k=k|0;let U=vo(R,k),H=Qs(U).length;return k=k+H|0,R.subarray(k,k+U|0).toString(zs)},Nf=58,If=46,Xt=32,Ks=48,df=67,Nt=new Uint8Array(df),Po=Nt.subarray(0,8),rs=Nt.subarray(10,49),Lo=Nt.subarray(51,68),Hs=16,hf=2;Nt[8]=Nf;Nt[9]=Xt;Nt[49]=Xt;Nt[50]=Xt;var Sf=(R,k)=>{k=k??console.log;let U=32,H=126,$=R.length|0,x=0;for(;$>0;){Po.fill(Ks),$s(x,Po),rs.fill(Xt),Lo.fill(Xt);let ce=$>=Hs?Hs:$;$=$-Hs|0;let ie=0,be=0;for(let _e=1;_e<=ce;_e=_e+1|0){let Le=R[x]&255;rs[ie+0|0]=Ks,rs[ie+1|0]=Ks,$s(Le,rs,ie,ie+2|0);let Be=If;U<=Le&&Le<=H&&(Be=Le),Lo[be]=Be,x=x+1|0,ie=ie+2|0,be=be+1|0,_e%hf===0&&(ie=ie+1|0)}let le=String.fromCodePoint(...Nt);k(le)}},kf=function*(R,k){let U=R.length|0,H=k.length|0,$=0;for(;$<U&&$<H;){let x=R[$],ce=k[$];yield[x,ce],$=$+1|0}},Pf=function*(R,k,U){let H=R.length|0,$=k.length|0,x=U.length|0,ce=0;for(;ce<H&&ce<$&&ce<x;){let ie=R[ce],be=k[ce],le=U[ce];yield[ie,be,le],ce=ce+1|0}},VE=Object.freeze({ARRAY_COMPARE:mf,ARRAY_COPY:Xs,ARRAY_EQUAL:Js,BIT_DEPTH:pf,HEX_DIGITS:Ro,HEX_ENCODE:$s,IS_NUMBER:Ws,IS_UPPERCASE:Zs,LEB128_DECODE:vo,LEB128_DECODE_SIGNED:Of,LEB128_ENCODE:Qs,LEB128_ENCODE_SIGNED:bf,UTF8_DECODE:d,UTF8_ENCODE:re,WASM_STRING_ENCODE:Af,WASM_STRING_DECODE:Tf,XXD_DUMP_HEX:Sf,ZIP2:kf,ZIP3:Pf});var{TYPES_ASSIGN:us,TYPES_ARRAY:ye,TYPES_ARRAY_ASSIGNMENT:Lf,TYPES_BRANCH_MATCH:Uo,TYPES_BRANCH_DEFAULT:Bo,TYPES_CONDITION:Do,TYPES_LOOP:yo,TYPES_DATA:Re,TYPES_GENERICS:ls,TYPES_ENUMERATION:Bt,TYPES_EXPRESSION:Dt,TYPES_IMPORT:Rf,TYPES_INSTANCE:$E,TYPES_LIBRARY:Cf,TYPES_LINK:Mo,TYPES_LOCAL:nt,TYPES_OBJECT:Ve,TYPES_PROCEDURE:ot,TYPES_RETURN:qs,TYPES_SELECT:xs,TYPES_MEMBER:en,TYPES_NATIVE:vf,TYPES_STORE:jo,TYPES_BREAK:Uf,TYPES_LITERAL:Ce,TYPES_ARRAY_ACCESS:is,TYPES_LINK_TO:St,TYPES_VALUE_AT:ft,TYPES_SELF:rt,TYPES_DROP:Fo,TYPES_MAYBE:wo,TYPES_MOVE:tn,TYPES_STRING:kt,TYPES_CONSTRUCTOR:fs,TYPES_DESTRUCTOR:Yo,TYPES_FREE:Bf,TYPES_BLOCK_END:zE,TYPES_STATEMENT:XE,TYPES_DRAW:Df,TYPES_SIZE:sn,TYPES_CONCAT:yt,TYPES_FOREACH:go,TYPES_WHILE:Go}=ho,X=Js,nn=re("="),yf=re("enum"),Mf=re("loop"),jf=re("break"),Ff=re("if"),wf=re("else"),Vo=re("is"),Ko=re("->"),Mt=re(`
`),Ho=re("object"),jt=re("pass"),$o=re("fn"),Yf=re("return"),zo=re("size"),Xo=re("at"),Es=re(ye),It=re("Link!!"),Pt=re("Link"),_s=re("LinkSmart"),Ft=re("mut"),Jo=re("self"),Wo=re("nocopy"),gf=re("move"),Gf=re("size"),Vf=re("import"),Kf=re("export"),ms=re("Maybe"),Hf=re("NONE"),$f=re("SOME"),Zo=re("free"),zf=re("free!!"),Xf=re("foreach"),qE=re("for"),Jf=re("while"),Wf=re("in"),Zf=re("at"),Fe=58,on=61,ge=44,qe=46,Ke=123,de=40,pe=10,Qf=35,st=125,he=41,ct=91,Jt=93,qf=39,Wt=34,xf=64,rn=47,cn=1,Qo=2,an=3,Ht="done",Pe="fail",eE={EVENT_DONE:Ht,EVENT_FAIL:Pe},yu=1,Mu=2,ju=3,Fu=4,wu=5,Yu=6,gu=7,Gu=8,Vu=9,Ku=10,Hu=11,$u=12,tE=13,sE=14,nE=15,zu=16,oE=99,He={FAIL_UNRESOLVED_NAME:R=>`Unresolved name '${R}'. The name '${R}' does not exist in the current context. Please check the spelling and scope of your identifiers.`,FAIL_UNEXPECTED_TOKEN:(R,k)=>`Unexpected token '${R}' at position ${k}. Please check the syntax.`,FAIL_INDENTATION_MISMATCH:R=>`Indentation mismatch on line ${R}. The code on this line does not align with the expected indentation. Check your indentation for inconsistencies.`,FAIL_INDENTATION_NO_INCREASE:R=>`Indentation error on line ${R}. Expected an increase in indentation but found none. Check your indentation.`,FAIL_DUPLICATE_DATA:R=>`Duplicate data '${R}' found. Ensure each piece of data is unique.`,FAIL_DUPLICATE_OBJECT_MEMBER:(R,k)=>`Duplicate member '${R}' in object '${k}'. Each member in an object must have a unique name.`,FAIL_INVALID_IDENTIFIER:R=>`Invalid identifier '${R}'. The name '${R}' is not a valid identifier. Ensure your identifiers adhere to the language's naming rules.`,FAIL_RETURN_LENGTH_MISMATCH:(R,k)=>`Return length mismatch. Expected '${R}' value(s) but received '${k}'. Ensure the number of return values matches the expected count.`,FAIL_UNRESOLVED_OBJECT_MEMBER:(R,k)=>`Unresolved member '${R}' of object '${k}'. The member '${R}' does not exist on the object '${k}'`,FAIL_UNKNOWN_PROCEDURE_NAME:R=>`Call to undefined procedure '${R}'. Please ensure that the procedure is defined before calling it.`,FAIL_IMMUTABLE_ASSIGNMENT:R=>`Assignment to an immutable variable '${R}'. You are attempting to assign a new value to a variable which was declared as immutable and cannot be changed.`,FAIL_RESERVED_KEYWORD_USAGE:R=>`Reserved keyword '${R}' used as an identifier. The keyword '${R}' is reserved by the language and cannot be used as an identifier. Please choose a different name.`,FAIL_INPUT_TYPE_MISMATCH:(R,k)=>`Type Mismatch at line ${R}. Nature procedures expect all parameters to be of same type. Provided: ${k}.`,FAIL_UNSUPPORTED_TYPE:R=>`Unsupported type found. Type '${R}' was not defined in this context and isn't a native to Flogram. Please check your code and language supported types.`,FAIL_UNALLOWED_COPY:R=>`Copy operation not allowed. The object '${R}' has been defined as uncopyable in your code, and therefore, the copy operation you're attempting is not allowed.`,FAIL_ASSIGNMENT_TYPE_MISMATCH:(R,k)=>`Assignment type mismatch. Type '${k}' assigned to '${R}'.`},rE=Object.freeze({FAIL_UNRESOLVED_NAME:yu,FAIL_UNEXPECTED_TOKEN:Mu,FAIL_INDENTATION_MISMATCH:ju,FAIL_INDENTATION_NO_INCREASE:Fu,FAIL_DUPLICATE_DATA:wu,FAIL_DUPLICATE_OBJECT_MEMBER:Yu,FAIL_INVALID_IDENTIFIER:gu,FAIL_RETURN_LENGTH_MISMATCH:Gu,FAIL_UNRESOLVED_OBJECT_MEMBER:Vu,FAIL_UNKNOWN_PROCEDURE_NAME:Ku,FAIL_IMMUTABLE_ASSIGNMENT:Hu,FAIL_RESERVED_KEYWORD_USAGE:$u,FAIL_ASSIGNMENT_TYPE_MISMATCH:zu}),cE=new Set(["fn","object","pass","enum"]),qo=new Set(["==","!=",">",">=","<","<=","!","&","|"]),we=(R,k,U,H)=>{if(H===1){let ae=k[U],Me=ae&191,Qe=ae&223,ut=Qe^93,bt=Qe^91,M=ae&254,v=ae&254^40,W=ae&253^44,ee=ae&254^58;return Me===0||(ut===0||bt===0)||v===0||W===0||ee===0||ae===pe}let Ze=k.subarray(U,U+H|0),Et=d(Ze);return!1},aE=(R,k,U,H)=>{let $=k.subarray(U,U+H|0),x=d($);return cE.has(x)||Tt.includes(x)},uE=512,ro=1,Xu=2,js=3,co=4,Ju=5,Wu=6,Zu=7,Qu=8,qu=9,lE=10,iE=11,fE=12,EE=13,_E=14,mE=15,pE=16,bE=17,OE=18,at=Object.freeze([ro]),wt=Object.freeze([Xu]),Lt=Object.freeze([js]),un=Object.freeze([js,co]),xo=Object.freeze([Ju]),AE=Object.freeze([ro,Wu]),TE=Object.freeze([Zu]),$e=Object.freeze([co,Qu]),Ge=Object.freeze([qu]),NE=Object.freeze([lE]),Yt=Object.freeze([iE]),IE=Object.freeze([js,qu]),Zt=Object.freeze([fE]),gt=Object.freeze([EE]),ln=Object.freeze([_E]),er=Object.freeze([mE]),tr=Object.freeze([pE]),ps=Object.freeze([bE]),fn=Object.freeze([OE]),dE=Object.freeze({REASON_COLON_OPENS_SCOPE:ro,REASON_LINE_BREAK_BEFORE_OPEN_SCOPE:Xu,REASON_CLOSING_LINE_BREAK:js,REASON_SEQUENCE_SEPARATOR_COMMA:co,REASON_INTO_BETWEEN_INPUTS_OUTPUTS:Ju,REASON_IS_OPENS_CONDITION_BRANCH_MATCH:Wu,REASON_OPEN_STATEMENT_WITH_KEYWORD:Zu,REASON_RIGHT_PARENTHESIS_CLOSES_LIST:Qu}),Se=1,sr=2,Qt=3,nr=4,En=5,or=6,De=7,Rt=8,ve=9,qt=10,Gt=11,rr=12,cr=13,xt=1,ar=2,Ue=3,_n=4,ur=5,lr=6,ir=7,fr=1,Er=2,_r=3,mr=4,pr=5,mn=6,br=7,Or=8,Ar=9,Tr=10,Nr=11,Ir=12,dr=13,pn=14,es=1,hr=2,bs=3,Sr=4,bn=5,kr=6,Pr=7,ts=1,Lr=2,Os=3,Rr=4,Cr=6,vr=1,Ur=2,Br=3,Dr=4,On=5,yr=6,Mr=7,As=8,jr=9,Fr=10,wr=11,Yr=12,gr=13,Gr=14,Vr=15,Kr=1,Hr=2,$r=1,zr=2,hE=3;var Xr=7,An=8,Jr=9,Ts=1,Ns=2,Is=3,ds=4,Vt=5,hs=6,Ss=7,Kt=8,ks=9,Ps=10,Ls=11,dt=1,Wr=2,Zr=3,Tn=4,Qr=5,qr=6,xr=7,Nn=8,ec=9,tc=10,sc=11,nc=12,oc=13,rc=14,In=15;var cc=17,dn=18,hn=19,ac=20,uc=21,Sn=22,lc=23,ic=24,Ct=25,Rs=26,fc=27,Ec=28,_c=29,mc=30,pc=31,bc=32,Oc=33,Ac=34,Tc=35,Nc=36,Ic=37,dc=38,hc=39,kn=40,Pn=41,Sc=42,kc=43,Pc=44,Ln=45,Lc=46,Rc=47,Cc=48,vc=49,Rn=50,Uc=51,Bc=52,Cn=53,vn=54,Dc=55,yc=56,Mc=57,jc=58,Un=59,Fc=60,wc=61,Yc=62,gc=63,Gc=64,Vc=65,Kc=66,Hc=67,$c=68,zc=69,Bn=70,Xc=71,Jc=72,Wc=73,Dn=74,Zc=75,Qc=76,qc=77,xc=78,pt=1,ea=2,ta=3,sa=4,yn=5,na=6,Cs=1,oa=2,ra=3,ca=4,aa=5,ht=6,ua=7,Mn=8,vs=9,jn=10,Us=11,la=12,ia=13,Fn=14,wn=15,Yn=16,fa=17,Ea=18,_a=19,gn=20,Gn=21,ma=22,Vn=23,pa=24,ba=25,Oa=26,Kn=27,Aa=28,Ta=29,Hn=30,Na=31,$n=32,Ia=33,da=34,ha=35,Sa=36,ka=37,zn=38,Xn=39,Pa=40,La=41,Ra=42,Ca=43,va=44,Jn=45,Wn=46,Ua=47,Bs=48,Ba=49,Da=50,ya=51,Ma=52,ja=53,Fa=54,wa=55,Ya=56,ga=57,Ga=58,Va=59,Ka=60,Ha=61,$a=62,za=63,Zn=64,Xa=65,Qn=66,Ja=67,Ds=68,ys=69,qn=70,Wa=71,Za=72,Qa=73,qa=74,xa=75,eu=76,tu=77,su=78,nu=79,ou=80,ru=81,cu=82,au=83,uu=84,xn=85,lu=86,iu=87,fu=88;var eo=1,Eu=2,_u=3,mu=4,pu=5,bu=6,Ou=7,Au=8,Tu=9,Nu=10,to=11,Iu=12,du=13,hu=14,Su=15,so=16,ku=17,Pu=18,Lu=19,Ru=20,Ie="Flogram",Cu="0",vu="any",no="data",Uu="code",oo=R=>["TRUE","FALSE"].includes(R),Ms=!1,xu=R=>{let k=[],U=[],H=[],$={name:"draw",type:"procedure",description:{inputs:[{name:"a",data:{type:"data",name:"I32",path:"Flogram"}}],locals:[],outputs:[]}},x=Object.freeze({data:k,code:U,exports:H}),ce=new Uint8Array(uE),ie=[],be=0,le=(c,n,e,f)=>{let t=Object.freeze({position:c,length:f});Xs(n,ce,e,e+f|0,be,be+f|0),ie.push(t),be=be+f|0},_e=()=>{be=0;let c=ce,n=ie,e=0;for(;n.length>0;){let f=n.shift(),{length:t,position:s}=f;zt(s,c,e,t),e=e+t|0}},Le=()=>{let c=new Date,n=c.getHours().toString().padStart(2,"0"),e=c.getMinutes().toString().padStart(2,"0"),f=c.getSeconds().toString().padStart(2,"0"),t=c.getMilliseconds().toString().padStart(3,"0");return`${n}_${e}_${f}_${t}`},Be=(c,n,e,f)=>{let{description:t}=c,{members:s}=t,o=s.find(E=>E.name===n[e]),u=k.find(E=>E.name===o.data.name);return u.type===Ve&&e<n.length-1?Be(u,n,e+1,f):o},Je=c=>{let n=Number(c);if(isNaN(n))return"";if(Number.isInteger(n)){if(n>=-Math.pow(2,31)&&n<Math.pow(2,31))return"I32";if(n>=-Math.pow(2,63)&&n<Math.pow(2,63))return"I64"}else if(typeof n=="number")return c.replace(".","").length<=7?"FP32":"FP64"},We=c=>{switch(c.type){case"select":return c.value.name;case"store":case"linkValue":return We(c.link);case"valueLink":return We(c.value)}return c.name},Ze=(c,n)=>{let e=os[c];if(e){let f=e.find(t=>t.description&&Array.isArray(t.description.inputs)?t.description.inputs.length!==n.length?!1:t.description.inputs.every((s,o)=>s.data.name===n[o].data.name):!1);if(f)return f;b=A|0,p=position-T|0,$t(c);return}else{b=A|0,p=position-T|0,lo(c);return}},Et=c=>{let n=r.procedure.description.inputs.find(e=>e.name===c)||r.procedure.description.locals.find(e=>e.name===c);if(n){let e=k.find(f=>f.type===ls&&f.name===n.data.name);if(e)return{data:e}}return n},ae=(c,n=!1)=>{let e;switch(c.type){case xs:{let f=r.stack.get(c.value.name||c.value.link,c.value.value);if(f){let t=k.find(N=>N.name===f.name),{description:s}=t,{members:o}=s,u=0,E=o.find(N=>N.name===c.trail[u]),_=k.find(N=>N.name===E.data.name);if(_.type===Ve&&u<c.trail.length-1)e={data:Be(_,c.trail,u+1,n)?.data};else{if(E.data.freed){b=A|0,p=position-T|0,ue(`Attempted to use '${c.trail.join(".")}', which has been freed. Ensure links are valid before use.`);return}if(n){let N=k.indexOf(t),I=JSON.parse(JSON.stringify(t)),L=t.description.members.indexOf(E);L>=0&&(I.description.members[L].data.freed=!0,k.splice(N,1,I))}e=E}}break}case ft:{e=ae(c.link);break}case tn:case St:{e=ae(c.value);break}case yt:{e={data:{type:Re,name:kt,path:Ie}};break}case sn:{e={data:{type:Re,name:"I32",path:Ie}};break}case is:{e={data:r.stack.get(c.array.name)};break}case en:{if(c.trail.length>0){let f=k.find(t=>{if(t.description&&t.description.members)return t.description.members.find(s=>s.name===c.trail[0])});if(f){let{description:t}=f,{members:s}=t,o=0,u=s.find(_=>_.name===c.trail[o]),E=k.find(_=>_.name===u.data.name);E.type===Ve&&o<c.trail.length-1?e={data:Be(E,c.trail,o+1,n).data}:e={data:u.data}}else b=A|0,p=0,_t(c.trail[0],`${rt}(current object in definition)`)}else e=r.stack.get(c.trail[0]);break}case Dt:{let f=s=>U.find(o=>o.type===ot&&o.name===s.name)?.description.outputs[0],t=(s,o)=>{let u;for(let E=0;o&&E<=s.name.length-2;E++)o=r.stack.get(s.name[E]),o&&(u=k.find(_=>_.type===Ve&&_.name===o.name));return u?.description.members?.find(E=>E.name===s.name[s.name.length-1])?.description.outputs[0]};if(c.path!==Ie){if(e=f(c),typeof c.name=="object"){let s=r.stack.get(c.name[0]);e=t(c,s);let o=c.name.length;c.name[o-1]===fs&&(e={data:s})}}else if(qo.has(c.name))e={data:{type:Re,name:"Bool",path:Ie}},Ye(e.data.name);else{let s=c.inputs.map(u=>ae(u)),o=U.find(u=>u.description&&Array.isArray(u.description.inputs)?u.description.inputs.length!==s.length||u.name!==c.name||u.path!==c.path?!1:u.description.inputs.every((E,_)=>E.data.name===s[_].data.name):!1);if(o){let{description:u}=o,{outputs:E}=u;e=E[0]}else{b=A|0,p=position-T|0,ue(`Unable to find expression matching: ${s.map(u=>u.data.name)}`);return}}break}default:{e=Et(c.name);break}}if(!e)if(ko.includes(c.name)&&c.type===Dt){let f=c.inputs.map(s=>ae(s)),t=Ze(c.name,f);e={data:{name:t.description.outputs[0].data.name,path:t.description.outputs[0].data.path}}}else c.type===Ce&&(e={data:{type:Ce,name:c.name,literal:c.literal,path:c.path}});return e},Me=c=>{let n=ae(c);return n&&n.data.path===Ie&&n.data.type!==ye&&n.data.mutable?Object.seal({type:ft,link:c}):c},Qe=(c,n)=>{let e=JSON.parse(JSON.stringify(c)),f=c.description.generics.map(s=>s.name);function t(s){for(let o in s)if(s[o]&&typeof s[o]=="object")t(s[o]);else if(o==="name"&&f.includes(s[o])){let u=f.indexOf(s[o]);s[o]=n[u].name,s.path=n[u].path}else if(o==="path"&&s[o].split(".").includes(e.name)){let u=s[o].split("."),E=u.indexOf(e.name),_=ut(e.name,n);u[E]=_,s[o]=u.join(".")}}t(e);for(let s of U){let{description:o}=s,{inputs:u,outputs:E}=o,_=[...u,...E];if(s.type==="native"&&_.some(N=>f.includes(N.data.name))){let N=JSON.parse(JSON.stringify(s));t(N),U.push(N)}}return e},ut=(c,n)=>{let f=n.map(t=>`${t.name}${t.segment?`_${t.segment}`:""}`).join("__");return`${c}___${f}`},bt=c=>c.type===St&&c.value!==rt||c.type===ft&&c.link!==rt,{path:M,imports:B,files:v,Tokenizer:z}=R,W=new Map,oe=new Map,ee=new Map,q=new Map,Ne=(c,n="")=>{let{name:e,path:f}=c,t=n||e,s=`${f}.${t}`;ee.set(s,c);let o=q.get(t)||[];o.push(c),q.set(t,o)},{data:lt}=B;for(let c of lt)Ne(c);let xe=[M],i=new Bu.default,m=[],h=[],S=[],l=!1,C=!1,D=!1,V=!0,w=!1,g=!1,P=Se,a=xt,r=null,fe=null,Te=[],Oe=0,A=1,T=0,Ee=1,Ot=null,b=0,p=0,et=(c,n,e,f)=>{let t=n.subarray(e,e+f|0),s=d(t);return aE(c,n,e,f)?(b=A|0,p=c-T|0,nl(s),!0):we(c,n,e,f)?(b=A|0,p=c-T|0,ke(s),!0):!1};i.on(Ht,c=>{for(let n of h)n(c)}),i.on(Pe,c=>{for(let n of S)n(c)});let ss=c=>{let n=Object.freeze({type:wu,message:He.FAIL_DUPLICATE_DATA(c),failureRow:b,failureColumn:p,name:c});C=!0,D=!0,i.emit(Pe,n)},ao=(c,n)=>{let e=Object.freeze({type:Yu,message:He.FAIL_DUPLICATE_OBJECT_MEMBER(c,n),failureRow:b,failureColumn:p,property:c,object:n});C=!0,D=!0,i.emit(Pe,e)},el=c=>{let n=Ee,e=At(c),f=Object.freeze({type:ju,message:He.FAIL_INDENTATION_MISMATCH(b),failureRow:b,failureColumn:p,expected:n,actual:e});C=!0,D=!0,i.emit(Pe,f)},uo=c=>{let n=Object.freeze({type:Fu,message:He.FAIL_INDENTATION_NO_INCREASE(b),failureRow:b,failureColumn:p,indentation:Ee});C=!0,D=!0,i.emit(Pe,n)},ke=c=>{let n=Object.freeze({type:gu,message:He.FAIL_INVALID_IDENTIFIER(c),failureRow:b,failureColumn:p,identifier:c});C=!0,D=!0,i.emit(Pe,n)},tl=(c,n)=>{let e=Object.freeze({type:Gu,message:He.FAIL_RETURN_LENGTH_MISMATCH(c,n),failureRow:b,failureColumn:p});D=!0,i.emit(Pe,e)},sl=c=>{let n=Object.freeze({type:Hu,message:He.FAIL_IMMUTABLE_ASSIGNMENT(c),failureRow:b,failureColumn:p,variable:c});C=!0,D=!0,i.emit(Pe,n)},nl=c=>{let n=Object.freeze({type:$u,message:He.FAIL_RESERVED_KEYWORD_USAGE(c),failureRow:b,failureColumn:p,keyword:c});C=!0,D=!0,i.emit(Pe,n)},Y=(c,n)=>{let e=Object.freeze({type:Mu,message:He.FAIL_UNEXPECTED_TOKEN(c,p),failureRow:b,failureColumn:p,reasons:n,token:c});C=!0,D=!0,i.emit(Pe,e)},ns=c=>{let n=Object.freeze({type:yu,message:He.FAIL_UNRESOLVED_NAME(c),failureRow:b,failureColumn:p,name:c});C=!0,D=!0,i.emit(Pe,n)},_t=(c,n)=>{let e=Object.freeze({type:Vu,message:He.FAIL_UNRESOLVED_OBJECT_MEMBER(c,n),failureRow:b,failureColumn:p,name:c});C=!0,D=!0,i.emit(Pe,e)},lo=c=>{let n=Object.freeze({type:Ku,message:He.FAIL_UNKNOWN_PROCEDURE_NAME(c),failureRow:b,failureColumn:p,name:c});C=!0,D=!0,i.emit(Pe,n)},ol=c=>{let n=Object.freeze({type:nE,message:He.FAIL_UNALLOWED_COPY(c),failureRow:b,failureColumn:p,name:c});C=!0,D=!0,i.emit(Pe,n)},rl=(c,n)=>{let e=Object.freeze({type:zu,message:He.FAIL_ASSIGNMENT_TYPE_MISMATCH(c,n),failureRow:b,failureColumn:p});C=!0,D=!0,i.emit(Pe,e)},ue=c=>{let n=Object.freeze({type:oE,message:c,failureRow:b,failureColumn:p});C=!0,D=!0,i.emit(Pe,n)},cl=c=>{let n=Object.freeze({type:tE,message:He.FAIL_INPUT_TYPE_MISMATCH(b,c),failureRow:b,failureColumn:p,inputs:c});C=!0,D=!0,i.emit(Pe,n)},$t=c=>{let n=Object.freeze({type:sE,message:He.FAIL_UNSUPPORTED_TYPE(c),failureRow:b,failureColumn:p,inputs});C=!0,D=!0,i.emit(Pe,n)},At=c=>c-T|0,Fs=c=>{let n=Ee|0;return At(c)<n},ws=(c,n)=>{let e=Ee|0,f=At(c);switch(n){case cn:return f<=e;case Qo:return f!==e}throw an},kE=c=>{U.push(c)},Ys=(c,n=!0)=>{let{name:e,path:f}=c,t=`${f}.${e}`;if(!W.has(t)){n?k.unshift(c):k.push(c),W.set(t,c),ee.has(t)||Ne(c);return}},Ye=c=>{let n=q.get(c);if(!n)return null;if(n.length===1){let[e]=n;return Ys(e),e}throw an},PE=(c,n)=>{let{description:e}=c,{inputs:f,locals:t}=e,{name:s}=n;for(let o of f)if(o.name===s)return o.data;for(let o of t)if(o.name===s)return o.data;return null},al=(c,n,e,f)=>{switch(a){case xt:{let t=n.subarray(e,e+f|0);if(r&&r.export&&(Ee=At(c),Ot&&Ot!==Ee&&(j(),r=null,y(),Ot=null,Ee=1),Ot=Ee),X(t,Vf)){y(),P=cr,a=$r,l=!0;return}if(X(t,Kf)){y(),Ee=At(c),r=Object.freeze({export:!0,indentation:Ee}),a=lr;return}if(X(t,yf)){y(),P=sr,a=fr,l=!0;return}if(X(t,Ho)||X(t,Wo)){y(),P=nr,a=vr,l=!0;return}if(X(t,jt)){y(),P=En,a=Kr,l=!0;return}if(X(t,$o)){y(),P=or,a=Ts,l=!0;return}break}case lr:{if(n[e]===Fe){a=xt,y(),a=ir;return}l=!0,a=xt;break}case ir:{if(n[e]===pe){a=xt;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,wt);break}case ar:{g=!1;let t=n.subarray(e,e+f|0);if(X(t,Ff)){P=De,a=Zr,l=!0;return}if(X(t,wf)){P=De,a=Pc,l=!0;return}if(X(t,Mf)){P=De,a=pc,l=!0;return}if(X(t,Xf)){P=De,a=Kc,l=!0;return}if(X(t,Jf)){P=De,a=Zc,l=!0;return}if(X(t,jf)){P=De,a=Tc;return}if(X(t,Xo)){P=De,a=ac,l=!0;return}if(X(t,Pt)||X(t,It)||X(t,_s)){b=A|0,p=c-T|0;let u=d(t);Y(u,fn);return}if(X(t,jt)){P=De,a=nc,l=!0;return}if(X(t,Yf)){P=De,a=rc,l=!0;return}if(X(t,Zo)||X(t,zf)){P=De,a=wc,l=!0;return}if(!et(c,n,e,f)){P=De,a=Cc,l=!0;return}b=A|0,p=c-T|0;let s=d(t);Y(s,TE);break}case Ue:{let t=n[e],s=n.subarray(e,e+f|0),o=d(s);if(k.find(E=>E.type===Bt&&E.description.labels.find(_=>_.name===o))){P=ve,a=$n,l=!0;return}if(Zs(t)&&!oo(d(s))){if(k.find(N=>N.name===o&&N.type===Ve)){P=ve,a=ia,l=!0;return}if(k.find(N=>N.type===Bt&&N.name===o)){P=ve,a=$n,l=!0;return}}if(X(s,ms)){P=ve,a=ha,l=!0;return}if(X(s,Jo)){P=ve,a=Oa,l=!0;return}if(X(s,Xo)){P=ve,a=ra,l=!0;return}if(X(s,Pt)){P=ve,a=Cs,l=!0;return}if(X(s,It)){P=ve,a=Cs,l=!0;return}if(X(s,_s)){P=ve,a=Cs,l=!0;return}if(X(s,Es)){P=ve,a=qn,l=!0;return}if(X(s,gf)){P=ve,a=Fa,l=!0;return}if(X(s,Gf)){P=ve,a=nu,l=!0;return}if(t===ct){P=ve,a=Gn,l=!0;return}a=_n,l=!0;break}case _n:{le(c,n,e,f),a=ur;break}case ur:{le(c,n,e,f);let t=n[e];if(t===de){P=ve,a=vs,_e();return}if(t===ct){P=ve,a=ma,_e();return}if(t===Ke){P=ve,a=vs,_e();return}if(t===qe){a=_n;return}P=ve,a=aa,_e();break}}},ul=(c,n,e,f)=>{switch(a){case fr:{let t=xe.join("."),s=Object.seal({labels:[],generics:[]}),o=Object.seal({type:Bt,name:tt,path:t,description:s});r=Object.seal({enumeration:o}),a=Er;break}case Er:{let{enumeration:t}=r,s=n.subarray(e,e+f|0),o=d(s);if(et(c,n,e,f))return;t.name=o,a=_r;break}case _r:{let t=n[e];if(t===Fe){a=mr;return}if(t===Ke){let{enumeration:E}=r,{description:_}=E,{generics:N}=_;y(),r=N,P=qt,a=ts,l=!0;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,at);break}case mr:{if(n[e]===pe){a=pr;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,wt);break}case pr:{Ee=At(c),a=mn,l=!0;break}case mn:{let{enumeration:t}=r;if(Fs(c)){if(Ys(t),j(),r&&r.export){let s=Object.freeze({name:t.name,type:t.type,path:no});H.push(s);let o=Ee;j(),Ee===o&&j(),Ee<o&&y()}l=!0;return}a=br,l=!0;break}case br:{let{enumeration:t}=r,{description:s}=t,{labels:o}=s,u=n.subarray(e,e+f|0),E=d(u);if(et(c,n,e,f))return;let _={name:E};o.push(_),a=mn,y(),a=Or;break}case Or:{let t=n[e];if(l=!0,t===de){a=Ar;return}let{enumeration:s}=r,{description:o}=s,{labels:u}=o,E=u.length-1;r=Object.seal({label:u[E]}),a=pn;break}case Ar:{if(n[e]===de){a=Tr;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Ge);break}case Tr:{let{enumeration:t}=r,{description:s}=t,{labels:o}=s;if(we(c,n,e,f)){b=A|0,p=c-T|0,ke(E);return}let u=n.subarray(e,e+f|0),E=d(u),_=o.pop();_.data={name:E,path:M},o.push(_),a=Nr;break}case Nr:{if(n[e]===Fe){a=Ir;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,at);break}case Ir:{let{enumeration:t}=r,{description:s}=t,{labels:o}=s,u=n.subarray(e,e+f|0),E=d(u);if(et(c,n,e,f))return;let _=o.pop();_.data.type=E,o.push(_),r=Object.seal({label:_}),a=dr;break}case dr:{if(n[e]===he){a=pn;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,$e);break}case pn:{if(n[e]===pe){j();return}break}}},ll=(c,n,e,f)=>{switch(a){case ts:{a=Lr,l=!0;break}case Lr:{if(n[e]===Ke){a=Os;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Ge);break}case Os:{let t=n[e];if(t===pe)return;if(t===st){j();return}a=Rr,l=!0;break}case Rr:{let t=n.subarray(e,e+f|0),s=d(t);if(et(c,n,e,f))return;y();let o=Object.seal({type:ls,name:s,path:M});r=Object.seal({name:s,data:o}),Ne(r.data,r.name),a=Cr;break}case Cr:{let t=r;j(),r.push(t);let o=n[e];if(o===st){a=Os,l=!0;return}if(o===ge){a=Os;return}b=A|0,p=c-T|0;let u=n.subarray(e,e+f|0),E=d(u);Y(E,$e);break}}},il=(c,n,e,f)=>{switch(a){case es:{a=hr,l=!0;break}case hr:{if(n[e]===de){a=bs;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Ge);break}case bs:{let t=n[e];if(t===pe)return;if(t===he){j();return}a=Sr,l=!0;break}case Sr:{let t=n.subarray(e,e+f|0);if(y(),X(Ft,t)){r=Object.seal({name:null,mutable:!0,data:null}),a=bn;return}r=Object.seal({name:null,data:null}),a=bn,l=!0;break}case bn:{let t=n.subarray(e,e+f|0),s=d(t);if(et(c,n,e,f))return;r.name=s,a=kr;break}case kr:{if(n[e]===Fe){a=Pr,y(),P=Rt,a=pt;return}break}case Pr:{let t=r;j();let s=r,{mutable:o,...u}=t;s.push(u);let E=n[e];if(E===he){a=bs,l=!0;return}if(E===ge){a=bs;return}b=A|0,p=c-T|0;let _=n.subarray(e,e+f|0),N=d(_);Y(N,$e);break}}},fl=(c,n,e,f)=>{switch(a){case vr:{let t=xe.join("."),s=Object.seal({members:[],generics:[]}),o=Object.seal({type:Ve,name:tt,copy:!0,path:t,description:s});r=Object.seal({mapNameMember:new Map,object:o}),a=Ur,l=!0;break}case Ur:{let t=n.subarray(e,e+f|0);if(a=Br,X(t,Wo)){r.object.copy=!1;return}l=!0;break}case Br:{let t=n.subarray(e,e+f|0);if(X(t,Ho)){a=Dr;return}b=A|0,p=c-T|0;let s=d(t);Y(s,at);break}case Dr:{let{object:t}=r,s=n.subarray(e,e+f|0),o=d(s);if(et(c,n,e,f))return;let u=Ye(o);if(u&&xe.join(".")===u.path&&(b=A|0,p=c-T|0,ss(o)),X(s,Ft)){b=A|0,p=c-T|0,failReservedKeyword(o);return}t.name=o,Ys(t,!1),a=gr;break}case gr:{if(n[e]===Ke)a=Gr,l=!0;else if(n[e]===Fe)a=On,l=!0;else{let t=n.subarray(e,e+f|0),s=d(t);b=A|0,p=c-T|0,ke(s);return}break}case Gr:{let{object:t}=r,{description:s}=t,{generics:o}=s;a=On,y(),r=o,P=qt,a=ts,l=!0;break}case On:{if(n[e]===Fe){a=yr;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,at);break}case yr:{if(n[e]===pe){a=Mr;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,wt);break}case Mr:{if(ws(c,cn)){let t=m.length;if(m.length<1||m[t-1].item.indentation>=Ee){b=A|0,p=c-T|0,uo(c);return}}Ee=At(c),a=As,l=!0;break}case As:{let{object:t}=r;if(Fs(c)){if(j(),r&&r.export){let s=Object.freeze({name:t.name,type:t.type,path:no});H.push(s);let o=Ee;j(),Ee===o&&j(),Ee<o&&y()}l=!0;return}if(ws(c,Qo)){b=A|0,p=c-T|0,el(c);return}a=Vr,l=!0;break}case Vr:{let{object:t,mapNameMember:s}=r,{description:o}=t,{members:u}=o,E=n.subarray(e,e+f|0),_=d(E);if(a=jr,X(E,Ft)){y(),r=Object.freeze({mutable:!0});return}l=!0;break}case jr:{let t;r.mutable&&(t=r.mutable,j());let{object:s,mapNameMember:o}=r,{description:u}=s,{members:E}=u,_=n.subarray(e,e+f|0),N=d(_);if(X($o,_)){a=As,y(),P=rr,a=Ts,l=!0;return}if(et(c,n,e,f))return;o.has(N)&&(b=A|0,p=c-T|0,ao(N,s.name));let I=Object.seal({name:N,data:null});t&&(I=Object.seal({name:N,mutable:t,data:null})),E.push(I),o.set(N,I),a=As,y(),r=Object.seal({member:I}),a=Fr;break}case Fr:{if(n[e]===Fe){a=wr;return}break}case wr:{a=Yr,y(),r=Object.seal({data:null}),y(),P=Rt,a=pt,l=!0;break}case Yr:{if(n[e]===pe){let{data:E}=r;j();let{member:_}=r;_.data=E,_.mutable&&(_.data={...E,mutable:_.mutable}),j();return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Lt);break}}},El=(c,n,e,f)=>{switch(a){case Ts:{let{mapNameMember:t,object:s}=r,{name:o}=s,u=new Map(t),E=`${xe.join(".")}.${o}`,_=Object.seal({generics:[],inputs:[],locals:[],outputs:[],statements:[]}),N=Object.seal({type:ot,name:tt,path:E,description:_});r=Object.seal({procedure:N,stack:u}),a=Ns;break}case Ns:{let{procedure:t}=r,s=n.subarray(e,e+f|0),o=d(s);if(et(c,n,e,f))return;if(X(s,Ft)){b=A|0,p=c-T|0,failReservedKeyword(o);return}t.name=o,a=Is;break}case Is:{if(n[e]===Ke)a=ds,l=!0;else if(n[e]===de)a=Vt,l=!0;else{let t=n.subarray(e,e+f|0),s=d(t);b=A|0,p=c-T|0,ke(s);return}break}case ds:{let{procedure:t}=r,{description:s}=t,{generics:o}=s;a=Vt,y(),r=o,P=qt,a=ts,l=!0;break}case Vt:{let{procedure:t}=r,{description:s}=t,{inputs:o}=s;a=hs,y(),r=o,P=Qt,a=es,l=!0;break}case hs:{let{procedure:t,stack:s}=r,{description:o}=t,{inputs:u}=o;for(let L of u){let{name:G,data:F}=L;s.set(G,F)}u.length>0&&r.procedure.name===Yo&&(b=A|0,p=c-T|0,ue("Destructors should not return any values. Your destructor appears to return a number. Please adhere to Flogram's conventions and correct your code."));let E=n.subarray(e,e+f|0),_=n[e];if(X(E,Ko)){a=Ss;return}if(_===Fe){a=Kt,l=!0;return}b=A|0,p=c-T|0;let N=d(E);Y(N,xo);break}case Ss:{let{procedure:t}=r,{description:s}=t,{outputs:o}=s;a=Kt,y(),r=o,P=Qt,a=es,l=!0;break}case Kt:{let t=n[e],{outputs:s}=r.procedure.description;if(s.length>0&&r.procedure.name===fs&&(b=A|0,p=c-T|0,ue(`Constructors in Flogram should not return any values. Your constructor seems to return ${s.length} outputs. Please correct your code according to Flogram rules.`)),s.length>0&&r.procedure.name===Yo&&(b=A|0,p=c-T|0,ue(`Destructors in Flogram should not return any values. Your destructor seems to return ${s.length} outputs. Please correct your code according to Flogram rules.`)),t===Fe){a=ks;return}b=A|0,p=c-T|0;let o=n.subarray(e,e+f|0),u=d(o);Y(u,at);break}case ks:{if(n[e]===pe){a=Ps;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,wt);break}case Ps:{let{procedure:t,stack:s}=r,{description:o}=t,{statements:u}=o;a=Ls,y(),r=Object.seal({procedure:t,stack:s,statements:u}),P=De,a=dt,l=!0;break}case Ls:{let{procedure:t}=r,{name:s}=t;j();let{object:o,mapNameMember:u}=r,{description:E}=o,{members:_}=E;u.has(s)&&(b=A|0,p=c-T|0,ao(s,o.name));let N=Object.seal({name:t.name,data:{name:t.name,type:t.type,path:t.path}});_.push(t),u.set(s,N),l=!0;break}}},_l=(c,n,e,f)=>{switch(a){case Kr:{let t=n.subarray(e,e+f|0);if(X(t,jt)){y(),P=En,a=Hr,l=!0;return}break}case Hr:{if(n[e]===pe){j();return}break}}},ml=(c,n,e,f)=>{switch(a){case Ts:{let t=new Map,s=xe.join("."),o=Object.seal({generics:[],inputs:[],locals:[],outputs:[],statements:[]}),u=Object.seal({type:ot,name:tt,path:s,description:o});r=Object.seal({procedure:u,stack:t}),a=Ns;break}case Ns:{let{procedure:t}=r,s=n.subarray(e,e+f|0),o=d(s);if(et(c,n,e,f))return;if(X(s,Ft)){b=A|0,p=c-T|0,failReservedKeyword(o);return}t.name=o,a=Is;break}case Is:{if(n[e]===Ke)a=ds,l=!0;else if(n[e]===de)a=Vt,l=!0;else{let t=n.subarray(e,e+f|0),s=d(t);b=A|0,p=c-T|0,ke(s);return}break}case ds:{let{procedure:t}=r,{description:s}=t,{generics:o}=s;a=Vt,y(),r=o,P=qt,a=ts,l=!0;break}case Vt:{let{procedure:t}=r,{description:s}=t,{inputs:o}=s;a=hs,y(),r=o,P=Qt,a=es,l=!0;break}case hs:{let{procedure:t,stack:s}=r,{description:o}=t,{inputs:u}=o;for(let L of u){let{name:G,data:F}=L;s.set(G,F)}let E=n.subarray(e,e+f|0),_=n[e];if(X(E,Ko)){a=Ss;return}if(_===Fe){a=Kt,l=!0;return}b=A|0,p=c-T|0;let N=d(E);Y(N,xo);break}case Ss:{let{procedure:t}=r,{description:s}=t,{outputs:o}=s;a=Kt,y(),r=o,P=Qt,a=es,l=!0;break}case Kt:{let t=n[e],{procedure:s}=r;if(U.push(s),t===Fe){a=ks;return}b=A|0,p=c-T|0;let o=n.subarray(e,e+f|0),u=d(o);Y(u,at);break}case ks:{if(n[e]===pe){a=Ps;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,wt);break}case Ps:{let{procedure:t,stack:s}=r,{description:o}=t,{statements:u}=o;a=Ls,y(),r=Object.seal({procedure:t,stack:s,statements:u}),P=De,a=dt,l=!0;break}case Ls:{let E=function(_,N=!0){let I=[Go,go,yo],L=!1;for(let G=_.length-1;G>=0;G--){let F=_[G];if(I.includes(F.type)&&F.statements)E(F.statements,!1)&&(L=!0);else if(F.type===Do)if(F.branches&&F.branches.length>0){let K=_.some(J=>J.type===qs);if(N&&!K&&F.branches.length<2)return console.error("Error: If the condition is not met, the procedure will not return."),b=A|0,p=c-T|0,ue("Procedure does not return on a specific condition; it will not return if conditions are not met."),!1;if(!K){for(let J of F.branches)if(!J.statements||!E(J.statements,!1))return console.error("Error: A branch in the condition does not have a return"),!1;G!==_.length-1&&(console.log("Code will not be executed after return in block"),b=A|0,p=c-T|0,ue(`Code after return statement will not be executed. Procedure ${t.name} has defined statements after a return statements which makes them unreachable.`))}L=!0}else return console.error("Error: Condition does not have branches"),!1;else F.type===qs&&(G!==_.length-1&&(console.log("Code will not be executed after return in block"),b=A|0,p=c-T|0,ue(`Code after return statement will not be executed. Procedure ${t.name} has defined statements after a return statements which makes them unreachable.`)),L=!0);if(L==!0)break}return N&&!L&&(b=A|0,p=c-T|0,ue(`Procedure ${t.name} does not have a return statement. Please make sure your return values are marked as defined in the procedure definition.`)),L},{procedure:t}=r,{description:s}=t,{statements:o,outputs:u}=s;if(u.length!==0&&E(o),j(),r&&r.export){let _=Object.freeze({name:t.name,type:t.type,path:Uu});H.push(_);let N=Ee;j(),Ee===N&&j(),Ee<N&&y()}l=!0;break}}},pl=(c,n,e,f)=>{switch(a){case dt:{if(ws(c,cn)){b=A|0,p=c-T|0,uo(c);return}Ee=At(c),a=Wr,l=!0;break}case Wr:{let t=n.subarray(e,e+f|0);if(Fs(c)){j(),l=!0;return}y(),P=Se,a=ar,l=!0;break}case Tc:{let{statements:t}=r,s={type:Uf};t.push(s),j();break}case Zc:{let{procedure:t,stack:s,statements:o}=r,u=Object.seal({type:Go,condition:null,statements:[]});o.push(u),y(),r=Object.seal({blockWhile:u,procedure:t,stack:s}),a=Qc;break}case Qc:{let{stack:t,procedure:s}=r;a=qc,y(),r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se,l=!0;break}case qc:{if(n[e]===Fe){let{value:E}=r;j();let{blockWhile:_}=r;_.condition=E,a=xc;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,at);break}case xc:{let{blockWhile:t,procedure:s,stack:o}=r,{statements:u}=t;if(n[e]===pe){a=Dn,y(),r=Object.seal({procedure:s,stack:o,statements:u}),P=De,a=dt;return}b=A|0,p=c-T|0;let _=n.subarray(e,e+f|0),N=d(_);Y(N,Lt);break}case Kc:{let{procedure:t,stack:s,statements:o}=r,u=Object.seal({type:go,iterator:null,index:`{j_${Le()}}`,collection:null,statements:[]}),E={name:u.index,data:{type:Re,name:"I32",path:Ie}};s.set(E.name,E.data),o.push(u),y(),r=Object.seal({blockForeach:u,procedure:t,stack:new Map(JSON.parse(JSON.stringify(Array.from(s))))}),a=Hc;break}case Hc:{let t=n.subarray(e,e+f|0),{blockForeach:s,stack:o}=r,u=d(t);if(o.has(u)){ss(u),b=A|0,p=c-T|0;return}s.iterator=u,a=$c;break}case $c:{let{blockForeach:t,stack:s,procedure:o}=r,{description:u}=o,{locals:E}=u,_=n.subarray(e,e+f|0);if(X(Zf,_)){s.delete(t.index),a=zc;return}l=!0,a=Bn;break}case zc:{let{blockForeach:t,stack:s,procedure:o}=r,{description:u}=o,{locals:E}=u,_=n.subarray(e,e+f|0),N=d(_);if(s.has(N)){ss(N),b=A|0,p=c-T|0;return}let I={name:N,data:{type:Re,name:"I32",path:Ie}};s.set(N,I.data),E.push(I),t.index=N,a=Bn;break}case Bn:{let{blockForeach:t,stack:s,procedure:o}=r,{description:u}=o,{locals:E}=u,_=n.subarray(e,e+f|0);if(X(Wf,_)){s.has(t.index)&&!E.find(L=>L.name===t.index)&&E.push({name:t.index,data:s.get(t.index)}),a=Xc;return}b=A|0,p=c-T|0;let N=d(_);Y(N,at);break}case Xc:{let{stack:t,procedure:s}=r;a=Jc,y(),r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se,l=!0;break}case Jc:{if(n[e]===Fe){let{value:E,stack:_,procedure:N}=r,{description:I}=N,{locals:L}=I;j();let{blockForeach:G}=r;G.collection=E;let{data:F}=ae(E),K={name:G.iterator,data:{type:F.contains||Re,name:F?.name,path:F?.path,layout:F.contains}};_.set(K.name,K.data),L.push(K),a=Wc;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,at);break}case Wc:{let{blockForeach:t,procedure:s,stack:o}=r,{statements:u}=t;if(n[e]===pe){a=Dn,y(),r=Object.seal({procedure:s,stack:o,statements:u}),P=De,a=dt;return}b=A|0,p=c-T|0;let _=n.subarray(e,e+f|0),N=d(_);Y(N,Lt);break}case Dn:{j(),j(),l=!0;break}case pc:{let{procedure:t,stack:s,statements:o}=r,u=Object.freeze({type:yo,statements:[]});o.push(u),y(),r=Object.seal({blockLoop:u,procedure:t,stack:new Map(JSON.parse(JSON.stringify(Array.from(s)))),value:0}),a=bc;break}case bc:{if(n[e]===Fe){a=Oc;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,at);break}case Oc:{let{blockLoop:t,procedure:s,stack:o}=r,{statements:u}=t;if(n[e]===pe){a=Ac,y(),r=Object.seal({procedure:s,stack:o,statements:u}),P=De,a=dt;return}b=A|0,p=c-T|0;let _=n.subarray(e,e+f|0),N=d(_);Y(N,Lt);break}case Ac:{j(),j(),l=!0;break}case Zr:{let{procedure:t,stack:s,statements:o}=r,u=Object.freeze({type:Do,branches:[],values:[]});o.push(u),y(),r=Object.seal({blockCondition:u,procedure:t,stack:new Map(JSON.parse(JSON.stringify(Array.from(s)))),value:0}),a=Nc;break}case Nc:{le(c,n,e,f),a=Ic;break}case Ic:{le(c,n,e,f);let t=n[e],s=n.subarray(e,e+f|0);if(t===de){a=dc,_e();return}if(X(s,Vo)){a=Tn,_e();return}break}case Pc:{let{stack:t,branches:s,procedure:o}=r,u={type:Bo,statements:[],values:[]};s.push(u),r=Object.seal({branch:u,stack:t,procedure:o}),a=Pn;break}case dc:{let t=n.subarray(e,e+f|0),{blockCondition:s,stack:o,procedure:u}=r,{branches:E}=s,_={type:Uo,statements:[],values:[]};E.push(_);let N=d(t),I={type:Dt,name:N,path:Ie,inputs:[]},L=U.find(G=>G.type===ot&&G.name===N);L&&(I.path,L.path),r=Object.seal({blockCondition:s,branch:_,stack:o,value:I,procedure:u}),a=hc;break}case hc:{if(n[e]===de){a=Un;return}b=A|0,p=c-T|0;let t=n.subarray(e,e+f|0),s=d(t);Y(s,Ge);break}case Un:{let{stack:t,procedure:s}=r;if(n[e]===he){a=kn,l=!0;return}a=Fc,y(),r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se,l=!0;break}case Fc:{let{value:t}=r;j();let{value:s,stack:o,procedure:u}=r,{inputs:E}=s;E.push(Me(t));let _=n[e];if(_===he){a=kn,l=!0;return}if(_===ge){a=Un;return}b=A|0,p=c-T|0;let N=n.subarray(e,e+f|0),I=d(N);Y(I,un);break}case kn:{let{value:t,branch:s,stack:o}=r,{values:u}=s,{name:E}=t,_=os[E];if(_){let G=t.inputs.map(K=>ae(K))||[],F=_.find(K=>K.description&&Array.isArray(K.description.inputs)?K.description.inputs.length!==G.length?!1:K.description.inputs.every((J,se)=>J.data.name===G[se].data.name):!1);F&&U.push(F)}if(u.push(t),Ye("Bool"),n[e]===he){a=Pn;return}b=A|0,p=c-T|0;let N=n.subarray(e,e+f|0),I=d(N);Y(I,$e);break}case Pn:{let t=n.subarray(e,e+f|0);if(n[e]===Fe){a=Sc;return}b=A|0,p=c-T|0;let s=d(t);Y(s,Yt);break}case Sc:{let{branch:t,procedure:s,stack:o}=r,{statements:u}=t;if(n[e]===pe){a=kc,y(),r=Object.seal({procedure:s,stack:o,statements:u}),P=De,a=dt;return}b=A|0,p=c-T|0;let _=n.subarray(e,e+f|0),N=d(_);Y(N,Lt);break}case kc:{let{branch:t}=r;if(t.type===Bo){j(),j();let{branches:s,...o}=r;r=Object.seal(o)}else{let{blockCondition:s}=r,{branches:o}=s;j(),j(),r=Object.seal({...r,branches:o})}l=!0;break}case Tn:{let{blockCondition:t,stack:s}=r,{values:o}=t,u=n.subarray(e,e+f|0),E=d(u);if(et(c,n,e,f))return;if(s.has(E)){let _=Object.freeze({type:nt,name:E});o.push(_)}a=Qr;break}case Qr:{if(n[e]===ge){a=Tn;return}let s=n.subarray(e,e+f|0);if(X(s,Vo)){a=qr,y(),a=xr,l=!0;return}b=A|0,p=c-T|0;let o=d(s);Y(o,AE);break}case qr:{j(),j(),l=!0;break}case xr:{let{blockCondition:t,procedure:s,stack:o}=r,{branches:u}=t,E=Object.seal({type:Uo,statements:[],values:[]});u.push(E),r=Object.seal({blockCondition:t,branchMatch:E,procedure:s,stack:o}),a=Nn;break}case Nn:{let{blockCondition:t,branchMatch:s,stack:o}=r,{values:u}=t,{values:E}=s,_=n.subarray(e,e+f|0),N=d(_);if(et(c,n,e,f))return;if(o.has(N)){let I=Object.freeze({type:nt,name:N});E.push(I)}else if(oo(N)){let I=Object.freeze({type:Ce,literal:N,name:"Bool",path:Ie});E.push(I),Ye(I.name)}else{let{procedure:I}=r,{description:L}=I,{outputs:G}=L,F=N,{name:K,path:J}=G[0].data,se=Object.freeze({type:Ce,literal:F,name:K,path:J});E.push(se)}a=ec;break}case ec:{let t=n[e];if(t===ge){a=Nn;return}if(t===Fe){a=tc;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,at);break}case tc:{let{branchMatch:t,procedure:s,stack:o}=r,{statements:u}=t;if(n[e]===pe){a=sc,y(),r=Object.seal({procedure:s,stack:o,statements:u}),P=De,a=dt;return}b=A|0,p=c-T|0;let _=n.subarray(e,e+f|0),N=d(_);Y(N,Lt);break}case sc:{j();let t=n.subarray(e,e+f|0),s=d(t);l=!0;break}case nc:{a=oc;break}case oc:{if(n[e]===pe){j();return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Lt);break}case rc:{let{procedure:t,stack:s,statements:o}=r,u=Object.seal({type:qs,values:[]});o.push(u),y();let E=A|0,_=c-T|0,N=Object.freeze({row:E,column:_});r=Object.seal({commandReturn:u,coordinates:N,procedure:t,stack:s}),a=In;break}case In:{let{stack:t,procedure:s}=r;if(n[e]===pe){a=dn,l=!0;return}a=cc,y(),r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se,l=!0;break}case cc:{let{value:t}=r;j();let{commandReturn:s,stack:o,procedure:u}=r,{values:E}=s;E.push(Me(t));let _=n[e];if(_===pe){a=dn,l=!0;return}if(_===ge){a=In;return}b=A|0,p=c-T|0;let N=n.subarray(e,e+f|0),I=d(N);Y(I,un);break}case dn:{let{commandReturn:t,coordinates:s,procedure:o}=r,{values:u}=t,{description:E}=o,{outputs:_}=E;u.length!==_.length&&(b=s.row|0,p=s.column|0,tl(_.length,u.length));for(let N of _){let I=_.indexOf(N),L=ae(u[I]);L&&L.data.name!=N.data.name&&(b=s.row|0,p=s.column|0,ue(`Mismatching types provided on procedure's return. Procedure expected ${N.data.name} at index ${I} but was provided with a rather ${L.data.name}. Please review to provide matching types.`))}j(),j();break}case Cc:{let t=n.subarray(e,e+f|0),{procedure:s,stack:o,statements:u}=r,E={type:nt,name:null},_=Object.seal({type:us,target:E,source:null});r=Object.freeze({declarationValue:_,procedure:s,stack:o,statements:u,target:E}),X(Ft,t)?(E.mutable=!0,a=hn):(l=!0,a=vn);break}case vn:{le(c,n,e,f),a=Dc;break}case Dc:{if(le(c,n,e,f),n[e]===de){let{procedure:t,stack:s,statements:o}=r;a=yc;let u=Object.seal({type:Fo,expression:null});r=Object.seal({stack:s,procedure:t,drop:u,value:null,statements:o}),y(),P=ve,a=vs,_e();return}if(n[e]===qe){a=vn;return}a=hn,_e();break}case yc:{let{statements:t,drop:s,value:o}=r;s.expression=o,t.push(s),j();break}case hn:{let{stack:t}=r,s=n.subarray(e,e+f|0),o=d(s),u=t.get(o);if(t.has(o)&&!u.mutable&&(g=!0),X(Jo,s)){l=!0,a=vc;return}let{target:E}=r;E.name=o,a=Sn;break}case Sn:{let t=n[e],{procedure:s,stack:o,statements:u,target:E}=r;if(t===ct){let L=r.declarationValue,G={type:us,target:{type:Lf,array:{type:nt,name:L.target.name},index:null},source:null};r=Object.seal({declarationValue:G,procedure:s,stack:o,statements:u}),l=!0,a=Ec;return}if(t===qe){let L=r.declarationValue,G=[],F=L.target;r=Object.seal({declarationValue:{type:us,target:{type:xs,value:F,trail:G},source:null},procedure:s,stack:o,statements:u}),y(),r=Object.seal({stack:o,trail:G,value:F}),a=Ln;return}if(t===Fe){l=!0,a=lc;return}if(t===he){let{declarationValue:L}=r;j(),r.declarationValue.target=L.target,l=!0;return}if(t===on){let L=r.declarationValue?.target&&We(r.declarationValue?.target);if(L&&L!==rt&&!o.get(L)){b=A|0,p=c-T|0,ns(L);return}a=Rs;return}b=A|0,p=c-T|0;let _=n.subarray(e,e+f|0),N=d(_);Y(N,Yt);break}case vc:{r.target.type=en,r.target.trail=[],delete r.target.name,a=Rn;break}case Rn:{if(n[e]===qe){a=Uc;return}a=Cn,l=!0;break}case Uc:{let t=n.subarray(e,e+f|0),s=d(t);r.target.trail.push(s),a=Bc;break}case Bc:{if(n[e]===qe){a=Rn,l=!0;return}a=Cn,l=!0;break}case Cn:{a=Ct,l=!0;break}case Ec:{if(n[e]===ct){a=_c;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,ln);break}case _c:{let{stack:t,procedure:s}=r;a=mc,y(),r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se,l=!0;break}case mc:{if(n[e]===Jt){let{value:E}=r;j();let _=ae(E);if(_.data.mutable?r.declarationValue.target.index=Object.seal({type:ft,link:E}):r.declarationValue.target.index=E,!_||!["I32","U32","I16","U16","U8","I8"].includes(_.data.name)){b=A|0,p=c-T|0,ue("Invalid index. Array index should be a valid I32 variable");return}a=Ct;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,er);break}case ac:{let{procedure:t,stack:s,statements:o}=r,u=Object.seal({type:jo,link:null}),E=Object.seal({type:us,target:u,source:null});r=Object.freeze({declarationValue:E,procedure:t,stack:s,statements:o}),a=Mc;break}case Mc:{if(n[e]===de){a=uc;return}b=A|0,p=c-T|0;let t=n.subarray(e,e+f|0),s=d(t);Y(s,Ge);break}case uc:{let{stack:t,procedure:s}=r;a=jc,y(),r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se,l=!0;break}case jc:{if(n[e]===he){let{value:u}=r;j(),r.declarationValue.target.link=u,a=Sn;return}b=A|0,p=c-T|0;let t=n.subarray(e,e+f|0),s=d(t);Y(s,$e);break}case Lc:{if(n[e]!==qe){j(),l=!0;return}a=Ln;break}case Ln:{let{stack:t,value:s,trail:o}=r,u=n.subarray(e,e+f|0),E=d(u),_,N,I=!1;if(s.type===nt){let{name:L}=s;_=t.get(L)}if(_){let{name:L,path:G}=_,F=`${G}.${L}`,K=ee.get(F);K.type===Ve&&(N=K)}if(N){let{description:L}=N,{members:G}=L;for(let F of G)if(F.name===E){I=!0;break}if(!I){b=A|0,p=c-T|0,_t(E,s.name);return}}if(s.value===rt||s.link===rt){if(!t.get(E)){b=A|0,p=c-T|0,_t(E,`${rt}(current object in definition)`);return}I=!0}if(!I){b=A|0,p=c-T|0,_t(E,s.name);return}o.push(E),a=Lc;break}case lc:{let t=n.subarray(e,e+f|0),s=d(t);if(n[e]===Fe){let{target:E,stack:_}=r,{name:N}=E;if(_.has(N)){b=A|0,p=c-T|0,ss(N);return}if(n[e+1]===on&&f>1){a=Rc,l=!0;return}a=ic;return}b=A|0,p=c-T|0,Y(s,NE);break}case ic:{let{declarationValue:t,procedure:s,stack:o}=r,{target:u}=t,{description:E}=s,{locals:_}=E,N=n.subarray(e,e+f|0),I=d(N);if(we(c,n,e,f)){b=A|0,p=c-T|0,ke(I);return}if(X(Es,N)){a=Ct,y(),P=Gt,a=eo,l=!0;return}if(X(N,It)||X(N,Pt)){a=Ct,y(),P=Gt,a=to,l=!0;return}if(X(N,ms)){a=Ct,y(),P=Gt,a=ku,l=!0;return}let L=Ye(I);if(L){let G=Object.seal({type:Re,name:L.name,path:L.path}),F;u.mutable?F=Object.freeze({name:u.name,data:{...G,mutable:u.mutable}}):F=Object.freeze({name:u.name,data:G}),o.set(u.name,F.data),_.push(F)}a=Ct;break}case Rc:{let{declarationValue:t,procedure:s,stack:o,statements:u}=r,{target:E}=t,{description:_}=s,{locals:N}=_,I;E.mutable?(I={name:E.name,mutable:E.mutable,data:null},delete E.mutable):I=Object.seal({name:E.name,data:null}),o.set(E.name,I.data),N.push(I),r=Object.seal({declarationValue:t,procedure:s,stack:o,statements:u,inferenceValue:I}),a=Rs;break}case Ct:{let t=n.subarray(e,e+f|0);if(X(t,nn)){a=Rs;return}b=A|0,p=c-T|0;let s=d(t);Y(s,Yt);break}case Rs:{let{procedure:t,stack:s,target:o}=r,u=n[e];if(we(c,n,e,f)&&u!==ct){let E=n.subarray(e,e+f|0),_=d(E);b=A|0,p=c-T|0,ke(_);return}a=fc,y(),r=Object.seal({procedure:t,stack:s,value:null}),y(),P=Se,a=Ue,l=!0;break}case fc:{if(n[e]===pe){let{value:E}=r;j();let{declarationValue:_,statements:N,stack:I}=r;if(r.inferenceValue){let Z=function(Q){let ne;switch(Q.type){case nt:{let me=I.get(Q.name);me.type===Re?ne=me:me.type===Ce?(ne={type:Re,name:me.name,path:me.path},Q.mutable&&(ne.mutable=Q.mutable),Q.contains&&(ne.contains=Q.contains)):(me.type===ye||me.type==="Link")&&(ne=me);let{moved:io,...ze}=ne;ne=ze;break}case yt:{ne={type:Re,name:kt,path:Ie};break}case Ce:{ne={type:Re,name:Q.name,path:Q.path},Q.layout===ye&&(ne.type=ye,ne.length=Q.literal.length),Q.contains&&(ne.contains=Q.contains);break}case sn:{ne={type:Re,name:"I32",path:Ie};break}case wo:{ne={type:Q.type,name:Q.data.name,path:Q.data.path},Q.data.contains&&(ne.contains=Q.data.contains);break}case tn:{ne=Z(Q.value);break}case Dt:{let me=ze=>U.find(it=>it.type===ot&&it.name===ze.name)?.description.outputs[0]?.data,io=(ze,it)=>{let Xe;for(let mt=0;it&&mt<=ze.name.length-2;mt++)it=I.get(ze.name[mt]),it&&(Xe=k.find(vt=>vt.type===Ve&&vt.name===it.name));return Xe?.description.members?.find(mt=>mt.name===ze.name[ze.name.length-1])?.description.outputs[0]?.data};if(Q.path!==Ie){if(ne=me(Q),typeof Q.name=="object"){let ze=I.get(Q.name[0]);ne=io(Q,ze)}}else if(qo.has(Q.name))ne={type:Re,name:"Bool",path:Ie},Ye(ne.name);else{let ze=Q.inputs.map(Xe=>ae(Xe)),it=U.find(Xe=>Xe.description&&Array.isArray(Xe.description.inputs)?Xe.description.inputs.length!==ze.length||Xe.name!=Q.name?!1:Xe.description.inputs.every((mt,vt)=>mt.data.name===ze[vt].data.name):!1);if(it){let{description:Xe}=it,{outputs:mt}=Xe,vt=mt[0],{data:Il}=vt,{name:dl,path:hl}=Il;ne={type:Re,name:dl,path:hl}}else{b=A|0,p=c-T|0,ue(`Unable to find expression matching: ${ze.map(Xe=>Xe.data.name)}`);return}}break}case St:{ne={...Z(Q.value),type:Mo},Q.unsafe&&(ne.unsafe=Q.unsafe),Q.smart&&(ne.smart=Q.smart);break}case ft:{let me=I.get(Q.link);ne={type:Re,name:me.name,path:me.path},me.contains&&(ne.contains=me.contains);break}case is:{let me=I.get(Q.array.name);ne={type:Re,name:me.name,path:me.path},me.contains&&(ne.contains=me.contains);break}default:{console.log("Unhandled: ",Q.type);break}}return ne},{inferenceValue:te}=r;te.data=Z(E),te.mutable&&(te.data.mutable=te.mutable,delete te.mutable),I.set(te.name,te.data)}let{target:L}=_,G=We(L),F=We(E);if(I.has(F)){let te=k.find(Z=>Z.name===I.get(F).name&&Z.type===Ve);te&&!te.copy&&(b=A|0,p=c-T|0,ol(F))}G&&G!==rt&&(te=>{if(!I.get(te)?.mutable&&g){b=A|0,p=c-T|0,sl(te);return}})(G),_.source=E;let J=ae(L),se=ae(E),je=(te,Z)=>{if(te===Z)return!0;if(typeof te!="object"||te===null||typeof Z!="object"||Z===null)return!1;if(te.type==="local"&&Z.type==="local")return te.name===Z.name;let Q=Object.keys(te).filter(me=>me!=="mutable"),ne=Object.keys(Z).filter(me=>me!=="mutable");if(Q.length!==ne.length)return!1;for(let me of Q)if(!ne.includes(me)||!je(te[me],Z[me]))return!1;return!0},Ae=(te,Z)=>te.some(Q=>je(Q,Z));if(J&&se){J.data?.mutable&&J.data.path===Ie&&J.data.type!==ye&&(Ae(Te,L)||r.procedure.description.inputs.some(Z=>Z.name===J.name||Z.name===We(L))?_.target=Object.seal({type:jo,link:L}):se.data.path===Ie&&se.data.type!==ye&&(_.source=Object.seal({type:St,value:E}),Te.push(L))),se.data?.mutable&&se.data.path===Ie&&se.data.type!==ye&&(_.source=Object.seal({type:ft,link:E}));let te=(Z,Q)=>Z.slice(1)===Z.slice(1)||Z.charAt(0)===Z.charAt(0)||(Z==="FP64"||Z==="FP32"||Z==="I64"||Z==="U64"||Z==="I32"||Z==="U32"||Z==="I16"||Z==="U16"||Z==="I8"||Z==="U8")&&Q==="I32"||Z==="FP64"&&Q=="FP32";if(J.data.name!==se.data.name&&!(J.data.type===se.data.name||J.data.name===se.data.type)&&!(se.data.type===Ce&&te(J.data.name,se.data.name))){b=A|0,p=c-T|0,rl(J.data.name,se.data.name);return}}N.push(_),j();return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,IE);break}case wc:{let{stack:t,procedure:s}=r,o=Object.seal({type:Bf,unsafe:!0,value:null}),u=n.subarray(e,e+f|0);X(u,Zo)&&(o.unsafe=!1),y(),r=Object.seal({free:o,stack:t,procedure:s}),a=Yc;break}case Yc:{if(n[e]===de){let{stack:E,procedure:_}=r;a=gc,y(),r={stack:E,procedure:_,value:null},y(),a=Ue,P=Se;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Ge);break}case gc:{let{value:t,stack:s}=r;j();let{free:o}=r;o.value=Me(t);let u=!0,{name:E,data:_}=ae(t,u);if(b=A|0,p=c-T|0,_.type!==Mo){ue(`Variable '${E}' is not a link and cannot be freed. Only 'unsafe' links are freeable.`);return}if(_.unsafe!==o.unsafe){ue(`Improper free method used for link '${E}'. Unsafe links are unsafely freed with 'free!!' while safe ones are freed with 'free'. Your link(${E}) is ${_.unsafe?"un":""}safe.`);return}let N=s.get(E);N&&s.set(E,{...N,freed:!0}),a=Gc,l=!0;break}case Gc:{if(n[e]===he){let{free:E}=r;j();let{statements:_}=r;_.push(E),a=Vc;break}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,$e);break}case Vc:{j();break}}},bl=(c,n,e,f)=>{switch(a){case pt:{let t=n.subarray(e,e+f|0),s=d(t);if(we(c,n,e,f)&&!Tt.includes(s)){b=A|0,p=c-T|0,ke(s);return}if(a=ea,X(It,t)){r.data=Object.seal({type:s,unsafe:!0});return}if(X(Pt,t)){r.data=Object.seal({type:s});return}if(X(ms,t)){r.data=Object.seal({type:s});return}if(X(Es,t)){r.data={type:s};let u=m.length;if(m[u-1].situationGeneral===4){y();let{data:_}=r;r={isEnum:!0,type:_},l=!0,a=eo,P=Gt;return}return}let o=Ye(s);if(o){o.type===ls?r.data=Object.seal({type:Re,name:s,path:o.path}):r.data=Object.seal({type:Re,name:o.name,path:o.path}),r.mutable&&(r.data=Object.seal({...r.data,type:d(Pt),unsafe:!0,mutable:r.mutable}));return}console.log("Failed to find type",s),b=A|0,p=c-T|0,ns(s),j();break}case ea:{let t=n.subarray(e,e+f|0);if(n[e]===Ke){l=!0,a=ta;return}j(),l=!0;break}case ta:{if(n[e]===Ke){a=sa;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Zt);break}case sa:{let t=n.subarray(e,e+f|0),s=d(t),o=Ye(s);if(o){let{data:E}=r,{unsafe:_,type:N,smart:I}=E,L=re(N);if(X(L,It))r.data=Object.seal({type:N.replace(/!!$/,""),name:o.name,path:o.path,segment:tt,unsafe:_});else if(X(L,Pt))r.data=Object.seal({type:N,name:o.name,path:o.path,segment:tt});else if(X(L,_s))r.data=Object.seal({type:N,name:o.name,path:o.path,segment:tt,smart:I});else{if(k.find(F=>F.type===Ve&&F.name===E.name)){a=na,y(),r=[],y(),r={data:null},y(),l=!0,a=pt;return}r.data=Object.seal({type:N,name:o.name,path:o.path})}r.mutable&&(r.data=Object.seal({...r.data,mutable:r.mutable}));return}let u=n[e];if(u===ge)return;if(u===st){l=!0,a=yn;return}r.data.segment!==void 0&&(r.data.segment=s),a=yn;break}case na:{let t=n[e],{data:s}=r;if(j(),r.push(s),t===ge){y(),r={data:null},y(),a=pt;return}if(t===st){let _=r;j();let N=k.find(L=>L.type===Ve&&L.name===r.data.name);if(!(N.description?.generics?.length===_.length)){b=A|0,p=c-T|0,ue(`Generic object '${name}' was provided with fewer or more than expect number of types. Expected: ${N.description.generics.length}. Got: ${_.length}`);return}r.data.name=ut(r.data.name,_),j();return}b=A|0,p=c-T|0;let o=n.subarray(e,e+f|0),u=d(o);Y(u,gt);break}case yn:{if(n[e]===st){j();return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,gt);break}}},Ol=(c,n,e,f)=>{switch(a){case eo:{let t=n.subarray(e,e+f|0),s=d(t),o=Object.seal({type:s,name:null,length:null,path:Ie});r=Object.seal({...r,type:o}),a=Eu;break}case Eu:{let t=n.subarray(e,e+f|0);if(n[e]===Ke){a=_u;return}b=A|0,p=c-T|0;let s=d(t);Y(s,Zt);break}case _u:{let t=n.subarray(e,e+f|0),s=d(t);if(we(c,n,e,f)&&!Tt.includes(s)){let u=n.subarray(e,e+f|0),E=d(u);b=A|0,p=c-T|0,ke(E);return}let o=Ye(s);r.type.name=o.name,r.type.path=o.path,a=mu;break}case mu:{let t=n.subarray(e,e+f|0);if(n[e]===st){a=pu;return}b=A|0,p=c-T|0;let s=d(t);Y(s,gt);break}case pu:{let t=n.subarray(e,e+f|0);if(n[e]===de){a=bu;return}b=A|0,p=c-T|0;let s=d(t);Y(s,Ge);break}case bu:{let t=n.subarray(e,e+f|0);if(X(zo,t)){a=Ou;return}b=A|0,p=c-T|0;let s=d(t);Y(s,ps);break}case Ou:{let t=n.subarray(e,e+f|0);if(X(nn,t)){a=Au;return}b=A|0,p=c-T|0;let s=d(t);Y(s,Yt);break}case Au:{if(we(c,n,e,f)){let o=n.subarray(e,e+f|0),u=d(o);b=A|0,p=c-T|0,ke(u);return}let t=n.subarray(e,e+f|0),s=d(t);r.type.length=s,a=Tu;break}case Tu:{let t=n.subarray(e,e+f|0);if(n[e]===he){a=Nu,l=!0;return}b=A|0,p=c-T|0;let s=d(t);Y(s,$e);break}case Nu:{if(r.isEnum){let{type:I}=r;j(),r.data=I;return}let{declarationValue:t,procedure:s,stack:o}=r,{target:u}=t,{description:E}=s,{locals:_}=E,N;u.mutable?N=Object.freeze({name:u.name,data:{...r.type,mutable:u.mutable}}):N=Object.freeze({name:u.name,data:r.type}),o.set(u.name,N.data),_.push(N),j();break}case to:{let t=n.subarray(e,e+f|0),o={type:d(t).replace(/!!$/,""),path:Ie};X(t,It)&&(o.unsafe=!0),o=Object.seal({...o,name:null,segment:null});let{declarationValue:u,stack:E,procedure:_}=r;r=Object.seal({declarationValue:u,stack:E,procedure:_,type:o}),a=Iu;break}case Iu:{let t=n.subarray(e,e+f|0);if(n[e]===Ke){a=du;return}b=A|0,p=c-T|0;let s=d(t);Y(s,Zt);break}case du:{let t=n.subarray(e,e+f|0),s=d(t);if(we(c,n,e,f)&&!Tt.includes(s)){b=A|0,p=c-T|0,ke(s);return}Ye(s),r.type.name=s,a=hu;break}case hu:{let t=n.subarray(e,e+f|0);if(n[e]===ge){a=Su;return}if(n[e]===st){a=so,l=!0;return}b=A|0,p=c-T|0;let s=d(t);Y(s,$e);break}case Su:{if(we(c,n,e,f)){let o=n.subarray(e,e+f|0),u=d(o);b=A|0,p=c-T|0,ke(u);return}let t=n.subarray(e,e+f|0),s=d(t);r.type.segment=s,a=so;break}case so:{let t=n.subarray(e,e+f|0);if(n[e]===st){if(r.declarationValue){let{declarationValue:u,procedure:E,stack:_}=r,{target:N}=u,{description:I}=E,{locals:L}=I,G;N.mutable?G=Object.freeze({name:N.name,data:{...r.type,mutable:N.mutable}}):G=Object.freeze({name:N.name,data:r.type}),_.set(N.name,G.data),L.push(G),j()}else{let{type:u}=r;j(),r.data=u}return}b=A|0,p=c-T|0;let s=d(t);Y(s,gt);break}case ku:{let t=n.subarray(e,e+f|0),s=d(t),o=Object.seal({type:s,path:null,name:null}),{declarationValue:u,stack:E,procedure:_}=r;r=Object.seal({declarationValue:u,stack:E,procedure:_,type:o}),a=Pu;break}case Pu:{let t=n.subarray(e,e+f|0);if(n[e]===Ke){a=Lu;return}b=A|0,p=c-T|0;let s=d(t);Y(s,Zt);break}case Lu:{let t=n.subarray(e,e+f|0),s=d(t);if(we(c,n,e,f)){b=A|0,p=c-T|0,ke(s);return}let o=Ye(s);r.type.name=s,r.type.path=o.path,a=Ru;break}case Ru:{let t=n.subarray(e,e+f|0);if(n[e]===st){let{declarationValue:u,procedure:E,stack:_}=r,{target:N}=u,{description:I}=E,{locals:L}=I,G;N.mutable?G=Object.freeze({name:N.name,data:{...r.type,mutable:N.mutable}}):G=Object.freeze({name:N.name,data:r.type}),_.set(N.name,G.data),L.push(G),j();return}b=A|0,p=c-T|0;let s=d(t);Y(s,gt);break}}},Al=(c,n,e,f)=>{switch(a){case Cs:{let t=Object.seal({type:St,unsafe:null,smart:null,value:null}),s=n.subarray(e,e+f|0);X(s,It)&&(t.unsafe=!0),X(s,_s)&&(t.smart=!0),r.value=t,a=Va;break}case Va:{if(n[e]===de){a=oa;return}b=A|0,p=c-T|0;let t=n.subarray(e,e+f|0),s=d(t);Y(s,Ge);break}case oa:{let{stack:t,procedure:s}=r,o=n.subarray(e,e+f|0),u=d(o),E=t.get(u);E&&E.moved&&(b=A|0,p=c-T|0,ue(`Moved variable used as value. Variable '${u}' was used while having been moved before.`)),a=Ka,y(),r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se,l=!0;break}case Ka:{if(n[e]===he){let{value:u}=r;j(),r.value.value=Me(u),j();return}b=A|0,p=c-T|0;let t=n.subarray(e,e+f|0),s=d(t);Y(s,Ge);break}case ra:{let t=Object.seal({type:ft,link:null});r.value=t,a=Ha;break}case Ha:{if(n[e]===de){a=ca;return}b=A|0,p=c-T|0;let t=n.subarray(e,e+f|0),s=d(t);Y(s,Ge);break}case ca:{let{stack:t,procedure:s}=r,o=n.subarray(e,e+f|0),u=d(o),E=t.get(u);E&&E.moved&&(b=A|0,p=c-T|0,ue(`Moved variable used as value. Variable '${u}' was used while having been moved before.`)),a=$a,y(),r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se,l=!0;break}case $a:{if(n[e]===he){let{value:u}=r;j(),r.value.link=Me(u),j();return}b=A|0,p=c-T|0;let t=n.subarray(e,e+f|0),s=d(t);Y(s,$e);break}case Oa:{let t=Object.seal({type:en,trail:[]});r.value=t,a=Kn;break}case Kn:{if(n[e]===qe){a=Aa;return}a=Hn,l=!0;break}case Aa:{let t=n.subarray(e,e+f|0),s=d(t);r.value.trail.push(s),a=Ta;break}case Ta:{if(n[e]===qe){a=Kn,l=!0;return}a=Hn,l=!0;break}case Hn:{j(),l=!0;break}case ia:{let t=n.subarray(e,e+f|0),s=d(t),o=k.find(I=>I.name===s);if(!o){b=A|0,p=c-T|0,ns(s);return}let{description:u}=o,{members:E}=u,_=E.some(I=>I.name==="constructor"&&I.type===ot),N=Object.seal({type:Ce,explicitConstructor:_,name:s,literal:[],path:o.path});r.value=N,a=Da;break}case Da:{let t=n[e];if(t===de){a=Fn,l=!0;return}if(t===Ke){a=ya;return}break}case ya:{y(),r=[],a=Ma,l=!0;break}case Ma:{a=ja,y(),r={data:null},y(),P=Rt,a=pt,l=!0;break}case ja:{let t=n[e],{data:s}=r;if(j(),r.push(s),t===ge){a=Bs;return}if(t===st){let o=r;j();let{value:u}=r,{name:E}=u,_=k.find(N=>N.type===Ve&&N.name===E);if(_){if(!(_.description.generics.length===o.length)){b=A|0,p=c-T|0,ue(`Generic procedure '${E}' was provided with fewer or more than expect number of types. Expected: ${genericProcedure.description.generics.length}. Got: ${o.length}`);return}let I=ut(_.name,o);if(!k.some(L=>L.name===I)){let L=Qe(_,o);L.name=I,L.description.generics=[],k.push(L)}u.name=I}a=Fn;break}}case Fn:{let{value:t}=r,{explicitConstructor:s,...o}=t;if(t=Object.seal(o),n[e]===de){if(s){a=za;return}a=wn;return}b=A|0,p=c-T|0;let E=n.subarray(e,e+f|0),_=d(E);Y(_,Ge);break}case wn:{if(n[e]===pe)return;if(n[e]===ge){a=Yn;return}a=Yn,l=!0;break}case Yn:{let t=n.subarray(e,e+f|0),s=d(t),{stack:o,procedure:u}=r;y();let E=Object.seal({name:s,value:null});r={procedure:u,stack:o,prop:E},a=fa;break}case fa:{let{stack:t,procedure:s}=r;if(n[e]===on){a=Ea,y(),r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se;return}b=A|0,p=c-T|0;let u=n.subarray(e,e+f|0),E=d(u);Y(E,Yt);break}case Ea:{let{value:t}=r;j();let{prop:s}=r;if(s.value=Me(t),j(),r.value.literal.push(s),n[e]===ge){a=wn;return}l=!0,a=_a;break}case _a:{if(n[e]===pe){a=gn;return}l=!0,a=gn;break}case gn:{let t=n[e];if(b=A|0,p=c-T|0,t===he){let{value:E}=r,{literal:_}=E,N=k.find(L=>L.name===E.name&&L.type===Ve),I=N.description.members.filter(L=>L.type!==ot);if(_.length!==I.length){let L=n.subarray(e,e+f|0),G=d(L);ue(`Incorrect number of parameters for Object ${N.name}. Expected ${I.length} parameters but received ${_.length}. Please ensure you provide the correct number of parameters.`);return}for(let L of _){let G=ae(L.value),F=_.indexOf(L),K=I.find(J=>J.name===L.name);K||ue(`Invalid member name. Name ${L.name} does not exist on object ${N.name}`),G.data.type!==Ce&&G.data.name!==K.data.name&&ue(`Type mismatch in input for Object ${N.name}. At index ${F}, expected ${K.data.name} but received ${G.data.name}.`)}j();return}let s=n.subarray(e,e+f|0),o=d(s);Y(o,$e);break}case za:{let u=function(_){let N=_.data.name,I=k.find(L=>L.name===N);if(I.type===Ve){let L=[],{members:G}=I.description;for(let F of G)F.data&&L.push({name:F.name,value:u(F)});return{type:Ce,name:N,literal:L,path:_.data.path}}else if(_.data.type===ye){let L=parseInt(_.data.length,10);return{type:Ce,literal:Array(L).fill(Cu),name:N,layout:ye,path:_.data.path}}else if(_.data.type===kt){let L=parseInt(_.data.length,10);return{type:Ce,literal:Array(L).fill(tt),name:N,path:_.data.path}}else return{type:Ce,literal:Cu,name:N,path:_.data.path}},{value:t}=r,{literal:s,name:o}=t,E=k.find(_=>_.name===o);if(E){let{description:_}=E,{members:N}=_;for(let Ae of N)Ae.data&&s.push({name:Ae.name,value:u(Ae)});j(),j();let{stack:I,procedure:L,statements:G,declarationValue:F,inferenceValue:K}=r,J=F?.target.name;if(!J){J="literalObjectConstructor";let Ae=ae(t),{literal:te,...Z}=Ae.data,{locals:Q}=L.description;Q.push({name:J,data:Z}),I.set(J,Z)}K&&(K.data={type:Re,name:o,path:E.path},K.mutable&&(K.data.mutable=K.mutable),J&&r.stack.set(J,K.data)),F&&(F.source=t,G.push(F)),y();let se=Object.seal({type:Dt,name:[J,fs],path:E.path,inputs:[]}),je=Object.seal({type:Fo,expression:se});r={stack:I,procedure:L,drop:je,value:se},a=Zn,P=ve,l=!0;return}break}case Zn:{let{stack:t,procedure:s}=r;if(n[e]===he){a=Qn,l=!0;return}a=Xa,y(),r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se,l=!0;break}case Xa:{let{value:t}=r;j();let{value:s,stack:o,procedure:u}=r,{inputs:E}=s;E.push(Me(t));let _=n[e];if(_===he){a=Qn,l=!0;return}if(_===ge){a=Zn;return}b=A|0,p=c-T|0;let N=n.subarray(e,e+f|0),I=d(N);Y(I,un);break}case Qn:{let{value:t,stack:s,drop:o}=r,u=s.get(t?.name[0]);if(u){let I=k.find(K=>K.name===u.name),L=I.description.members.find(K=>K.name===fs),G=t.inputs.filter(K=>K.type===Ce);for(let K of G){let J=t.inputs.indexOf(K);J>=0&&t.inputs[J]&&(t.inputs[J]={...t.inputs[J],name:L.description.inputs[J]?.data?.name||K.name,path:L.description.inputs[J]?.data?.path||K.path})}let F=t.inputs.map(K=>ae(K))||[];if(L.description.inputs.length!==F.length){b=A|0,p=c-T|0,ue(`Mismatching number of parameters passed to constructor of object '${I.name}'. Expected: ${L.description.inputs.length}, Got: ${F.length}`);return}for(let K of L.description.inputs){let J=L.description.inputs.indexOf(K);if(K.data.name!==F[J].data.name){b=A|0,p=c-T|0,ue(`Input type mismatch on index '${J+1}'. '${I.name}' expected ${K.data.name}, but was provided with a rather ${F[J].data.name}`);return}}}if(n[e]===he){a=Ja;return}b=A|0,p=c-T|0;let E=n.subarray(e,e+f|0),_=d(E);Y(_,$e);break}case Ja:{if(n[e]===pe){let{drop:I}=r;j();let{statements:L}=r;L||j(),L&&L.push(I),j();return}let{value:s,stack:o,procedure:u}=r;if(j(),a===ys){y(),r={stack:o,procedure:u,value:s},l=!0;return}b=A|0,p=c-T|0;let E=n.subarray(e,e+f|0),_=d(E);Y(_,wt);break}case aa:{let{stack:t}=r,s=n.subarray(e,e+f|0),o=d(s);if(t.has(o)){let I=t.get(o);if(I&&(I.moved&&(b=A|0,p=c-T|0,ue(`Moved variable used as value. Variable '${o}' was used while having been moved before.`)),I.freed)){b=A|0,p=c-T|0,ue(`Attempted to use '${o}', which has been freed. Ensure links are valid before use.`);return}let L=Object.freeze({type:nt,name:o});r.value=L,a=ht;return}let u=I=>{let L=m[I];if(L.item.target){let G=L.item.target,F=_.item.stack.get(G.name);if(F)return F.name}else return L.item.value?.type==="expression"?u(I-1):null},E=m.length,_=m[E-2],N;if(_.item.target){let I=_.item.target;if(I.name||I.trail?.length===1){let L=_.item.stack.get(I.name||I.trail[0]);L&&(N=I.name?L.name:L.data?.name)}if(I.trail?.length>1){let L=JSON.parse(JSON.stringify(I.trail)),G=_.item.stack.get(I.trail[0]),F=k.find(J=>J.name===G.data.name&&J.path===G.data.path),K=1;for(let J=1;J<L.length;J++)G=F.description.members.find(se=>se.name===L[J]),J<L.length-1&&(F=k.find(se=>se.name===G.data.name&&se.path===G.data.path));N=G.data.name}}else _.item.value?.type==="expression"&&(N=u(E-4));if(Ws(c,n,e,f)){let I=o,L=Je(I),G=Object.freeze({type:Ce,literal:I,name:N||L,path:Ie});if(!L){b=A|0,p=c-T|0;let F=n.subarray(e,e+f|0),K=d(F);Y(K,fn)}Ye(G.name),r.value=G,a=ht;return}if(oo(o)){let I=Object.freeze({type:Ce,literal:o,name:"Bool",path:Ie});r.value=I,Ye(I.name),a=ht;return}if(n[e]===Wt){a=uu,l=!0;return}if(n[e]===qf){if(Ms){if(Ms=!1,a=ht,r.value.literal.length>1){b=A|0,p=c-T|0,ue("Type Mismatch: Use single quotes for a Char (one character) in Flogram. For Strings, use double quotes or ensure there's only one character within single quotes.");return}}else Ms=!0;return}if(Ms){let I=Object.freeze({type:Ce,literal:o,name:N||"Char",path:Ie});Ye(I.name),r.value=I;return}if(n[e]===ct){a=Gn,l=!0;return}b=A|0,p=c-T|0,ns(o),j();break}case uu:{if(n[e]==Wt){a=xn;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Ge);break}case xn:{let t=n.subarray(e,e+f|0),s=d(t);if(a=iu,n[e]===Wt){l=!0;return}else if(n[e]===Ke){l=!0;return}let o=Object.freeze({type:Ce,literal:s,name:kt,path:Ie});r.value&&r.value.type===yt?r.value.values.push(o):r.value=o,Ye(o.name);break}case iu:{let{stack:t,procedure:s}=r;if(n[e]===Wt){if(r.value.type===yt&&n[e+1]===Wt){a=lu;return}j();return}else if(n[e]===Ke){a=fu,y(),r=Object.seal({procedure:s,stack:t,value:null}),y(),P=Se,a=Ue;return}b=A|0,p=c-T|0;let o=n.subarray(e,e+f|0),u=d(o);Y(u,Ge);break}case fu:{let{value:t}=r;if(j(),r.value.type!==yt){let s=Object.seal({type:yt,values:[]});s.values.push(r.value),r.value=s}r.value.values.push(t),a=xn;break}case lu:{j();break}case qn:{y(),a=Wa,r={data:null},y(),P=Rt,a=pt,l=!0;break}case Wa:{let t=n[e],{data:s}=r;j();let{stack:o,procedure:u}=r,E=Object.seal({type:Ce,literal:[],name:s.name,length:null,layout:s.type,path:s.path});if(y(),r={stack:o,procedure:u,value:E},t===de){a=Za;return}b=A|0,p=c-T|0;let _=n.subarray(e,e+f|0),N=d(_);Y(N,Ge);break}case Za:{let t=n.subarray(e,e+f|0);if(X(zo,t)){a=Qa;return}b=A|0,p=c-T|0;let s=d(t);Y(s,ps);break}case Qa:{let t=n.subarray(e,e+f|0);if(X(nn,t)){a=qa;return}b=A|0,p=c-T|0;let s=d(t);Y(s,Yt);break}case qa:{if(we(c,n,e,f)){let o=n.subarray(e,e+f|0),u=d(o);b=A|0,p=c-T|0,ke(u);return}let t=n.subarray(e,e+f|0),s=d(t);r.value.length=s,a=eu;break}case eu:{let t=n[e];if(t===ge){let{stack:E,procedure:_}=r,N=[];y(),r={stack:E,procedure:_,value:N},a=tu;return}if(t===he){let{value:E}=r;j(),r.value=E,a=ht;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,$e);break}case tu:{if(n[e]===ct){a=su;return}b=A|0,p=c-T|0;let t=n.subarray(e,e+f|0),s=d(t);Y(s,ln);break}case su:{if(a=xa,n[e]===Jt)return;l=!0;break}case xa:{let t=n.subarray(e,e+f|0);if(n[e]===he){let{value:s}=r;j();let{value:o}=r;j(),o.literal=s,r.value=o,j();return}y(),a=Ds,l=!0;break}case Gn:{let t=n.subarray(e,e+f|0);if(n[e]===ct){r.value=[],a=ht,y(),a=Ds;return}break}case Ds:{let{stack:t,procedure:s}=r;if(a=ys,y(),r.value.length===0&&n[e]===Jt){r={stack:t,procedure:s,value:null},a=ys,l=!0;break}r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se,l=!0;break}case ys:{let t=n[e],{value:s}=r;if(j(),s!==null&&r.value.push(s),t===ge){a=Ds;return}if(t===Jt){let o=m.length,u=m[o-3],E=u.item.declarationValue?.target,_=u.item.stack.get(E?.name);if(u.situationSection!==qn){let N=!1,I;if(!_){if(r.value?.length>=1)if(I=ae(r.value[0]),I){(I.data.layout===ye||I.data.type===ye||Array.isArray(I.data.literal))&&(N=!0);for(let G=1;G<r.value.length;G++){let F=ae(r.value[G]);if((F.data.layout===ye||F.data.type===ye||Array.isArray(F.data.literal))&&(N=!0),F.data.name!==I.data.name||F.data.path!==I.data.path){b=A|0,p=c-T|0,ue(`Type mismatch in array initialization. Expected all items to be of type ${I.data.name} from ${I.data.path}, but found type ${F.data.name} from ${F.data.path} at position ${G}. Ensure all items in the array have the same type.`);return}}}else{b=A|0,p=c-T|0;let G=n.subarray(e,e+f|0),F=d(G);Y(F,fn);return}else I={data:{name:"FP32",path:"Flogram"}};Ye(I.data.name)}if(_?.length&&parseInt(_.length,10)<r.value.length){b=A|0,p=c-T|0,ue(`Too much data for an array. Array is defined to have a maximum of ${_.length} but value assigned has ${r.value.length}. Consider increasing size of the array or reducing the number of elements.`);return}let L=Object.freeze({type:Ce,literal:r.value,length:_?.length||r.value.length,name:_?.name||I.data.name,layout:ye,contains:N?ye:null,path:_?.path||I.data.path});r.value=L}j();return}break}case ht:{let t=n[e];if(t===qe){let{stack:s,value:o}=r,u=[],E=Object.freeze({type:xs,value:o,trail:u});r.value=E,y(),r=Object.seal({stack:s,trail:u,value:o}),a=Mn;return}else if(t===ct){let{value:s}=r,o=Object.seal({type:is,array:s,index:null});r.value=o,l=!0,a=Vn;return}j(),l=!0;break}case ua:{if(n[e]!==qe){let s=n.subarray(e,e+f|0),o=d(s);j(),j(),l=!0;return}a=Mn;break}case Mn:{let{stack:t,value:s,trail:o}=r,u=n.subarray(e,e+f|0),E=d(u),_,N,I=!1,L;try{let G=ae(s);G&&(_=G.data)}catch{}if((s.type===nt||s.type===ft||s.type===St||bt(s))&&!_){let G=We(s);if(o.length===0)_=t.get(G);else{let F=o.length-1,K=t.get(G),J=k.find(Z=>Z.name===K.name),{description:se}=J,{members:je}=se,Ae=je.find(Z=>Z.name===o[F]),{data:te}=Ae;if(_=te,te.freed){b=A|0,p=c-T|0,ue(`Attempted to use '${o.join(".")}', which has been freed. Ensure links are valid before use.`);return}}}if(_){let{name:G,path:F}=_,K=`${F}.${G}`,J=ee.get(K);J.type===Ve&&(N=J)}if(N){let{description:G}=N,{members:F}=G;for(let K of F)if(K.name===E){I=!0;break}if(!I){b=A|0,p=c-T|0,_t(E,s.name);return}}if(s.value===rt||s.link===rt){if(!t.get(E)){b=A|0,p=c-T|0,_t(E,`${rt}(current object in definition)`);return}I=!0}if(!I){b=A|0,p=c-T|0,_t(E,s.name);return}o.push(E),a=ua;break}case ma:{let{stack:t}=r,s=n.subarray(e,e+f|0),o=d(s);if(t.has(o)){let u=Object.seal({type:is,array:{type:nt,name:o},index:null});r.value=u}a=Vn;break}case Vn:{if(n[e]===ct){a=pa;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,ln);break}case pa:{let{stack:t,procedure:s}=r;a=ba,y(),r={stack:t,procedure:s,value:null},y(),a=Ue,P=Se,l=!0;break}case ba:{if(n[e]===Jt){let{value:E}=r;j();let _=ae(E);if(_.data.mutable?r.value.index=Object.seal({type:ft,link:E}):r.value.index=E,!_||!["I32","U32","I16","U16","U8","I8"].includes(_.data.name)){b=A|0,p=c-T|0,ue("Invalid index. Array index should be a valid I32 variable");return}a=ht;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,er);break}case vs:{let{stack:t}=r,s=n.subarray(e,e+f|0),o=d(s),u=U.find(_=>_.type===ot&&_.name===o),E=Object.seal({type:Dt,name:o,path:u?.path||Ie,inputs:[]});if(r.value=E,t.has(o)){r.value.name=[o],a=Na;return}a=Wn;break}case Na:{let t=n.subarray(e,e+f|0),s=d(t),o=n[e];if(o===qe)return;if(o===de){a=Wn,l=!0;return}if(we(c,n,e,f)){b=A|0,p=c-T|0,ke(s);return}r.value.name.push(s);break}case Wn:{let t=n[e];if(t===de){a=jn,l=!0;return}if(t===Ke){a=Ua;return}break}case jn:{if(n[e]===de){a=Us;return}break}case Ua:{y(),r=[],a=Bs,l=!0;break}case Bs:{a=Ba,y(),r={data:null},y(),P=Rt,a=pt,l=!0;break}case Ba:{let t=n[e],{data:s}=r;if(j(),r.push(s),t===ge){a=Bs;return}if(t===st){let o=r;j();let{value:u}=r,{name:E}=u,_=U.find(N=>N.type===ot&&N.name===E);if(_){if(!(_.description.generics.length===o.length)){b=A|0,p=c-T|0,ue(`Generic procedure '${E}' was provided with fewer or more than expect number of types. Expected: ${_.description.generics.length}. Got: ${o.length}`);return}let I=ut(_.name,o);if(!U.some(L=>L.name===I)){let L=Qe(_,o);L.name=I,L.description.generics=[],U.push(L)}u.name=I}a=jn;break}}case Us:{let t=n[e];if(t===pe)return;if(t===he){let u=r.value?.inputs?.map(F=>ae(F))||[],[E,..._]=u,{value:N}=r,{name:I}=N,L=os[I],G=(F,K,J,se)=>{for(let je in F.description?.members){let Ae=[F.description.members[je].data.name,...K.map(te=>te.description.members[je].data.name)];if(Ae.some(te=>!Tt.includes(te))){let te=Ae.map(Z=>k.find(Q=>Q.name===Z));te.every(Boolean)&&G(F,te,J,se)}else{let te=J.find(Z=>Z.description&&Array.isArray(Z.description.inputs)?Z.description.inputs.length!==Ae.length?!1:Z.description.inputs.every((Q,ne)=>Q.data.name===Ae[ne]):!1);if(te)U.push(te),oe.set(se,te);else{b=A|0,p=c-T|0,$t(`${Ae.join(", ")} in ${se}`);return}}}};if(L){let F=L.find(K=>K.description&&Array.isArray(K.description.inputs)?K.description.inputs.length!==u.length?!1:K.description.inputs.every((J,se)=>J.data.name===u[se].data.name):!1);if(F)U.push(F),oe.set(I,F);else if(u.length>=1){if(u.some(K=>K.data.name!==E.data.name)){b=A|0,p=c-T|0,cl(u.map(K=>K.data?.name)?.join(", "));return}if(u[0]?.data.type===ls){let K=L.find(se=>se.description.inputs.length===u.length&&u.length>0?se.description.inputs[0].data.name===vu:!0),J=JSON.parse(JSON.stringify(K).replace(new RegExp(vu,"g"),u[0].data.name));U.push(J),oe.set(I,J)}else if(!Tt.includes(E.data.name)||_.some(K=>!Tt.includes(K.data.name))){let K=k.find(se=>se.name===E.data.name),J=_.map(se=>k.find(je=>je.name===se.data.name));K&&J.every(Boolean)&&G(K,J,L,I)}else{b=A|0,p=c-T|0,$t(`${E.data.name,_.map(K=>K.data.name)?.join(", ")} in ${I}`);return}}else{b=A|0,p=c-T|0,$t(`${u.map(K=>K.data.name)?.join(", ")} in ${I}`);return}}else if(I!==Df){let F,K=U.find(je=>je.type===ot&&je.name===I);if(typeof I=="object"&&r.stack.has(I[0])){let je=I[I.length-2]||I[0],Ae=r.stack.get(je);if(Ae){let te=k.find(Z=>Z.type===Ve&&Z.name===Ae.name);te&&(r.value.path=te.path,F=te.description.members.find(Z=>Z.type===ot&&Z.name===I[I.length-1]))}}let J=r.procedure.name===I?r.procedure:null,se=F||K||J;if(se){let{description:je}=se,{inputs:Ae}=je,{value:te}=r,{inputs:Z}=te;if(Ae.length!==Z.length){b=A|0,p=c-T|0,ue(`Procedure '${I}' was provided with fewer or more than expect number of inputs. Please make sure you are passing the right number of inputs to the procedure.`);return}for(let Q=0;Q<Ae.length;Q++){let ne=ae(Z[Q]);if(ne){if(Ae[Q].data.name!==ne.data.name){b=A|0,p=c-T|0,ue(`The procedure '${typeof I=="object"?I.join("."):I}' received an input of incorrect type at position ${Q+1}. Expected: '${Ae[Q].data.name}', but received: '${ne.data.name}'.`);return}if(Ae[Q].data.mutable&&!ne.data.mutable){b=A|0,p=c-T|0,ue(`The procedure '${typeof I=="object"?I.join("."):I}' received an immutable input at position ${Q+1} while it expects a mutable input. Expected: mutable '${Ae[Q].data.name}', received: immutable '${ne.data.name}'.`);return}Ae[Q].data.mutable&&ne.data.mutable}else{b=A|0,p=c-T|0,$t(Z[Q]);return}}}else{b=A|0,p=c-T|0,lo(I);return}}j();return}if(we(c,n,e,f)&&n[e]!=ct){let u=n.subarray(e,e+f|0),E=d(u);b=A|0,p=c-T|0,ke(E);return}let{procedure:s,stack:o}=r;a=la,y(),r=Object.seal({procedure:s,stack:o,value:null}),y(),P=Se,a=Ue,l=!0;break}case la:{let{value:t}=r;j();let{value:s}=r,{inputs:o}=s;s.path!==Ie?o.push(t):o.push(Me(t));let u=n[e];if(u===ge){a=Us;return}if(u===he){a=Us,l=!0;return}b=A|0,p=c-T|0;let E=n.subarray(e,e+f|0),_=d(E);Y(_,$e);break}case $n:{let t=n.subarray(e,e+f|0),s=d(t),o=k.find(E=>E.type===Bt&&E.name===s);if(o){let E=Object.seal({type:"literal",literal:null,name:o.name,path:o.path});r.value=E,a=Ia;return}let u=k.find(E=>E.type===Bt&&E.description.labels.find(_=>_.name===s));if(u){let E=Object.freeze({type:"literal",literal:s,name:u.name,path:u.path});r.value=E,j();return}b=A|0,p=c-T|0,_t(s);break}case Ia:{if(n[e]===qe){a=da;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,tr);break}case da:{let t=n.subarray(e,e+f|0),s=d(t);if(k.find(u=>u.type===Bt&&u.name===r.value.name&&u.description.labels.find(E=>E.name===s))){r.value.literal=s,j();return}b=A|0,p=c-T|0,_t(s);break}case ha:{let t=Object.seal({type:wo,layout:null,data:null,value:null});r.value=t,a=Sa;break}case Sa:{if(n[e]===Ke){a=ka;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Zt);break}case ka:{let t=n.subarray(e,e+f|0),s=d(t);if(we(c,n,e,f)){b=A|0,p=c-T|0,ke(s);return}if(X(Es,t)){a=Xn,y(),r={...r,data:null},y(),P=Rt,a=pt,l=!0;return}if(X(t,It)||X(t,Pt)){a=Xn,y(),r={...r,data:null},y(),P=Gt,a=to,l=!0;return}if(X(t,ms)){b=A|0,p=c-T|0;let u=n.subarray(e,e+f|0),E=d(u);Y(E,ps);return}let o=Ye(s);o&&(r.value.data=o),a=zn;break}case Xn:{let{data:t}=r;j(),r.value.data=t,l=!0,a=zn;break}case zn:{if(n[e]===st){a=Pa;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,gt);break}case Pa:{if(n[e]===qe){a=La;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,tr);break}case La:{let t=n.subarray(e,e+f|0),s=d(t);if(r.value.layout=s,X(t,Hf)){a=Jn;return}if(X(t,$f)){a=Ra;return}b=A|0,p=c-T|0;let o=d(t);Y(o,ps);break}case Ra:{if(n[e]===de){a=Ca;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Ge);break}case Ca:{let{procedure:t,stack:s}=r;if(we(c,n,e,f)){let o=n.subarray(e,e+f|0),u=d(o);b=A|0,p=c-T|0,ke(u);return}a=va,y(),r=Object.seal({procedure:t,stack:s,value:null}),y(),P=Se,a=Ue,l=!0;break}case va:{let{value:t}=r;if(j(),r.value.value=Me(t),n[e]===he){a=Jn;return}b=A|0,p=c-T|0;let o=n.subarray(e,e+f|0),u=d(o);Y(u,$e);break}case Jn:{j(),l=!0;break}case Fa:{let t=Object.seal({type:tn,value:null});r.value=t,a=wa;break}case wa:{if(n[e]===de){a=Ya;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Ge);break}case Ya:{let{procedure:t,stack:s}=r;if(we(c,n,e,f)){let o=n.subarray(e,e+f|0),u=d(o);b=A|0,p=c-T|0,ke(u);return}a=ga,y(),r=Object.seal({procedure:t,stack:s,value:null}),y(),P=Se,a=Ue,l=!0;break}case ga:{let{stack:t,value:s}=r;j();let o;if(s.type===nt)o=s.name;else if(s.type===ft)o=s.link;else if(s.type===St)o=s.value;else{b=A|0,p=c-T|0,ue("Non-movable type passed to move procedure. Please check types that can be moved and make sure your parameter's type is one of them.");return}let u=t.get(o);if(u&&t.set(o,{...u,moved:!0}),r.value.value=Me(s),n[e]===he){a=Ga;return}b=A|0,p=c-T|0;let _=n.subarray(e,e+f|0),N=d(_);Y(N,$e);break}case Ga:{j(),l=!0;break}case nu:{let t=Object.seal({type:sn,value:null});r.value=t,a=ou;break}case ou:{if(n[e]===de){a=ru;return}b=A|0,p=c-T|0;let s=n.subarray(e,e+f|0),o=d(s);Y(o,Ge);break}case ru:{let{procedure:t,stack:s}=r;if(we(c,n,e,f)){let o=n.subarray(e,e+f|0),u=d(o);b=A|0,p=c-T|0,ke(u);return}a=cu,y(),r=Object.seal({procedure:t,stack:s,value:null}),y(),P=Se,a=Ue,l=!0;break}case cu:{let{stack:t,value:s}=r;j();let o,u=ae(s);if(u.data.name===kt||u.data.name===ye||u.data.layout===kt||u.data.layout===ye||u.data.type===kt||u.data.type===ye||(b=A|0,p=c-T|0,ue(`Provided type '${u.data.name}' cannot be used here as it's neither a string nor an array.`)),r.value.value=s,n[e]===he){a=au;return}b=A|0,p=c-T|0;let _=n.subarray(e,e+f|0),N=d(_);Y(N,$e);break}case au:{j(),l=!0;break}}},Tl=(c,n,e,f)=>{switch(a){case $r:{let t=Object.seal({type:tt,path:[]}),s=Object.seal({type:Rf,source:t,alias:tt});r=Object.seal({import:s,source:t}),a=zr;break}case zr:{let t=n[e],{source:s}=r;if(t===xf&&n[e+1]===rn){s.type=nt,a=Xr,y(),r=[],y(),a=An;return}if(we(c,n,e,f)){b=A|0,p=c-T|0,ke(name);return}s.type=Cf,a=hE,l=!0;break}case Xr:{let t=n[e],s=r;j();let{source:o}=r;o.path.push(s.join("")),t===rn&&(y(),r=[],y(),a=An),t===pe&&(a=Jr,l=!0);break}case An:{let t=n[e];if(t===rn){j(),l=!0;return}if(t===pe){j(),l=!0;return}let s=n.subarray(e,e+f|0),o=d(s);r.push(o);return}case Jr:{let t=s=>{let o=!0,u=null,E=null,_=xu(R);_.on(Ht,F=>{u=F}),_.on(Pe,F=>{E=F});let N=new z({tabSize:4});if(N.on("token",(F,K,J,se)=>{_.feed(F,K,J,se)}),N.on("error",()=>{o=!1}),N.feed(s),N.done(),N.close(),_.done(),!o||E){console.error("Tokenizer or Parser error occurred.",E);return}if(!u){console.error("Invalid representation after parsing.");return}let{exports:I,data:L}=u;for(let F of I){let K=u[F.path]?.find(J=>J.name===F.name);K&&(F.path===no&&(k.push(K),Ne({name:K.name,path:K.path,type:Re})),F.path===Uu&&U.push(K))}let G=L.filter(F=>F.type===vf);k.unshift(...G)};if(v&&v.length>0){let s=v.find(o=>o.path===r.source.path.join("/"));if(s){let o=re(s.data);t(o)}else b=A|0,p=c-T|0,ue("NO FILES WERE FOUND: ",r.source.path)}else b=A|0,p=c-T|0,ue("NO FILES WERE FOUND: ",r.source.path);j();break}}},Nl=(c,n)=>{switch(c){case Ht:{h.push(n);break}case Pe:{S.push(n);break}}},y=()=>{let c=Object.freeze({item:r,indentation:Ee,situationGeneral:P,situationSection:a});m.push(c)},j=()=>{let c=m.pop();return r=c.item,Ee=c.indentation,P=c.situationGeneral,a=c.situationSection,c},zt=(c,n,e,f)=>{if(C)return;let t=()=>{V=!0,T=c|0,A=A+1};Oe=c+f|0;let s=n[e];if(s!==Qf){if(s===pe&&V){t();return}for(V=!1,l=!0;l;)switch(l=!1,P){case Se:{al(c,n,e,f);break}case sr:{ul(c,n,e,f);break}case Qt:{il(c,n,e,f);break}case qt:{ll(c,n,e,f);break}case nr:{fl(c,n,e,f);break}case En:{_l(c,n,e,f);break}case or:{ml(c,n,e,f);break}case rr:{El(c,n,e,f);break}case De:{pl(c,n,e,f);break}case Rt:{bl(c,n,e,f);break}case ve:{Al(c,n,e,f);break}case Gt:{Ol(c,n,e,f);break}case cr:{Tl(c,n,e,f);break}default:throw an}s===pe&&(Du.default.diff(r,fe)&&t(),fe=JSON.parse(JSON.stringify(r)))}};return Object.freeze({done:()=>{if(zt(Oe,Mt,0,Mt.length),Oe=Oe+Mt.length|0,zt(Oe,jt,0,jt.length),Oe=Oe+jt.length|0,zt(Oe,Mt,0,Mt.length),Oe=Oe+Mt.length|0,D){i.emit(Ht,null);return}i.emit(Ht,x)},feed:zt,on:Nl})},SE=Object.freeze({create:xu,...eE,...rE,...dE}),xE=SE;export{xE as default};
/*! Bundled license information:

eventemitter2/lib/eventemitter2.js:
  (*!
   * EventEmitter2
   * https://github.com/hij1nx/EventEmitter2
   *
   * Copyright (c) 2013 hij1nx
   * Licensed under the MIT license.
   *)
*/
