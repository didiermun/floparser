var Kn=Object.create;var Pt=Object.defineProperty;var xn=Object.getOwnPropertyDescriptor;var Xn=Object.getOwnPropertyNames;var Jn=Object.getPrototypeOf,Qn=Object.prototype.hasOwnProperty;var Dt=(T,L)=>()=>(L||T((L={exports:{}}).exports,L),L.exports);var Wn=(T,L,N,k)=>{if(L&&typeof L=="object"||typeof L=="function")for(let R of Xn(L))!Qn.call(T,R)&&R!==N&&Pt(T,R,{get:()=>L[R],enumerable:!(k=xn(L,R))||k.enumerable});return T};var Zn=(T,L,N)=>(N=T!=null?Kn(Jn(T)):{},Wn(L||!T||!T.__esModule?Pt(N,"default",{value:T,enumerable:!0}):N,T));var Ut=Dt((dt,Bt)=>{(function(T){var L=Object.hasOwnProperty,N=Array.isArray?Array.isArray:function(t){return Object.prototype.toString.call(t)==="[object Array]"},k=10,R=typeof process=="object"&&typeof process.nextTick=="function",B=typeof Symbol=="function",M=typeof Reflect=="object",g=typeof setImmediate=="function",x=g?setImmediate:setTimeout,V=B?M&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function J(){this._events={},this._conf&&ne.call(this,this._conf)}function ne(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==T&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function ae(e,t){var s="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(s+=" Event name: "+t+"."),typeof process<"u"&&process.emitWarning){var a=new Error(s);a.name="MaxListenersExceededWarning",a.emitter=this,a.count=e,process.emitWarning(a)}else console.error(s),console.trace&&console.trace()}var le=function(e,t,s){var a=arguments.length;switch(a){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,s];default:for(var l=new Array(a);a--;)l[a]=arguments[a];return l}};function he(e,t){for(var s={},a,l=e.length,_=t?t.length:0,A=0;A<l;A++)a=e[A],s[a]=A<_?t[A]:T;return s}function Ie(e,t,s){this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0;var a,l;if((s.on||s.off)&&(a=s.on,l=s.off),t.addEventListener?(a=t.addEventListener,l=t.removeEventListener):t.addListener?(a=t.addListener,l=t.removeListener):t.on&&(a=t.on,l=t.off),!a&&!l)throw Error("target does not implement any known event API");if(typeof a!="function")throw TypeError("on method must be a function");if(typeof l!="function")throw TypeError("off method must be a function");this._on=a,this._off=l;var _=e._observers;_?_.push(this):e._observers=[this]}Object.assign(Ie.prototype,{subscribe:function(e,t,s){var a=this,l=this._target,_=this._emitter,A=this._listeners,O=function(){var h=le.apply(null,arguments),m={data:h,name:t,original:e};if(s){var I=s.call(l,m);I!==!1&&_.emit.apply(_,[m.name].concat(h));return}_.emit.apply(_,[t].concat(h))};if(A[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,_._newListener&&_._removeListener&&!a._onNewListener?(this._onNewListener=function(h){h===t&&A[e]===null&&(A[e]=O,a._on.call(l,e,O))},_.on("newListener",this._onNewListener),this._onRemoveListener=function(h){h===t&&!_.hasListeners(h)&&A[e]&&(A[e]=null,a._off.call(l,e,O))},A[e]=null,_.on("removeListener",this._onRemoveListener)):(A[e]=O,a._on.call(l,e,O))},unsubscribe:function(e){var t=this,s=this._listeners,a=this._emitter,l,_,A=this._off,O=this._target,h;if(e&&typeof e!="string")throw TypeError("event must be a string");function m(){t._onNewListener&&(a.off("newListener",t._onNewListener),a.off("removeListener",t._onRemoveListener),t._onNewListener=null,t._onRemoveListener=null);var I=C.call(a,t);a._observers.splice(I,1)}if(e){if(l=s[e],!l)return;A.call(O,e,l),delete s[e],--this._listenersCount||m()}else{for(_=V(s),h=_.length;h-- >0;)e=_[h],A.call(O,e,s[e]);this._listeners={},this._listenersCount=0,m()}}});function Ee(e,t,s,a){var l=Object.assign({},t);if(!e)return l;if(typeof e!="object")throw TypeError("options must be an object");var _=Object.keys(e),A=_.length,O,h,m;function I(U){throw Error('Invalid "'+O+'" option value'+(U?". Reason: "+U:""))}for(var X=0;X<A;X++){if(O=_[X],!a&&!L.call(t,O))throw Error('Unknown "'+O+'" option');h=e[O],h!==T&&(m=s[O],l[O]=m?m(h,I):h)}return l}function fe(e,t){return(typeof e!="function"||!e.hasOwnProperty("prototype"))&&t("value must be a constructor"),e}function z(e){var t="value must be type of "+e.join("|"),s=e.length,a=e[0],l=e[1];return s===1?function(_,A){if(typeof _===a)return _;A(t)}:s===2?function(_,A){var O=typeof _;if(O===a||O===l)return _;A(t)}:function(_,A){for(var O=typeof _,h=s;h-- >0;)if(O===e[h])return _;A(t)}}var _e=z(["function"]),Te=z(["object","function"]);function pe(e,t,s){var a,l,_=0,A,O=new e(function(h,m,I){s=Ee(s,{timeout:0,overload:!1},{timeout:function(Y,W){return Y*=1,(typeof Y!="number"||Y<0||!Number.isFinite(Y))&&W("timeout must be a positive number"),Y}}),a=!s.overload&&typeof e.prototype.cancel=="function"&&typeof I=="function";function X(){l&&(l=null),_&&(clearTimeout(_),_=0)}var U=function(Y){X(),h(Y)},w=function(Y){X(),m(Y)};a?t(U,w,I):(l=[function(Y){w(Y||Error("canceled"))}],t(U,w,function(Y){if(A)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof Y!="function")throw TypeError("onCancel callback must be a function");l.push(Y)}),A=!0),s.timeout>0&&(_=setTimeout(function(){var Y=Error("timeout");Y.code="ETIMEDOUT",_=0,O.cancel(Y),m(Y)},s.timeout))});return a||(O.cancel=function(h){if(l){for(var m=l.length,I=1;I<m;I++)l[I](h);l[0](h),l=null}}),O}function C(e){var t=this._observers;if(!t)return-1;for(var s=t.length,a=0;a<s;a++)if(t[a]._target===e)return a;return-1}function G(e,t,s,a,l){if(!s)return null;if(a===0){var _=typeof t;if(_==="string"){var A,O,h=0,m=0,I=this.delimiter,X=I.length;if((O=t.indexOf(I))!==-1){A=new Array(5);do A[h++]=t.slice(m,O),m=O+X;while((O=t.indexOf(I,m))!==-1);A[h++]=t.slice(m),t=A,l=h}else t=[t],l=1}else _==="object"?l=t.length:(t=[t],l=1)}var U=null,w,Y,W,Le,Re,Se=t[a],Be=t[a+1],ie,Z;if(a===l)s._listeners&&(typeof s._listeners=="function"?(e&&e.push(s._listeners),U=[s]):(e&&e.push.apply(e,s._listeners),U=[s]));else if(Se==="*"){for(ie=V(s),O=ie.length;O-- >0;)w=ie[O],w!=="_listeners"&&(Z=G(e,t,s[w],a+1,l),Z&&(U?U.push.apply(U,Z):U=Z));return U}else if(Se==="**"){for(Re=a+1===l||a+2===l&&Be==="*",Re&&s._listeners&&(U=G(e,t,s,l,l)),ie=V(s),O=ie.length;O-- >0;)w=ie[O],w!=="_listeners"&&(w==="*"||w==="**"?(s[w]._listeners&&!Re&&(Z=G(e,t,s[w],l,l),Z&&(U?U.push.apply(U,Z):U=Z)),Z=G(e,t,s[w],a,l)):w===Be?Z=G(e,t,s[w],a+2,l):Z=G(e,t,s[w],a,l),Z&&(U?U.push.apply(U,Z):U=Z));return U}else s[Se]&&(U=G(e,t,s[Se],a+1,l));if(Y=s["*"],Y&&G(e,t,Y,a+1,l),W=s["**"],W)if(a<l)for(W._listeners&&G(e,t,W,l,l),ie=V(W),O=ie.length;O-- >0;)w=ie[O],w!=="_listeners"&&(w===Be?G(e,t,W[w],a+2,l):w===Se?G(e,t,W[w],a+1,l):(Le={},Le[w]=W[w],G(e,t,{"**":Le},a+1,l)));else W._listeners?G(e,t,W,l,l):W["*"]&&W["*"]._listeners&&G(e,t,W["*"],l,l);return U}function ee(e,t,s){var a=0,l=0,_,A=this.delimiter,O=A.length,h;if(typeof e=="string")if((_=e.indexOf(A))!==-1){h=new Array(5);do h[a++]=e.slice(l,_),l=_+O;while((_=e.indexOf(A,l))!==-1);h[a++]=e.slice(l)}else h=[e],a=1;else h=e,a=e.length;if(a>1){for(_=0;_+1<a;_++)if(h[_]==="**"&&h[_+1]==="**")return}var m=this.listenerTree,I;for(_=0;_<a;_++)if(I=h[_],m=m[I]||(m[I]={}),_===a-1)return m._listeners?(typeof m._listeners=="function"&&(m._listeners=[m._listeners]),s?m._listeners.unshift(t):m._listeners.push(t),!m._listeners.warned&&this._maxListeners>0&&m._listeners.length>this._maxListeners&&(m._listeners.warned=!0,ae.call(this,m._listeners.length,I))):m._listeners=t,!0;return!0}function Ne(e,t,s,a){for(var l=V(e),_=l.length,A,O,h,m=e._listeners,I;_-- >0;)O=l[_],A=e[O],O==="_listeners"?h=s:h=s?s.concat(O):[O],I=a||typeof O=="symbol",m&&t.push(I?h:h.join(this.delimiter)),typeof A=="object"&&Ne.call(this,A,t,h,I);return t}function me(e){for(var t=V(e),s=t.length,a,l,_;s-- >0;)l=t[s],a=e[l],a&&(_=!0,l!=="_listeners"&&!me(a)&&delete e[l]);return _}function F(e,t,s){this.emitter=e,this.event=t,this.listener=s}F.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function f(e,t,s){if(s===!0)l=!0;else if(s===!1)a=!0;else{if(!s||typeof s!="object")throw TypeError("options should be an object or true");var a=s.async,l=s.promisify,_=s.nextTick,A=s.objectify}if(a||_||l){var O=t,h=t._origin||t;if(_&&!R)throw Error("process.nextTick is not supported");l===T&&(l=t.constructor.name==="AsyncFunction"),t=function(){var m=arguments,I=this,X=this.event;return l?_?Promise.resolve():new Promise(function(U){x(U)}).then(function(){return I.event=X,O.apply(I,m)}):(_?process.nextTick:x)(function(){I.event=X,O.apply(I,m)})},t._async=!0,t._origin=h}return[t,A?new F(this,e,t):this]}function E(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,ne.call(this,e)}E.EventEmitter2=E,E.prototype.listenTo=function(e,t,s){if(typeof e!="object")throw TypeError("target musts be an object");var a=this;s=Ee(s,{on:T,off:T,reducers:T},{on:_e,off:_e,reducers:Te});function l(_){if(typeof _!="object")throw TypeError("events must be an object");var A=s.reducers,O=C.call(a,e),h;O===-1?h=new Ie(a,e,s):h=a._observers[O];for(var m=V(_),I=m.length,X,U=typeof A=="function",w=0;w<I;w++)X=m[w],h.subscribe(X,_[X]||X,U?A:A&&A[X])}return N(t)?l(he(t)):l(typeof t=="string"?he(t.split(/\s+/)):t),this},E.prototype.stopListeningTo=function(e,t){var s=this._observers;if(!s)return!1;var a=s.length,l,_=!1;if(e&&typeof e!="object")throw TypeError("target should be an object");for(;a-- >0;)l=s[a],(!e||l._target===e)&&(l.unsubscribe(t),_=!0);return _},E.prototype.delimiter=".",E.prototype.setMaxListeners=function(e){e!==T&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},E.prototype.getMaxListeners=function(){return this._maxListeners},E.prototype.event="",E.prototype.once=function(e,t,s){return this._once(e,t,!1,s)},E.prototype.prependOnceListener=function(e,t,s){return this._once(e,t,!0,s)},E.prototype._once=function(e,t,s,a){return this._many(e,1,t,s,a)},E.prototype.many=function(e,t,s,a){return this._many(e,t,s,!1,a)},E.prototype.prependMany=function(e,t,s,a){return this._many(e,t,s,!0,a)},E.prototype._many=function(e,t,s,a,l){var _=this;if(typeof s!="function")throw new Error("many only accepts instances of Function");function A(){return--t===0&&_.off(e,A),s.apply(this,arguments)}return A._origin=s,this._on(e,A,a,l)},E.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||J.call(this);var e=arguments[0],t,s=this.wildcard,a,l,_,A,O;if(e==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(s&&(t=e,e!=="newListener"&&e!=="removeListener"&&typeof e=="object")){if(l=e.length,B){for(_=0;_<l;_++)if(typeof e[_]=="symbol"){O=!0;break}}O||(e=e.join(this.delimiter))}var h=arguments.length,m;if(this._all&&this._all.length)for(m=this._all.slice(),_=0,l=m.length;_<l;_++)switch(this.event=e,h){case 1:m[_].call(this,e);break;case 2:m[_].call(this,e,arguments[1]);break;case 3:m[_].call(this,e,arguments[1],arguments[2]);break;default:m[_].apply(this,arguments)}if(s)m=[],G.call(this,m,t,this.listenerTree,0,l);else if(m=this._events[e],typeof m=="function"){switch(this.event=e,h){case 1:m.call(this);break;case 2:m.call(this,arguments[1]);break;case 3:m.call(this,arguments[1],arguments[2]);break;default:for(a=new Array(h-1),A=1;A<h;A++)a[A-1]=arguments[A];m.apply(this,a)}return!0}else m&&(m=m.slice());if(m&&m.length){if(h>3)for(a=new Array(h-1),A=1;A<h;A++)a[A-1]=arguments[A];for(_=0,l=m.length;_<l;_++)switch(this.event=e,h){case 1:m[_].call(this);break;case 2:m[_].call(this,arguments[1]);break;case 3:m[_].call(this,arguments[1],arguments[2]);break;default:m[_].apply(this,a)}return!0}else if(!this.ignoreErrors&&!this._all&&e==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},E.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||J.call(this);var e=arguments[0],t=this.wildcard,s,a,l,_,A,O;if(e==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(t&&(s=e,e!=="newListener"&&e!=="removeListener"&&typeof e=="object")){if(_=e.length,B){for(A=0;A<_;A++)if(typeof e[A]=="symbol"){a=!0;break}}a||(e=e.join(this.delimiter))}var h=[],m=arguments.length,I;if(this._all)for(A=0,_=this._all.length;A<_;A++)switch(this.event=e,m){case 1:h.push(this._all[A].call(this,e));break;case 2:h.push(this._all[A].call(this,e,arguments[1]));break;case 3:h.push(this._all[A].call(this,e,arguments[1],arguments[2]));break;default:h.push(this._all[A].apply(this,arguments))}if(t?(I=[],G.call(this,I,s,this.listenerTree,0)):I=this._events[e],typeof I=="function")switch(this.event=e,m){case 1:h.push(I.call(this));break;case 2:h.push(I.call(this,arguments[1]));break;case 3:h.push(I.call(this,arguments[1],arguments[2]));break;default:for(l=new Array(m-1),O=1;O<m;O++)l[O-1]=arguments[O];h.push(I.apply(this,l))}else if(I&&I.length){if(I=I.slice(),m>3)for(l=new Array(m-1),O=1;O<m;O++)l[O-1]=arguments[O];for(A=0,_=I.length;A<_;A++)switch(this.event=e,m){case 1:h.push(I[A].call(this));break;case 2:h.push(I[A].call(this,arguments[1]));break;case 3:h.push(I[A].call(this,arguments[1],arguments[2]));break;default:h.push(I[A].apply(this,l))}}else if(!this.ignoreErrors&&!this._all&&e==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(h)},E.prototype.on=function(e,t,s){return this._on(e,t,!1,s)},E.prototype.prependListener=function(e,t,s){return this._on(e,t,!0,s)},E.prototype.onAny=function(e){return this._onAny(e,!1)},E.prototype.prependAny=function(e){return this._onAny(e,!0)},E.prototype.addListener=E.prototype.on,E.prototype._onAny=function(e,t){if(typeof e!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},E.prototype._on=function(e,t,s,a){if(typeof e=="function")return this._onAny(e,t),this;if(typeof t!="function")throw new Error("on only accepts instances of Function");this._events||J.call(this);var l=this,_;return a!==T&&(_=f.call(this,e,t,a),t=_[0],l=_[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?(ee.call(this,e,t,s),l):(this._events[e]?(typeof this._events[e]=="function"&&(this._events[e]=[this._events[e]]),s?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,ae.call(this,this._events[e].length,e))):this._events[e]=t,l)},E.prototype.off=function(e,t){if(typeof t!="function")throw new Error("removeListener only takes instances of Function");var s,a=[];if(this.wildcard){var l=typeof e=="string"?e.split(this.delimiter):e.slice();if(a=G.call(this,null,l,this.listenerTree,0),!a)return this}else{if(!this._events[e])return this;s=this._events[e],a.push({_listeners:s})}for(var _=0;_<a.length;_++){var A=a[_];if(s=A._listeners,N(s)){for(var O=-1,h=0,m=s.length;h<m;h++)if(s[h]===t||s[h].listener&&s[h].listener===t||s[h]._origin&&s[h]._origin===t){O=h;break}if(O<0)continue;return this.wildcard?A._listeners.splice(O,1):this._events[e].splice(O,1),s.length===0&&(this.wildcard?delete A._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}else(s===t||s.listener&&s.listener===t||s._origin&&s._origin===t)&&(this.wildcard?delete A._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&me(this.listenerTree),this},E.prototype.offAny=function(e){var t=0,s=0,a;if(e&&this._all&&this._all.length>0){for(a=this._all,t=0,s=a.length;t<s;t++)if(e===a[t])return a.splice(t,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(a=this._all,this._removeListener)for(t=0,s=a.length;t<s;t++)this.emit("removeListenerAny",a[t]);this._all=[]}return this},E.prototype.removeListener=E.prototype.off,E.prototype.removeAllListeners=function(e){if(e===T)return!this._events||J.call(this),this;if(this.wildcard){var t=G.call(this,null,e,this.listenerTree,0),s,a;if(!t)return this;for(a=0;a<t.length;a++)s=t[a],s._listeners=null;this.listenerTree&&me(this.listenerTree)}else this._events&&(this._events[e]=null);return this},E.prototype.listeners=function(e){var t=this._events,s,a,l,_,A;if(e===T){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!t)return[];for(s=V(t),_=s.length,l=[];_-- >0;)a=t[s[_]],typeof a=="function"?l.push(a):l.push.apply(l,a);return l}else{if(this.wildcard){if(A=this.listenerTree,!A)return[];var O=[],h=typeof e=="string"?e.split(this.delimiter):e.slice();return G.call(this,O,h,A,0),O}return t?(a=t[e],a?typeof a=="function"?[a]:a:[]):[]}},E.prototype.eventNames=function(e){var t=this._events;return this.wildcard?Ne.call(this,this.listenerTree,[],null,e):t?V(t):[]},E.prototype.listenerCount=function(e){return this.listeners(e).length},E.prototype.hasListeners=function(e){if(this.wildcard){var t=[],s=typeof e=="string"?e.split(this.delimiter):e.slice();return G.call(this,t,s,this.listenerTree,0),t.length>0}var a=this._events,l=this._all;return!!(l&&l.length||a&&(e===T?V(a).length:a[e]))},E.prototype.listenersAny=function(){return this._all?this._all:[]},E.prototype.waitFor=function(e,t){var s=this,a=typeof t;return a==="number"?t={timeout:t}:a==="function"&&(t={filter:t}),t=Ee(t,{timeout:0,filter:T,handleError:!1,Promise,overload:!1},{filter:_e,Promise:fe}),pe(t.Promise,function(l,_,A){function O(){var h=t.filter;if(!(h&&!h.apply(s,arguments)))if(s.off(e,O),t.handleError){var m=arguments[0];m?_(m):l(le.apply(null,arguments).slice(1))}else l(le.apply(null,arguments))}A(function(){s.off(e,O)}),s._on(e,O,!1)},{timeout:t.timeout,overload:t.overload})};function te(e,t,s){s=Ee(s,{Promise,timeout:0,overload:!1},{Promise:fe});var a=s.Promise;return pe(a,function(l,_,A){var O;if(typeof e.addEventListener=="function"){O=function(){l(le.apply(null,arguments))},A(function(){e.removeEventListener(t,O)}),e.addEventListener(t,O,{once:!0});return}var h=function(){m&&e.removeListener("error",m),l(le.apply(null,arguments))},m;t!=="error"&&(m=function(I){e.removeListener(t,h),_(I)},e.once("error",m)),A(function(){m&&e.removeListener("error",m),e.removeListener(t,h)}),e.once(t,h)},{timeout:s.timeout,overload:s.overload})}var S=E.prototype;if(Object.defineProperties(E,{defaultMaxListeners:{get:function(){return S._maxListeners},set:function(e){if(typeof e!="number"||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");S._maxListeners=e},enumerable:!0},once:{value:te,writable:!0,configurable:!0}}),Object.defineProperties(S,{_maxListeners:{value:k,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return E});else if(typeof dt=="object")Bt.exports=E;else{var P=new Function("","return this")();P.EventEmitter2=E}})()});var wt=Dt((Tc,Mt)=>{Mt.exports=Ut()});var pn=Zn(wt(),1);var $n="as",qn="=",eo="break",to="else",so="enum",no="export",oo="if",ro="import",co="->",ao="is",io="loop",lo="mut",uo="native",fo="object",Eo="fn",_o="return",mo="self",bo="template",Ao=Object.freeze({ALIAS:$n,ASSIGN:qn,BREAK:eo,ELSE:to,ENUMERATION:so,EXPORT:no,IF:oo,IMPORT:ro,INTO:co,IS:ao,LOOP:io,MUTABLE:lo,NATIVE:uo,OBJECT:fo,PROCEDURE:Eo,RETURN:_o,SELF:mo,TEMPLATE:bo}),jt=Ao;var Oo="array",ho="assignment",To="branch-default",po="branch-value",No="break",Lo="condition",Ro="declaration",vo="enumeration",Io="export",So="expression",Co="import",ko="instance",Po="label",Do="literal",Bo="loop",Uo="module",Mo="mutable",wo="name-list",jo="native",go="object",Fo="procedure",Go="procedure-call",yo="return",Ho="self",Vo="submodule",Yo="template",zo="type-pair",Ko=Object.freeze({ARRAY:Oo,ASSIGNMENT:ho,BRANCH_DEFAULT:To,BRANCH_VALUE:po,BREAK:No,CONDITION:Lo,DECLARATION:Ro,ENUMERATION:vo,EXPORT:Io,EXPRESSION:So,IMPORT:Co,INSTANCE:ko,LABEL:Po,LITERAL:Do,LOOP:Bo,MODULE:Uo,MUTABLE:Mo,NAME_LIST:wo,NATIVE:jo,OBJECT:go,PROCEDURE:Fo,PROCEDURE_CALL:Go,RETURN:yo,SELF:Ho,SUBMODULE:Vo,TEMPLATE:Yo,TYPE_PAIR:zo}),gt=Ko;var xo=Object.freeze({COLON:58,COMMA:44,DIGIT_ZERO:48,DIGIT_NINE:57,DOT:46,HASHTAG:35,HORIZONTAL_TAB:9,HYPHEN_MINUS:45,LEFT_CURLY_BRACKET:123,LEFT_PARENTHESIS:40,LEFT_SQUARE_BRACKET:91,LINE_BREAK:10,NULL:0,PLUS_SIGN:43,RIGHT_CURLY_BRACKET:125,RIGHT_PARENTHESIS:41,RIGHT_SQUARE_BRACKET:93,SEMICOLON:59,SPACE:32}),Ft=xo;var Xo=Object.freeze([]),Jo=Object.freeze({}),be="",Qo="	",Wo=`
`,Zo="UTF-8",$o=Object.freeze({EMPTY_ARRAY:Xo,EMPTY_OBJECT:Jo,EMPTY_STRING:be,HORIZONTAL_TAB:Qo,LINE_BREAK:Wo,UNICODE_TEXT:Zo,Codes:Ft,Keys:jt,Types:gt}),Gt=$o;var{EMPTY_STRING:qo,UNICODE_TEXT:We}=Gt,er=44,tr=48,sr=57,nr=46,or=45,rr=43,cr=65,ar=90,ir=-1,lr=1,ur=new TextDecoder(We),fr=new TextEncoder,Er=(T,L,N=0,k=T.length|0,R=0,B=L.length|0)=>{for(R=R|0,N=N|0,B=B|0,k=k|0;;){let M=N>=k,g=R>=B;if(M||g)break;let V=T[N],J=L[R];if(N=N+1|0,R=R+1|0,V<J)return ir;if(V>J)return lr}return 0},Ze=(T,L,N=0,k=T.length|0,R=0,B=L.length|0)=>{for(R=R|0,N=N|0,B=B|0,k=k|0;;){let M=R>=B,g=N>=k;if(M||g)break;L[R]=T[N],R=R+1|0,N=N+1|0}},$e=(T,L,N=0,k=T.length|0,R=0,B=L.length|0)=>{N=N|0,R=R|0,k=k|0,B=B|0;let M=k-N|0,g=B-R|0;if(M!==g)return!1;for(;;){let x=N>=k,V=R>=B;if(x||V)break;let ne=T[N],ae=L[R];if(N=N+1|0,R=R+1|0,ne!==ae)return!1}return!0},_r=T=>{T=T>>>0;let L=0,N=0;for(;N=(N<<1|1)>>>0,!(N>T);)L=L+1|0;return L},Vt=Object.freeze([48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102]),Je=(T,L,N,k)=>{for(T=T>>>0,k=k??L.length|0,N=N|0,k=k|0;T>0&&k>N;)k=k-1|0,L[k]=Vt[T&15],T=T>>>4},qe=(T,L,N,k)=>{let R=N|0,B=N+k|0;if(k===0)return!1;let M=L[R];for((M===rr||M===or)&&(R=R+1|0);R<B;){let g=L[R];if(R=R+1|0,!(tr<=g&&g<=sr||(nr===g||er===g)))return!1}return!0},et=T=>{let L=T>=cr,N=T<=ar;return L&&N},Yt=128,zt=127,mr=-1,Qe=64,tt=T=>{T=T|0;let L=[];for(;;){let N=T&zt;T=T>>7;let k=T===0,R=(N&Qe)===0,B=k&&R,M=T===-1,g=(N&Qe)!==0;if(B||M&&g){L.push(N);break}N=N|Yt,L.push(N)}return L},Kt=(T,L)=>{L=L|0;let N=0,k=0;for(;;){let R=T[L]|0;L=L+1|0;let B=(R&zt)<<k;if(k=k+7|0,N=N|B,(R&Yt)===0){let g=(R&Qe)!==0,x=k<32;if(g&&x){let J=mr<<k;N=N|J}break}}return N},D=T=>ur.decode(T),q=T=>fr.encode(T),br=(T=qo)=>{let L=T.length|0,N=tt(L),k=Buffer.from(T,We);return Object.freeze([...N,...k])},Ar=(T,L)=>{L=L|0;let N=Kt(T,L),k=tt(N).length;return L=L+k|0,T.subarray(L,L+N|0).toString(We)},Or=58,hr=46,Me=32,xe=48,Tr=67,Ae=new Uint8Array(Tr),yt=Ae.subarray(0,8),ge=Ae.subarray(10,49),Ht=Ae.subarray(51,68),Xe=16,pr=2;Ae[8]=Or;Ae[9]=Me;Ae[49]=Me;Ae[50]=Me;var Nr=(T,L)=>{L=L??console.log;let N=32,k=126,R=T.length|0,B=0;for(;R>0;){yt.fill(xe),Je(B,yt),ge.fill(Me),Ht.fill(Me);let M=R>=Xe?Xe:R;R=R-Xe|0;let g=0,x=0;for(let J=1;J<=M;J=J+1|0){let ne=T[B]&255;ge[g+0|0]=xe,ge[g+1|0]=xe,Je(ne,ge,g,g+2|0);let ae=hr;N<=ne&&ne<=k&&(ae=ne),Ht[x]=ae,B=B+1|0,g=g+2|0,x=x+1|0,J%pr===0&&(g=g+1|0)}let V=String.fromCodePoint(...Ae);L(V)}},Lr=function*(T,L){let N=T.length|0,k=L.length|0,R=0;for(;R<N&&R<k;){let B=T[R],M=L[R];yield[B,M],R=R+1|0}},Rr=function*(T,L,N){let k=T.length|0,R=L.length|0,B=N.length|0,M=0;for(;M<k&&M<R&&M<B;){let g=T[M],x=L[M],V=N[M];yield[g,x,V],M=M+1|0}},kc=Object.freeze({ARRAY_COMPARE:Er,ARRAY_COPY:Ze,ARRAY_EQUAL:$e,BIT_DEPTH:_r,HEX_DIGITS:Vt,HEX_ENCODE:Je,IS_NUMBER:qe,IS_UPPERCASE:et,LEB128_DECODE:Kt,LEB128_ENCODE:tt,UTF8_DECODE:D,UTF8_ENCODE:q,WASM_STRING_ENCODE:br,WASM_STRING_DECODE:Ar,XXD_DUMP_HEX:Nr,ZIP2:Lr,ZIP3:Rr});var $=$e,xt=q("="),vr=q("enum"),Ir=q("if"),Sr=q("is"),Cr=q("->"),Ce=q(`
`),kr=q("link"),Pr=q("link!!"),Dr=q("object"),ke=q("pass"),dr=q("fn"),Br=q("return"),Xt=q("value_at"),ve=58,Pe=44,st=46,Ur=123,Fe=40,Q=10,Mr=35,wr=125,De=41,jr=34,nt=1,Jt=2,ot=3,je="done",ce="fail",gr={EVENT_DONE:je,EVENT_FAIL:ce},Nn=1,Ln=2,Rn=3,vn=4,In=5,Sn=6,Cn=7,kn=8,Pn=9,Fr=Object.freeze({FAIL_UNRESOLVED_NAME:Nn,FAIL_UNEXPECTED_TOKEN:Ln,FAIL_INDENTATION_MISMATCH:Rn,FAIL_INDENTATION_NO_INCREASE:vn,FAIL_DUPLICATE_DATA:In,FAIL_DUPLICATE_OBJECT_MEMBER:Sn,FAIL_INVALID_IDENTIFIER:Cn,FAIL_RETURN_LENGTH_MISMATCH:kn,FAIL_UNRESOLVED_OBJECT_MEMBER:Pn}),Gr=new Set(["fn","object","pass"]),se=(T,L,N,k)=>{if(k===1){let z=L[N],_e=z&191,Te=z&223,pe=Te^93,C=Te^91,ee=z&254^34,me=z&254^40,f=z&253^44,te=z&254^58;return _e===0||(pe===0||C===0)||ee===0||me===0||f===0||te===0||z===Q}let Ee=L.subarray(N,N+k|0),fe=D(Ee);return!!Gr.has(fe)},yr=512,Hr=Object.freeze({type:"native",name:"+",path:"Flogram",description:{inputs:[{name:"addendA",data:{type:"data",name:"FP32",path:"Flogram"}},{name:"addendB",data:{type:"data",name:"FP32",path:"Flogram"}}],outputs:[{name:"sum",data:{type:"data",name:"FP32",path:"Flogram"}}]}}),Vr=Object.freeze({type:"native",name:"/",path:"Flogram",description:{inputs:[{name:"dividend",data:{type:"data",name:"FP32",path:"Flogram"}},{name:"divisor",data:{type:"data",name:"FP32",path:"Flogram"}}],outputs:[{name:"quotient",data:{type:"data",name:"FP32",path:"Flogram"}}]}}),Yr=Object.freeze({type:"native",name:"*",path:"Flogram",description:{inputs:[{name:"multiplier",data:{type:"data",name:"FP32",path:"Flogram"}},{name:"multiplicand",data:{type:"data",name:"FP32",path:"Flogram"}}],outputs:[{name:"product",data:{type:"data",name:"FP32",path:"Flogram"}}]}}),zr=Object.freeze({type:"native",name:"-",path:"Flogram",description:{inputs:[{name:"number",data:{type:"data",name:"FP32",path:"Flogram"}}],outputs:[{name:"negation",data:{type:"data",name:"FP32",path:"Flogram"}}]}}),Kr=Object.freeze({"/":Hr,"+":Vr,"*":Yr,"-":zr}),Ct=1,Dn=2,ze=3,kt=4,dn=5,Bn=6,Un=7,Mn=8,wn=9,xr=10,Xr=11,Jr=12,Qr=13,Ge=Object.freeze([Ct]),rt=Object.freeze([Dn]),ct=Object.freeze([ze]),Wr=Object.freeze([ze,kt]),Zr=Object.freeze([dn]),$r=Object.freeze([Ct,Bn]),qr=Object.freeze([Un]),at=Object.freeze([kt,Mn]),Qt=Object.freeze([wn]),ec=Object.freeze([xr]),Wt=Object.freeze([Xr]),tc=Object.freeze([ze,wn]),sc=Object.freeze([Jr]),nc=Object.freeze([Qr]),oc=Object.freeze({REASON_COLON_OPENS_SCOPE:Ct,REASON_LINE_BREAK_BEFORE_OPEN_SCOPE:Dn,REASON_CLOSING_LINE_BREAK:ze,REASON_SEQUENCE_SEPARATOR_COMMA:kt,REASON_INTO_BETWEEN_INPUTS_OUTPUTS:dn,REASON_IS_OPENS_CONDITION_BRANCH_MATCH:Bn,REASON_OPEN_STATEMENT_WITH_KEYWORD:Un,REASON_RIGHT_PARENTHESIS_CLOSES_LIST:Mn}),de=1,Zt=2,it=3,$t=4,lt=5,qt=6,Oe=7,ut=8,we=9,es=1,ts=2,ye=3,ft=4,ss=5,ns=1,os=2,rs=3,cs=4,as=5,Et=6,is=7,ls=8,_t=1,us=2,He=3,fs=4,Es=5,_s=6,ms=1,bs=2,As=3,Os=4,hs=5,mt=6,Ts=7,ps=8,Ns=9,Ls=10,Rs=1,vs=2,Is=1,Ss=2,Cs=3,ks=4,Ps=5,Ds=6,ds=7,Bs=8,Us=9,bt=1,Ms=2,ws=3,At=4,js=5,gs=6,Fs=7,Ot=8,Gs=9,ys=10,Hs=11,Vs=12,Ys=13,zs=14,Ks=15,ht=16,xs=17,Tt=18,Xs=19,Js=20,Qs=21,Ws=22,Zs=23,pt=24,$s=25,qs=26,Nt=1,en=2,Lt=3,tn=4,sn=5,nn=1,on=2,rn=3,Rt=4,cn=5,vt=6,an=7,ln=8,Ve=9,un=10;var fn=12,En=13,Ye=14,_n=15,mn=16,bn=17,It=18,An="assign",rc="branch-match",cc="condition",On="data",ac="enumeration",ic="expression",lc="instance",hn="link",St="local",Tn="object",uc="procedure",fc="return",Ec="select",_c="store",mc=T=>{let L=[],N=[],k=Object.freeze({data:L,code:N}),R=new Uint8Array(yr),B=[],M=0,g=(c,o,n,b)=>{let r=Object.freeze({position:c,length:b});Ze(o,R,n,n+b|0,M,M+b|0),B.push(r),M=M+b|0},x=()=>{M=0;let c=R,o=B,n=0;for(;o.length>0;){let b=o.shift(),{length:r,position:i}=b;Ue(i,c,n,r),n=n+r|0}},{path:V,imports:J}=T,ne=new Map,ae=new Map,le=new Map,he=new Map,Ie=c=>{let{name:o,path:n}=c,b=`${n}.${o}`;le.set(b,c);let r=he.get(o)||[];r.push(c),he.set(o,r)},{data:Ee}=J;for(let c of Ee)Ie(c);let fe=[V],z=new pn.default,_e=[],Te=[],pe=[],C=!1,G=!1,ee=!1,Ne=!0,me=!1,F=de,f=es,E=null,te=0,S=1,P=0,e=1,t=0,s=0;z.on(je,c=>{for(let o of Te)o(c)}),z.on(ce,c=>{for(let o of pe)o(c)});let a=c=>{let o=Object.freeze({type:In,failureRow:t,failureColumn:s,name:c});ee=!0,z.emit(ce,o)},l=c=>{let o=Object.freeze({type:Sn,failureRow:t,failureColumn:s,name:c});ee=!0,z.emit(ce,o)},_=c=>{let o=e,n=U(c),b=Object.freeze({type:Rn,failureRow:t,failureColumn:s,expected:o,actual:n});G=!0,ee=!0,z.emit(ce,b)},A=c=>{let o=Object.freeze({type:vn,failureRow:t,failureColumn:s,indentation:e});G=!0,ee=!0,z.emit(ce,o)},O=c=>{let o=Object.freeze({type:Cn,failureRow:t,failureColumn:s,identifier:c});G=!0,ee=!0,z.emit(ce,o)},h=()=>{let c=Object.freeze({type:kn,failureRow:t,failureColumn:s});ee=!0,z.emit(ce,c)},m=(c,o)=>{let n=Object.freeze({type:Ln,failureRow:t,failureColumn:s,reasons:o,token:c});G=!0,ee=!0,z.emit(ce,n)},I=c=>{let o=Object.freeze({type:Nn,failureRow:t,failureColumn:s,name:c});ee=!0,z.emit(ce,o)},X=c=>{let o=Object.freeze({type:Pn,failureRow:t,failureColumn:s,name:c});G=!0,ee=!0,z.emit(ce,o)},U=c=>c-P|0,w=c=>{let o=e|0;return U(c)<o},Y=(c,o)=>{let n=e|0,b=U(c);switch(o){case nt:return b<=n;case Jt:return b!==n}throw ot},W=c=>{N.push(c)},Le=c=>{let{name:o,path:n}=c,b=`${n}.${o}`;if(!ne.has(b)){L.push(c),ne.set(b,c),le.has(b)||Ie(c);return}},Re=c=>{let o=he.get(c);if(!o)return null;if(o.length===1){let[n]=o;return Le(n),n}throw ot},Se=(c,o)=>{let{description:n}=c,{inputs:b,locals:r}=n,{name:i}=o;for(let u of b)if(u.name===i)return u.data;for(let u of r)if(u.name===i)return u.data;return null},Be=(c,o,n,b)=>{switch(f){case es:{let r=o.subarray(n,n+b|0);if($(r,vr)){y(),F=Zt,f=ns,C=!0;return}if($(r,Dr)){y(),F=$t,f=ms,C=!0;return}if($(r,ke)){y(),F=lt,f=Rs,C=!0;return}if($(r,dr)){y(),F=qt,f=Is,C=!0;return}break}case ts:{let r=o.subarray(n,n+b|0);if($(r,Ir)){F=Oe,f=ws,C=!0;return}if($(r,Xt)){F=Oe,f=Js,C=!0;return}if($(r,ke)){F=Oe,f=Vs,C=!0;return}if($(r,Br)){F=Oe,f=zs,C=!0;return}if(!se(c,o,n,b)){F=Oe,f=Xs,C=!0;return}t=S|0,s=c-P|0;let i=D(r);m(i,qr);break}case ye:{let r=o[n];if(et(r)){F=we,f=fn,C=!0;return}let i=o.subarray(n,n+b|0);if($(i,Xt)){F=we,f=nn,C=!0;return}f=ft,C=!0;break}case ft:{g(c,o,n,b),f=ss;break}case ss:{g(c,o,n,b);let r=o[n];if(r===Fe){F=we,f=an,x();return}if(r===st){f=ft;return}F=we,f=rn,x();break}}},ie=(c,o,n,b)=>{switch(f){case ns:{let r=fe.join("."),i=Object.seal({labels:[]}),u=Object.seal({type:ac,name:be,path:r,description:i});E=Object.seal({enumeration:u}),f=os;break}case os:{let{enumeration:r}=E,i=o.subarray(n,n+b|0),u=D(i);if(se(c,o,n,b)){t=S|0,s=c-P|0,O(u);return}r.name=u,f=rs;break}case rs:{if(o[n]===ve){f=cs;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,Ge);break}case cs:{if(o[n]===Q){f=as;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,rt);break}case as:{e=U(c),f=Et,C=!0;break}case Et:{let{enumeration:r}=E;if(w(c)){Le(r),j(),C=!0;return}f=is,C=!0;break}case is:{let{enumeration:r}=E,{description:i}=r,{labels:u}=i,p=o.subarray(n,n+b|0),v=D(p);if(se(c,o,n,b)){t=S|0,s=c-P|0,O(v);return}let d=Object.seal({name:v});u.push(d),f=Et,y(),E=Object.seal({label:d}),f=ls;break}case ls:{if(o[n]===Q){j();return}break}}},Z=(c,o,n,b)=>{switch(f){case _t:{f=us,C=!0;break}case us:{if(o[n]===Fe){f=He;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,Qt);break}case He:{let r=o[n];if(r===Q)return;if(r===De){j();return}f=fs,C=!0;break}case fs:{let r=o.subarray(n,n+b|0),i=D(r);if(se(c,o,n,b)){t=S|0,s=c-P|0,O(i);return}y(),E=Object.seal({name:i,data:null}),f=Es;break}case Es:{if(o[n]===ve){f=_s,y(),F=ut,f=Nt;return}break}case _s:{let r=E;j(),E.push(r);let u=o[n];if(u===De){f=He,C=!0;return}if(u===Pe){f=He;return}t=S|0,s=c-P|0;let p=o.subarray(n,n+b|0),v=D(p);m(v,at);break}}},jn=(c,o,n,b)=>{switch(f){case ms:{let r=fe.join("."),i=Object.seal({members:[]}),u=Object.seal({type:Tn,name:be,path:r,description:i});E=Object.seal({mapNameMember:new Map,object:u}),f=bs;break}case bs:{let{object:r}=E,i=o.subarray(n,n+b|0),u=D(i);if(se(c,o,n,b)){t=S|0,s=c-P+1|0,O(u);return}let p=Re(u);p&&fe.join(".")===p.path&&(t=S|0,s=c-P|0,a(u)),r.name=u,f=As;break}case As:{if(o[n]===ve){f=Os;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,Ge);break}case Os:{if(o[n]===Q){f=hs;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,rt);break}case hs:{if(Y(c,nt)){t=S|0,s=c-P|0,A(c);return}e=U(c),f=mt,C=!0;break}case mt:{let{object:r}=E;if(w(c)){Le(r),j(),C=!0;return}if(Y(c,Jt)){t=S|0,s=c-P|0,_(c);return}f=Ts,C=!0;break}case Ts:{let{object:r,mapNameMember:i}=E,{description:u}=r,{members:p}=u,v=o.subarray(n,n+b|0),d=D(v);if(se(c,o,n,b)){t=S|0,s=c-P|0,O(d);return}i.has(d)&&(t=S|0,s=c-P|0,l(d));let H=Object.seal({name:d,data:null});p.push(H),i.set(d,H),f=mt,y(),E=Object.seal({member:H}),f=ps;break}case ps:{if(o[n]===ve){f=Ns;return}break}case Ns:{f=Ls,y(),E=Object.seal({data:null}),y(),F=ut,f=Nt,C=!0;break}case Ls:{if(o[n]===Q){let{data:v}=E;j();let{member:d}=E;d.data=v,j();return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,ct);break}}},gn=(c,o,n,b)=>{switch(f){case Rs:{let r=o.subarray(n,n+b|0);if($(r,ke)){y(),F=lt,f=vs,C=!0;return}break}case vs:{if(o[n]===Q){j();return}break}}},Fn=(c,o,n,b)=>{switch(f){case Is:{let r=new Map,i=fe.join("."),u=Object.seal({inputs:[],locals:[],outputs:[],statements:[]}),p=Object.seal({type:uc,name:be,path:i,description:u});E=Object.seal({procedure:p,stack:r}),f=Ss;break}case Ss:{let{procedure:r}=E,i=o.subarray(n,n+b|0),u=D(i);if(se(c,o,n,b)){t=S|0,s=c-P|0,O(u);return}r.name=u,f=Cs;break}case Cs:{let{procedure:r}=E,{description:i}=r,{inputs:u}=i;f=ks,y(),E=u,F=it,f=_t,C=!0;break}case ks:{let{procedure:r,stack:i}=E,{description:u}=r,{inputs:p}=u;for(let K of p){let{name:oe,data:re}=K;i.set(oe,re)}let v=o.subarray(n,n+b|0);if($(v,Cr)){f=Ps;return}t=S|0,s=c-P|0;let d=D(v);m(d,Zr);break}case Ps:{let{procedure:r}=E,{description:i}=r,{outputs:u}=i;f=Ds,y(),E=u,F=it,f=_t,C=!0;break}case Ds:{if(o[n]===ve){f=ds;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,Ge);break}case ds:{if(o[n]===Q){f=Bs;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,rt);break}case Bs:{let{procedure:r,stack:i}=E,{description:u}=r,{statements:p}=u;f=Us,y(),E=Object.seal({procedure:r,stack:i,statements:p}),F=Oe,f=bt,C=!0;break}case Us:{let{procedure:r}=E;N.push(r),j(),C=!0;break}}},Gn=(c,o,n,b)=>{switch(f){case bt:{if(Y(c,nt)){t=S|0,s=c-P|0,A(c);return}e=U(c),f=Ms,C=!0;break}case Ms:{if(w(c)){j(),C=!0;return}y(),F=de,f=ts,C=!0;break}case ws:{let{procedure:r,stack:i,statements:u}=E,p=Object.freeze({type:cc,branches:[],values:[]});u.push(p),y(),E=Object.seal({blockCondition:p,procedure:r,stack:i,value:0}),f=At;break}case At:{let{blockCondition:r,stack:i}=E,{values:u}=r,p=o.subarray(n,n+b|0),v=D(p);if(se(c,o,n,b)){t=S|0,s=c-P|0,O(v);return}if(i.has(v)){let d=Object.freeze({type:"local",name:v});u.push(d)}f=js;break}case js:{if(o[n]===Pe){f=At;return}let i=o.subarray(n,n+b|0);if($(i,Sr)){f=gs,y(),f=Fs,C=!0;return}t=S|0,s=c-P|0;let u=D(i);m(u,$r);break}case gs:{j(),j(),C=!0;break}case Fs:{let{blockCondition:r,procedure:i,stack:u}=E,{branches:p}=r,v=Object.seal({type:rc,statements:[],values:[]});p.push(v),E=Object.seal({blockCondition:r,branchMatch:v,procedure:i,stack:u}),f=Ot;break}case Ot:{let{blockCondition:r,branchMatch:i,stack:u}=E,{values:p}=r,{values:v}=i,d=o.subarray(n,n+b|0),H=D(d);if(se(c,o,n,b)){t=S|0,s=c-P|0,O(H);return}if(u.has(H)){let K=Object.freeze({type:"local",name:H});v.push(K)}else{let{procedure:K}=E,{description:oe}=K,{outputs:re}=oe,ue=H,{name:Ke,path:Yn}=re[0].data,zn=Object.freeze({type:"literal",literal:ue,name:Ke,path:Yn});v.push(zn)}f=Gs;break}case Gs:{let r=o[n];if(r===Pe){f=Ot;return}if(r===ve){f=ys;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,Ge);break}case ys:{let{branchMatch:r,procedure:i,stack:u}=E,{statements:p}=r;if(o[n]===Q){f=Hs,y(),E=Object.seal({procedure:i,stack:u,statements:p}),F=Oe,f=bt;return}t=S|0,s=c-P|0;let d=o.subarray(n,n+b|0),H=D(d);m(H,ct);break}case Hs:{j();let r=o.subarray(n,n+b|0),i=D(r);C=!0;break}case Vs:{f=Ys;break}case Ys:{if(o[n]===Q){j();return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,ct);break}case zs:{let{procedure:r,stack:i,statements:u}=E,p=Object.seal({type:fc,values:[]});u.push(p),y();let v=S|0,d=c-P|0,H=Object.freeze({row:v,column:d});E=Object.seal({commandReturn:p,coordinates:H,procedure:r,stack:i}),f=Ks;break}case Ks:{if(o[n]===Q){f=Tt,C=!0;return}f=ht,C=!0;break}case ht:{let{commandReturn:r,stack:i}=E,{values:u}=r,p=o.subarray(n,n+b|0),v=D(p);if(se(c,o,n,b)){t=S|0,s=c-P|0,O(v);return}if(i.has(v)){let d=Object.freeze({type:"local",name:v});u.push(d)}else{let{procedure:d}=E,{description:H}=d,{outputs:K}=H,oe=v,{name:re,path:ue}=K[0].data,Ke=Object.freeze({type:"literal",literal:oe,name:re,path:ue});u.push(Ke)}f=xs;break}case xs:{let r=o[n];if(r===Q){f=Tt,C=!0;return}if(r===Pe){f=ht;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,Wr);break}case Tt:{let{commandReturn:r,coordinates:i,procedure:u}=E,{values:p}=r,{description:v}=u,{outputs:d}=v;p.length!==d.length&&(t=i.row|0,s=i.column|0,h()),j(),j();break}case Xs:{let r=o.subarray(n,n+b|0),i=D(r),{procedure:u,stack:p,statements:v}=E,d=Object.freeze({type:St,name:i}),H=Object.seal({type:An,target:d,source:null});E=Object.freeze({declarationValue:H,procedure:u,stack:p,statements:v}),f=Ws;break}case Js:{let{procedure:r,stack:i,statements:u}=E,p=Object.seal({type:_c,link:be}),v=Object.seal({type:An,target:p,source:null});E=Object.freeze({declarationValue:v,procedure:r,stack:i,statements:u}),f=Qs;break}case Qs:{let r=o.subarray(n,n+b|0),i=D(r),{declarationValue:u}=E,{target:p}=u;p.link=i,f=pt;break}case Ws:{if(o[n]===ve){f=Zs;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,ec);break}case Zs:{let{declarationValue:r,procedure:i,stack:u}=E,{target:p}=r,{description:v}=i,{locals:d}=v,H=o.subarray(n,n+b|0),K=D(H);if(se(c,o,n,b)){t=S|0,s=c-P|0,O(K);return}let oe=Re(K);if(oe){let re=Object.seal({type:On,name:oe.name,path:oe.path});u.set(p.name,re);let ue=Object.freeze({name:p.name,data:re});d.push(ue)}f=pt;break}case pt:{let r=o.subarray(n,n+b|0);if($(r,xt)){f=$s;return}t=S|0,s=c-P|0;let i=D(r);m(i,Wt);break}case $s:{let{procedure:r,stack:i}=E;if(se(c,o,n,b)){let u=o.subarray(n,n+b|0),p=D(u);t=S|0,s=c-P|0,O(p);return}f=qs,y(),E=Object.seal({procedure:r,stack:i,value:null}),y(),F=de,f=ye,C=!0;break}case qs:{if(o[n]===Q){let{value:v}=E;j();let{declarationValue:d,statements:H}=E;d.source=v,H.push(d),j();return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,tc);break}}},yn=(c,o,n,b)=>{switch(f){case Nt:{let r=o.subarray(n,n+b|0),i=D(r);if(se(c,o,n,b)){t=S|0,s=c-P|0,O(i);return}let u=Re(i);if(u){E.data=Object.seal({type:On,name:u.name,path:u.path}),f=en;return}t=S|0,s=c-P|0,I(i),j();break}case en:{let r=o.subarray(n,n+b|0);if($(r,kr)){let{data:i}=E,{name:u,path:p}=i;E.data=Object.seal({type:hn,name:u,path:p,segment:be}),f=Lt;return}if($(r,Pr)){let{data:i}=E,{name:u,path:p}=i;E.data=Object.seal({type:hn,name:u,path:p,segment:be,unsafe:!0}),f=Lt;return}j(),C=!0;break}case Lt:{if(o[n]===Ur){f=tn;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,sc);break}case tn:{let r=o.subarray(n,n+b|0),i=D(r);E.data.segment=i,f=sn;break}case sn:{if(o[n]===wr){j();return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,nc);break}}},Hn=(c,o,n,b)=>{switch(f){case nn:{let r=Object.seal({type:"linkValue",link:null});E.value=r,f=on;break}case on:{let r=o.subarray(n,n+b|0),i=D(r);E.value.link=i,j();break}case rn:{let{stack:r}=E,i=o.subarray(n,n+b|0),u=D(i);if(r.has(u)){let p=Object.freeze({type:St,name:u});E.value=p,f=Rt;return}if(qe(c,o,n,b)){let v=Object.freeze({type:"literal",literal:u,name:"FP32",path:"Flogram"});E.value=v,f=Rt;return}t=S|0,s=c-P|0,I(u),j();break}case Rt:{if(o[n]===st){let{stack:i,value:u}=E,p=[],v=Object.freeze({type:Ec,value:u,trail:p});E.value=v,y(),E=Object.seal({stack:i,trail:p,value:u}),f=vt;return}j(),C=!0;break}case cn:{if(o[n]!==st){j(),j(),C=!0;return}f=vt;break}case vt:{let{stack:r,value:i,trail:u}=E,p=o.subarray(n,n+b|0),v=D(p),d,H;if(i.type===St){let{name:K}=i;d=r.get(K)}if(d){let{name:K,path:oe}=d,re=`${oe}.${K}`,ue=le.get(re);ue.type===Tn&&(H=ue)}if(H){let K=!1,{description:oe}=H,{members:re}=oe;for(let ue of re)if(ue.name===v){K=!0;break}if(!K){t=S|0,s=c-P|0,X(v);return}}u.push(v),f=cn;break}case an:{let r=o.subarray(n,n+b|0),i=D(r),u=Object.seal({type:ic,name:i,path:"Flogram",inputs:[]});E.value=u,f=ln;break}case ln:{if(o[n]===Fe){f=Ve;break}break}case Ve:{let r=o[n];if(r===Q)return;if(r===De){let{value:p}=E,{name:v}=p;if(!ae.has(v)){let d=Kr[v];N.push(d),ae.set(v,d)}j();return}if(se(c,o,n,b)){let p=o.subarray(n,n+b|0),v=D(p);t=S|0,s=c-P|0,O(v);return}let{procedure:i,stack:u}=E;f=un,y(),E=Object.seal({procedure:i,stack:u,value:null}),y(),F=de,f=ye,C=!0;break}case un:{let{value:r}=E;j();let{value:i}=E,{inputs:u}=i;u.push(r);let p=o[n];if(p===Pe){f=Ve;return}if(p===De){f=Ve,C=!0;return}t=S|0,s=c-P|0;let v=o.subarray(n,n+b|0),d=D(v);m(d,at);break}case fn:{let r=o.subarray(n,n+b|0),i=D(r),u=Object.seal({type:lc,name:i,path:V,inputs:[]});E.value=u,f=En;break}case En:{if(o[n]===Fe){f=Ye;return}t=S|0,s=c-P|0;let i=o.subarray(n,n+b|0),u=D(i);m(u,Qt);break}case Ye:{let r=o[n];if(r===Q)return;if(r===De){j();return}f=It,y(),f=_n,C=!0;break}case _n:{if(o[n]===Q)return;let{procedure:i,stack:u,value:p}=E,{inputs:v}=p,d=o.subarray(n,n+b|0),H=D(d),K=Object.seal({member:H,value:null});v.push(K),f=It,y(),E=Object.seal({assign:K}),y(),E=Object.seal({procedure:i,stack:u,value:null}),y(),f=mn;break}case mn:{let r=o.subarray(n,n+b|0);if($(r,xt)){f=bn;return}t=S|0,s=c-P|0;let i=D(r);m(i,Wt);break}case bn:{F=de,f=ye,C=!0;break}case It:{let{value:r}=E;j();let{assign:i}=E;i.value=r,j(),j();let u=o[n];if(u===De){f=Ye,C=!0;return}if(u===Pe){f=Ye;return}t=S|0,s=c-P|0;let p=o.subarray(n,n+b|0),v=D(p);m(v,at);break}}},Vn=(c,o)=>{switch(c){case je:{Te.push(o);break}case ce:{pe.push(o);break}}},y=()=>{let c=Object.freeze({item:E,indentation:e,situationGeneral:F,situationSection:f});_e.push(c)},j=()=>{let c=_e.pop();E=c.item,e=c.indentation,F=c.situationGeneral,f=c.situationSection},Ue=(c,o,n,b)=>{if(G)return;let r=()=>{Ne=!0,P=c|0,S=S+1};te=c+b|0;let i=o[n];if(i!==Mr){if(i===jr){me=!me;return}if(i===Q&&Ne){r();return}for(Ne=!1,C=!0;C;)switch(C=!1,F){case de:{Be(c,o,n,b);break}case Zt:{ie(c,o,n,b);break}case it:{Z(c,o,n,b);break}case $t:{jn(c,o,n,b);break}case lt:{gn(c,o,n,b);break}case qt:{Fn(c,o,n,b);break}case Oe:{Gn(c,o,n,b);break}case ut:{yn(c,o,n,b);break}case we:{Hn(c,o,n,b);break}default:throw ot}i===Q&&r()}};return Object.freeze({done:()=>{if(Ue(te,Ce,0,Ce.length),te=te+Ce.length|0,Ue(te,ke,0,ke.length),te=te+ke.length|0,Ue(te,Ce,0,Ce.length),te=te+Ce.length|0,ee){z.emit(je,null);return}z.emit(je,k)},feed:Ue,on:Vn})},bc=Object.freeze({create:mc,...gr,...Fr,...oc}),Bc=bc;export{Bc as default};
/*! Bundled license information:

eventemitter2/lib/eventemitter2.js:
  (*!
   * EventEmitter2
   * https://github.com/hij1nx/EventEmitter2
   *
   * Copyright (c) 2013 hij1nx
   * Licensed under the MIT license.
   *)
*/
